{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\workspace\\order\\xboot-plus-front\\src\\libs\\util.js","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\libs\\util.js","mtime":1652255565785},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\babel.config.js","mtime":1651629754991},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbIkBAaXRlcmF0b3IiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfQoKZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IGdldE1lbnVMaXN0IH0gZnJvbSAnQC9hcGkvaW5kZXgnOwppbXBvcnQgbGF6eUxvYWRpbmcgZnJvbSAnLi9sYXp5TG9hZGluZy5qcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXIvaW5kZXgnOwppbXBvcnQgQ29va2llcyBmcm9tICJqcy1jb29raWUiOwp2YXIgdXRpbCA9IHt9OwoKdXRpbC50aXRsZSA9IGZ1bmN0aW9uICh0aXRsZSkgewogIHRpdGxlID0gdGl0bGUgfHwgJ1hCb2905LiA56uZ5byP5YmN5ZCO56uv5YiG56a75b+r6YCf5byA5Y+R5bmz5Y+wJzsKICB3aW5kb3cuZG9jdW1lbnQudGl0bGUgPSB0aXRsZTsKfTsKCnV0aWwuZ2V0VXNlckluZm8gPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHYgPSBDb29raWVzLmdldCgidXNlckluZm8iKTsKCiAgaWYgKHYpIHsKICAgIGZvciAodmFyIGF0dHIgaW4gdikgewogICAgICBpZiAodlthdHRyXSA9PSBudWxsKSB7CiAgICAgICAgdlthdHRyXSA9ICIiOwogICAgICB9CiAgICB9CgogICAgdmFyIHN0ciA9IEpTT04uc3RyaW5naWZ5KHYpOwogICAgdmFyIHVzZXJJbmZvID0gSlNPTi5wYXJzZShzdHIpOwogICAgcmV0dXJuIEpTT04ucGFyc2UodXNlckluZm8pOwogIH0KCiAgcmV0dXJuIG51bGw7Cn07Cgp1dGlsLm1pbGxzVG9UaW1lID0gZnVuY3Rpb24gKG1pbGxzKSB7CiAgaWYgKCFtaWxscykgewogICAgcmV0dXJuICIiOwogIH0KCiAgdmFyIHMgPSBtaWxscyAvIDEwMDA7CgogIGlmIChzIDwgNjApIHsKICAgIHJldHVybiBzLnRvRml4ZWQoMCkgKyAiIOenkiI7CiAgfQoKICB2YXIgbSA9IHMgLyA2MDsKCiAgaWYgKG0gPCA2MCkgewogICAgcmV0dXJuIG0udG9GaXhlZCgwKSArICIg5YiG6ZKfIjsKICB9CgogIHZhciBoID0gbSAvIDYwOwoKICBpZiAoaCA8IDI0KSB7CiAgICByZXR1cm4gaC50b0ZpeGVkKDApICsgIiDlsI/ml7YiOwogIH0KCiAgdmFyIGQgPSBoIC8gMjQ7CgogIGlmIChkIDwgMzApIHsKICAgIHJldHVybiBkLnRvRml4ZWQoMCkgKyAiIOWkqSI7CiAgfQoKICB2YXIgbW9udGggPSBkIC8gMzA7CgogIGlmIChtb250aCA8IDEyKSB7CiAgICByZXR1cm4gbW9udGgudG9GaXhlZCgwKSArICIg5Liq5pyIIjsKICB9CgogIHZhciB5ZWFyID0gbW9udGggLyAxMjsKICByZXR1cm4geWVhci50b0ZpeGVkKDApICsgIiDlubQiOwp9OwoKdXRpbC5nZXRGaWxlU2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7CiAgaWYgKCFzaXplKSByZXR1cm4gIjAgS0IiOwogIHZhciBudW0gPSAxMDI0LjAwOwogIGlmIChzaXplIDwgbnVtKSByZXR1cm4gc2l6ZSArICIgQnl0ZSI7CiAgaWYgKHNpemUgPCBNYXRoLnBvdyhudW0sIDIpKSByZXR1cm4gKHNpemUgLyBudW0pLnRvRml4ZWQoMikgKyAiIEtCIjsKICBpZiAoc2l6ZSA8IE1hdGgucG93KG51bSwgMykpIHJldHVybiAoc2l6ZSAvIE1hdGgucG93KG51bSwgMikpLnRvRml4ZWQoMikgKyAiIE1CIjsKICBpZiAoc2l6ZSA8IE1hdGgucG93KG51bSwgNCkpIHJldHVybiAoc2l6ZSAvIE1hdGgucG93KG51bSwgMykpLnRvRml4ZWQoMikgKyAiIEdCIjsKICByZXR1cm4gKHNpemUgLyBNYXRoLnBvdyhudW0sIDQpKS50b0ZpeGVkKDIpICsgIiBUQiI7Cn07Cgp1dGlsLmVsbGlwc2lzID0gZnVuY3Rpb24gKHYsIHNpemUpIHsKICBpZiAoc2l6ZSA8PSAwKSB7CiAgICByZXR1cm4gdjsKICB9CgogIHJldHVybiB2ID8gdi5sZW5ndGggPiAxMiA/IHYuc3Vic3RyaW5nKDAsIHNpemUpICsgIi4uLiIgOiB2IDogIiI7Cn07Cgp1dGlsLmluT2YgPSBmdW5jdGlvbiAoYXJyLCB0YXJnZXRBcnIpIHsKICB2YXIgcmVzID0gdHJ1ZTsKICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgaWYgKHRhcmdldEFyci5pbmRleE9mKGl0ZW0pIDwgMCkgewogICAgICByZXMgPSBmYWxzZTsKICAgIH0KICB9KTsKICByZXR1cm4gcmVzOwp9OwoKdXRpbC5vbmVPZiA9IGZ1bmN0aW9uIChlbGUsIHRhcmdldEFycikgewogIGlmICh0YXJnZXRBcnIuaW5kZXhPZihlbGUpID49IDApIHsKICAgIHJldHVybiB0cnVlOwogIH0gZWxzZSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQp9OwoKdXRpbC5nZXRSb3V0ZXJPYmpCeU5hbWUgPSBmdW5jdGlvbiAocm91dGVycywgbmFtZSkgewogIGlmICghbmFtZSB8fCAhcm91dGVycyB8fCAhcm91dGVycy5sZW5ndGgpIHsKICAgIHJldHVybiBudWxsOwogIH0KCiAgdmFyIHJvdXRlck9iaiA9IG51bGw7CgogIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyb3V0ZXJzKSwKICAgICAgX3N0ZXA7CgogIHRyeSB7CiAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlOwoKICAgICAgaWYgKGl0ZW0ubmFtZSA9PSBuYW1lKSB7CiAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgIH0KCiAgICAgIHJvdXRlck9iaiA9IHV0aWwuZ2V0Um91dGVyT2JqQnlOYW1lKGl0ZW0uY2hpbGRyZW4sIG5hbWUpOwoKICAgICAgaWYgKHJvdXRlck9iaikgewogICAgICAgIHJldHVybiByb3V0ZXJPYmo7CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9pdGVyYXRvci5lKGVycik7CiAgfSBmaW5hbGx5IHsKICAgIF9pdGVyYXRvci5mKCk7CiAgfQoKICByZXR1cm4gbnVsbDsKfTsKCnV0aWwuaGFuZGxlVGl0bGUgPSBmdW5jdGlvbiAodm0sIGl0ZW0pIHsKICBpZiAoaXRlbS5sb2NhbGl6ZSAmJiBpdGVtLmkxOG4pIHsKICAgIHJldHVybiB2bS4kdChpdGVtLmkxOG4pOwogIH0gZWxzZSB7CiAgICByZXR1cm4gaXRlbS50aXRsZTsKICB9Cn07Cgp1dGlsLnNldEN1cnJlbnRQYXRoID0gZnVuY3Rpb24gKHZtLCBuYW1lKSB7CiAgdmFyIHRpdGxlID0gJyc7CiAgdmFyIGlzT3RoZXJSb3V0ZXIgPSBmYWxzZTsKICB2bS4kc3RvcmUuc3RhdGUuYXBwLnJvdXRlcnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgaWYgKGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID09IDEpIHsKICAgICAgaWYgKGl0ZW0uY2hpbGRyZW5bMF0ubmFtZSA9PSBuYW1lKSB7CiAgICAgICAgdGl0bGUgPSB1dGlsLmhhbmRsZVRpdGxlKHZtLCBpdGVtKTsKCiAgICAgICAgaWYgKGl0ZW0ubmFtZSA9PSAnb3RoZXJSb3V0ZXInKSB7CiAgICAgICAgICBpc090aGVyUm91dGVyID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGl0ZW0uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICBpZiAoY2hpbGQubmFtZSA9PSBuYW1lKSB7CiAgICAgICAgICB0aXRsZSA9IHV0aWwuaGFuZGxlVGl0bGUodm0sIGNoaWxkKTsKCiAgICAgICAgICBpZiAoaXRlbS5uYW1lID09ICdvdGhlclJvdXRlcicpIHsKICAgICAgICAgICAgaXNPdGhlclJvdXRlciA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9KTsKICB2YXIgY3VycmVudFBhdGhBcnIgPSBbXTsKCiAgaWYgKG5hbWUgPT0gJ2hvbWVfaW5kZXgnKSB7CiAgICBjdXJyZW50UGF0aEFyciA9IFt7CiAgICAgIHRpdGxlOiB1dGlsLmhhbmRsZVRpdGxlKHZtLCB1dGlsLmdldFJvdXRlck9iakJ5TmFtZSh2bS4kc3RvcmUuc3RhdGUuYXBwLnJvdXRlcnMsICdob21lX2luZGV4JykpLAogICAgICBwYXRoOiAnJywKICAgICAgbmFtZTogJ2hvbWVfaW5kZXgnCiAgICB9XTsKICB9IGVsc2UgaWYgKChuYW1lLmluZGV4T2YoJ19pbmRleCcpID49IDAgfHwgaXNPdGhlclJvdXRlcikgJiYgbmFtZSAhPT0gJ2hvbWVfaW5kZXgnKSB7CiAgICBjdXJyZW50UGF0aEFyciA9IFt7CiAgICAgIHRpdGxlOiB1dGlsLmhhbmRsZVRpdGxlKHZtLCB1dGlsLmdldFJvdXRlck9iakJ5TmFtZSh2bS4kc3RvcmUuc3RhdGUuYXBwLnJvdXRlcnMsICdob21lX2luZGV4JykpLAogICAgICBwYXRoOiAnL2hvbWUnLAogICAgICBuYW1lOiAnaG9tZV9pbmRleCcKICAgIH0sIHsKICAgICAgdGl0bGU6IHRpdGxlLAogICAgICBwYXRoOiAnJywKICAgICAgbmFtZTogbmFtZQogICAgfV07CiAgfSBlbHNlIHsKICAgIHZhciBjdXJyZW50UGF0aE9iaiA9IHZtLiRzdG9yZS5zdGF0ZS5hcHAucm91dGVycy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4ubGVuZ3RoIDw9IDEpIHsKICAgICAgICByZXR1cm4gaXRlbS5jaGlsZHJlblswXS5uYW1lID09IG5hbWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGkgPSAwOwogICAgICAgIHZhciBjaGlsZEFyciA9IGl0ZW0uY2hpbGRyZW47CiAgICAgICAgdmFyIGxlbiA9IGNoaWxkQXJyLmxlbmd0aDsKCiAgICAgICAgd2hpbGUgKGkgPCBsZW4pIHsKICAgICAgICAgIGlmIChjaGlsZEFycltpXS5uYW1lID09IG5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgaSsrOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9KVswXTsKCiAgICBpZiAoY3VycmVudFBhdGhPYmouY2hpbGRyZW4ubGVuZ3RoIDw9IDEgJiYgY3VycmVudFBhdGhPYmoubmFtZSA9PSAnaG9tZScpIHsKICAgICAgY3VycmVudFBhdGhBcnIgPSBbewogICAgICAgIHRpdGxlOiB2bS4kdCgnaG9tZScpLAogICAgICAgIHBhdGg6ICcnLAogICAgICAgIG5hbWU6ICdob21lX2luZGV4JwogICAgICB9XTsKICAgIH0gZWxzZSBpZiAoY3VycmVudFBhdGhPYmouY2hpbGRyZW4ubGVuZ3RoIDw9IDEgJiYgY3VycmVudFBhdGhPYmoubmFtZSAhPT0gJ2hvbWUnKSB7CiAgICAgIGN1cnJlbnRQYXRoQXJyID0gW3sKICAgICAgICB0aXRsZTogdm0uJHQoJ2hvbWUnKSwKICAgICAgICBwYXRoOiAnL2hvbWUnLAogICAgICAgIG5hbWU6ICdob21lX2luZGV4JwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6IGN1cnJlbnRQYXRoT2JqLnRpdGxlLAogICAgICAgIHBhdGg6ICcnLAogICAgICAgIG5hbWU6IG5hbWUKICAgICAgfV07CiAgICB9IGVsc2UgewogICAgICB2YXIgY2hpbGRPYmogPSBjdXJyZW50UGF0aE9iai5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgcmV0dXJuIGNoaWxkLm5hbWUgPT0gbmFtZTsKICAgICAgfSlbMF07CiAgICAgIGN1cnJlbnRQYXRoQXJyID0gW3sKICAgICAgICB0aXRsZTogdm0uJHQoJ2hvbWUnKSwKICAgICAgICBwYXRoOiAnL2hvbWUnLAogICAgICAgIG5hbWU6ICdob21lX2luZGV4JwogICAgICB9LCB7CiAgICAgICAgdGl0bGU6IGN1cnJlbnRQYXRoT2JqLnRpdGxlLAogICAgICAgIHBhdGg6ICcnLAogICAgICAgIG5hbWU6IGN1cnJlbnRQYXRoT2JqLm5hbWUKICAgICAgfSwgewogICAgICAgIHRpdGxlOiBjaGlsZE9iai50aXRsZSwKICAgICAgICBwYXRoOiBjdXJyZW50UGF0aE9iai5wYXRoICsgJy8nICsgY2hpbGRPYmoucGF0aCwKICAgICAgICBuYW1lOiBuYW1lCiAgICAgIH1dOwogICAgfQogIH0KCiAgdm0uJHN0b3JlLmNvbW1pdCgnc2V0Q3VycmVudFBhdGgnLCBjdXJyZW50UGF0aEFycik7CiAgcmV0dXJuIGN1cnJlbnRQYXRoQXJyOwp9OwoKdXRpbC5vcGVuTmV3UGFnZSA9IGZ1bmN0aW9uICh2bSwgbmFtZSwgYXJndSwgcXVlcnkpIHsKICBpZiAoIXZtLiRzdG9yZSkgewogICAgcmV0dXJuOwogIH0KCiAgdmFyIHBhZ2VPcGVuZWRMaXN0ID0gdm0uJHN0b3JlLnN0YXRlLmFwcC5wYWdlT3BlbmVkTGlzdDsKICB2YXIgb3BlbmVkUGFnZUxlbiA9IHBhZ2VPcGVuZWRMaXN0Lmxlbmd0aDsKICB2YXIgaSA9IDA7CiAgdmFyIHRhZ0hhc09wZW5lZCA9IGZhbHNlOwoKICB3aGlsZSAoaSA8IG9wZW5lZFBhZ2VMZW4pIHsKICAgIGlmIChuYW1lID09IHBhZ2VPcGVuZWRMaXN0W2ldLm5hbWUpIHsKICAgICAgLy8g6aG16Z2i5bey57uP5omT5byACiAgICAgIHZtLiRzdG9yZS5jb21taXQoJ3BhZ2VPcGVuZWRMaXN0JywgewogICAgICAgIGluZGV4OiBpLAogICAgICAgIGFyZ3U6IGFyZ3UsCiAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgIH0pOwogICAgICB0YWdIYXNPcGVuZWQgPSB0cnVlOwogICAgICBicmVhazsKICAgIH0KCiAgICBpKys7CiAgfQoKICBpZiAoIXRhZ0hhc09wZW5lZCkgewogICAgdmFyIHRhZyA9IHZtLiRzdG9yZS5zdGF0ZS5hcHAudGFnc0xpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGlmIChpdGVtLmNoaWxkcmVuKSB7CiAgICAgICAgcmV0dXJuIG5hbWUgPT0gaXRlbS5jaGlsZHJlblswXS5uYW1lOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBuYW1lID09IGl0ZW0ubmFtZTsKICAgICAgfQogICAgfSk7CiAgICB0YWcgPSB0YWdbMF07CgogICAgaWYgKHRhZykgewogICAgICB0YWcgPSB0YWcuY2hpbGRyZW4gPyB0YWcuY2hpbGRyZW5bMF0gOiB0YWc7CgogICAgICBpZiAoYXJndSkgewogICAgICAgIHRhZy5hcmd1ID0gYXJndTsKICAgICAgfQoKICAgICAgaWYgKHF1ZXJ5KSB7CiAgICAgICAgdGFnLnF1ZXJ5ID0gcXVlcnk7CiAgICAgIH0KCiAgICAgIHZtLiRzdG9yZS5jb21taXQoJ2luY3JlYXRlVGFnJywgdGFnKTsKICAgIH0KICB9CgogIHZtLiRzdG9yZS5jb21taXQoJ3NldEN1cnJlbnRQYWdlTmFtZScsIG5hbWUpOwp9OwoKdXRpbC50b0RlZmF1bHRQYWdlID0gZnVuY3Rpb24gKHJvdXRlcnMsIG5hbWUsIHJvdXRlLCBuZXh0KSB7CiAgdmFyIGxlbiA9IHJvdXRlcnMubGVuZ3RoOwogIHZhciBpID0gMDsKICB2YXIgbm90SGFuZGxlID0gdHJ1ZTsKCiAgd2hpbGUgKGkgPCBsZW4pIHsKICAgIGlmIChyb3V0ZXJzW2ldLm5hbWUgPT0gbmFtZSAmJiByb3V0ZXJzW2ldLmNoaWxkcmVuICYmIHJvdXRlcnNbaV0ucmVkaXJlY3QgPT0gdW5kZWZpbmVkKSB7CiAgICAgIHJvdXRlLnJlcGxhY2UoewogICAgICAgIG5hbWU6IHJvdXRlcnNbaV0uY2hpbGRyZW5bMF0ubmFtZQogICAgICB9KTsKICAgICAgbm90SGFuZGxlID0gZmFsc2U7CiAgICAgIG5leHQoKTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgaSsrOwogIH0KCiAgaWYgKG5vdEhhbmRsZSkgewogICAgbmV4dCgpOwogIH0KfTsgLy8g5bCGQ3N25paH5Lu26Kej5p6Q5Li65LqM57u05pWw57uECgoKZXhwb3J0IHZhciBnZXRBcnJheUZyb21GaWxlID0gZnVuY3Rpb24gZ2V0QXJyYXlGcm9tRmlsZShmaWxlKSB7CiAgdmFyIG5hbWVTcGxpdCA9IGZpbGUubmFtZS5zcGxpdCgnLicpOwogIHZhciBmb3JtYXQgPSBuYW1lU3BsaXRbbmFtZVNwbGl0Lmxlbmd0aCAtIDFdOwogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpOyAvLyDku6XmlofmnKzmoLzlvI/or7vlj5YKCiAgICB2YXIgYXJyID0gW107CgogICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgdmFyIGRhdGEgPSBldnQudGFyZ2V0LnJlc3VsdDsgLy8g6K+75Yiw55qE5pWw5o2uCgogICAgICB2YXIgcGFzdGVEYXRhID0gZGF0YS50cmltKCk7CiAgICAgIGFyciA9IHBhc3RlRGF0YS5zcGxpdCgvW1xuXHUwMDg1XHUyMDI4XHUyMDI5XXxcclxuPy9nKS5tYXAoZnVuY3Rpb24gKHJvdykgewogICAgICAgIHJldHVybiByb3cuc3BsaXQoJ1x0Jyk7CiAgICAgIH0pLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtWzBdLnNwbGl0KCcsJyk7CiAgICAgIH0pOwogICAgICBpZiAoZm9ybWF0ID09ICdjc3YnKSByZXNvbHZlKGFycik7ZWxzZSByZWplY3QobmV3IEVycm9yKCdbRm9ybWF0IEVycm9yXTrkuI3mmK9Dc3bmlofku7YnKSk7CiAgICB9OwogIH0pOwp9OyAvLyDlsIbkuoznu7TmlbDnu4TovazkuLrooajmoLzmlbDmja4KCmV4cG9ydCB2YXIgZ2V0VGFibGVEYXRhRnJvbUFycmF5ID0gZnVuY3Rpb24gZ2V0VGFibGVEYXRhRnJvbUFycmF5KGFycmF5KSB7CiAgdmFyIGNvbHVtbnMgPSBbXTsKICB2YXIgdGFibGVEYXRhID0gW107CgogIGlmIChhcnJheS5sZW5ndGggPiAxKSB7CiAgICB2YXIgdGl0bGVzID0gYXJyYXkuc2hpZnQoKTsKICAgIGNvbHVtbnMgPSB0aXRsZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdGl0bGU6IGl0ZW0sCiAgICAgICAga2V5OiBpdGVtCiAgICAgIH07CiAgICB9KTsKICAgIHRhYmxlRGF0YSA9IGFycmF5Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICB2YXIgcmVzID0ge307CiAgICAgIGl0ZW0uZm9yRWFjaChmdW5jdGlvbiAoY29sLCBpKSB7CiAgICAgICAgcmVzW3RpdGxlc1tpXV0gPSBjb2w7CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzOwogICAgfSk7CiAgfQoKICByZXR1cm4gewogICAgY29sdW1uczogY29sdW1ucywKICAgIHRhYmxlRGF0YTogdGFibGVEYXRhCiAgfTsKfTsKCnV0aWwuaW5pdFJvdXRlciA9IGZ1bmN0aW9uICh2bSkgewogIHZhciBjb25zdFJvdXRlcyA9IFtdOwogIHZhciBvdGhlclJvdXRlcyA9IFtdOyAvLyA0MDTot6/nlLHpnIDopoHlkozliqjmgIHot6/nlLHkuIDotbfliqDovb0KCiAgdmFyIG90aGVyUm91dGVyID0gW3sKICAgIHBhdGg6ICcvKicsCiAgICBuYW1lOiAnZXJyb3ItNDA0JywKICAgIG1ldGE6IHsKICAgICAgdGl0bGU6ICc0MDQt6aG16Z2i5LiN5a2Y5ZyoJwogICAgfSwKICAgIGNvbXBvbmVudDogJ2Vycm9yLXBhZ2UvNDA0JwogIH1dOyAvLyDliKTmlq3nlKjmiLfmmK/lkKbnmbvlvZUKCiAgdmFyIHVzZXJJbmZvID0gQ29va2llcy5nZXQoJ3VzZXJJbmZvJyk7CgogIGlmICghdXNlckluZm8pIHsKICAgIC8vIOacqueZu+W9lQogICAgcmV0dXJuOwogIH0KCiAgaWYgKCF2bS4kc3RvcmUuc3RhdGUuYXBwLmFkZGVkKSB7CiAgICB2bS4kTG9hZGluZy5zdGFydCgpOyAvLyDnrKzkuIDmrKHliqDovb0g6K+75Y+W5pWw5o2uCgogICAgdmFyIGFjY2Vzc1Rva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NUb2tlbicpOyAvLyDliqDovb3oj5zljZUKCiAgICBheGlvcy5nZXQoZ2V0TWVudUxpc3QsIHsKICAgICAgaGVhZGVyczogewogICAgICAgICdhY2Nlc3NUb2tlbic6IGFjY2Vzc1Rva2VuCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICB2bS4kTG9hZGluZy5maW5pc2goKTsKICAgICAgdmFyIG1lbnVEYXRhID0gcmVzLnJlc3VsdDsKCiAgICAgIGlmICghbWVudURhdGEpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHV0aWwuaW5pdEFsbE1lbnVEYXRhKGNvbnN0Um91dGVzLCBtZW51RGF0YSk7CiAgICAgIHV0aWwuaW5pdFJvdXRlck5vZGUob3RoZXJSb3V0ZXMsIG90aGVyUm91dGVyKTsgLy8g5re75Yqg5omA5pyJ5Li755WM6Z2i6Lev55SxCgogICAgICB2bS4kc3RvcmUuY29tbWl0KCd1cGRhdGVBcHBSb3V0ZXInLCBjb25zdFJvdXRlcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwOwogICAgICB9KSk7IC8vIOa3u+WKoOWFqOWxgOi3r+eUsQoKICAgICAgdm0uJHN0b3JlLmNvbW1pdCgndXBkYXRlRGVmYXVsdFJvdXRlcicsIG90aGVyUm91dGVzKTsgLy8g5re75Yqg6I+c5Y2V6Lev55SxCgogICAgICB1dGlsLmluaXRNZW51RGF0YSh2bSwgbWVudURhdGEpOyAvLyDnvJPlrZjmlbDmja4g5L+u5pS55Yqg6L295qCH6K+GCgogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21lbnVEYXRhJywgSlNPTi5zdHJpbmdpZnkobWVudURhdGEpKTsKICAgICAgdm0uJHN0b3JlLmNvbW1pdCgnc2V0QWRkZWQnLCB0cnVlKTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICAvLyDor7vlj5bnvJPlrZjmlbDmja4KICAgIHZhciBkYXRhID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtZW51RGF0YScpOwoKICAgIGlmICghZGF0YSkgewogICAgICB2bS4kc3RvcmUuY29tbWl0KCdzZXRBZGRlZCcsIGZhbHNlKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBtZW51RGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7IC8vIOa3u+WKoOiPnOWNlei3r+eUsQoKICAgIHV0aWwuaW5pdE1lbnVEYXRhKHZtLCBtZW51RGF0YSk7CiAgfQp9OyAvLyDmt7vliqDmiYDmnInpobbpg6jlr7zoiKrmoI/kuIvnmoToj5zljZXot6/nlLEKCgp1dGlsLmluaXRBbGxNZW51RGF0YSA9IGZ1bmN0aW9uIChjb25zdFJvdXRlcywgZGF0YSkgewogIHZhciBhbGxNZW51RGF0YSA9IFtdOwogIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgaWYgKGUudHlwZSA9PSAtMSkgewogICAgICBlLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBhbGxNZW51RGF0YS5wdXNoKGl0ZW0pOwogICAgICB9KTsKICAgIH0KICB9KTsKICB1dGlsLmluaXRSb3V0ZXJOb2RlKGNvbnN0Um91dGVzLCBhbGxNZW51RGF0YSk7Cn07IC8vIOeUn+aIkOiPnOWNleagvOW8j+aVsOaNrgoKCnV0aWwuaW5pdE1lbnVEYXRhID0gZnVuY3Rpb24gKHZtLCBkYXRhKSB7CiAgZGF0YS5zcGxpY2UoMSwgZGF0YS5sZW5ndGggLSAxKTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhWzBdLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICBpZiAoZGF0YVswXS5jaGlsZHJlbltpXS50aXRsZSA9PSAiQXBw566h55CG77yIdG9C77yJIikgewogICAgICBkYXRhWzBdLmNoaWxkcmVuLnNwbGljZShpLCAxKTsKICAgIH0KICB9CgogIGZvciAodmFyIF9pID0gMDsgX2kgPCBkYXRhWzBdLmNoaWxkcmVuLmxlbmd0aDsgX2krKykgewogICAgaWYgKGRhdGFbMF0uY2hpbGRyZW5bX2ldLnRpdGxlID09ICLlt6XkvZzmtYHnqIsiKSB7CiAgICAgIGRhdGFbMF0uY2hpbGRyZW4uc3BsaWNlKF9pLCAxKTsKICAgIH0KICB9CgogIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGRhdGFbMF0uY2hpbGRyZW4ubGVuZ3RoOyBfaTIrKykgewogICAgaWYgKGRhdGFbMF0uY2hpbGRyZW5bX2kyXS50aXRsZSA9PSAi5byA5pS+5bmz5Y+wIikgewogICAgICBkYXRhWzBdLmNoaWxkcmVuLnNwbGljZShfaTIsIDEpOwogICAgfQogIH0KCiAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgZGF0YVswXS5jaGlsZHJlbi5sZW5ndGg7IF9pMysrKSB7CiAgICBpZiAoZGF0YVswXS5jaGlsZHJlbltfaTNdLnRpdGxlID09ICLmmbrog73liqnmiYvlrqLmnI0iKSB7CiAgICAgIGRhdGFbMF0uY2hpbGRyZW4uc3BsaWNlKF9pMywgMSk7CiAgICB9CiAgfQoKICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCBkYXRhWzBdLmNoaWxkcmVuLmxlbmd0aDsgX2k0KyspIHsKICAgIGlmIChkYXRhWzBdLmNoaWxkcmVuW19pNF0udGl0bGUgPT0gIuWQjuWPsFZ1ZeaooeeJiCIpIHsKICAgICAgZGF0YVswXS5jaGlsZHJlbi5zcGxpY2UoX2k0LCAxKTsKICAgIH0KICB9CgogIGZvciAodmFyIF9pNSA9IDA7IF9pNSA8IGRhdGFbMF0uY2hpbGRyZW4ubGVuZ3RoOyBfaTUrKykgewogICAgaWYgKGRhdGFbMF0uY2hpbGRyZW5bX2k1XS50aXRsZSA9PSAi5Zu+6KGo5pWw5o2u5aSn5bGPIikgewogICAgICBkYXRhWzBdLmNoaWxkcmVuLnNwbGljZShfaTUsIDEpOwogICAgfQogIH0KCiAgZm9yICh2YXIgX2k2ID0gMDsgX2k2IDwgZGF0YVswXS5jaGlsZHJlbi5sZW5ndGg7IF9pNisrKSB7CiAgICBpZiAoZGF0YVswXS5jaGlsZHJlbltfaTZdLnRpdGxlID09ICJYQm9vdOS4muWKoee7hOS7tiIpIHsKICAgICAgZGF0YVswXS5jaGlsZHJlbi5zcGxpY2UoX2k2LCAxKTsKICAgIH0KICB9CgogIGZvciAodmFyIF9pNyA9IDA7IF9pNyA8IGRhdGFbMF0uY2hpbGRyZW4ubGVuZ3RoOyBfaTcrKykgewogICAgaWYgKGRhdGFbMF0uY2hpbGRyZW5bX2k3XS50aXRsZSA9PSAi56ys5LiJ5pa55L6d6LWW5bel5YW3L+e7hOS7tiIpIHsKICAgICAgZGF0YVswXS5jaGlsZHJlbi5zcGxpY2UoX2k3LCAxKTsKICAgIH0KICB9CgogIGZvciAodmFyIF9pOCA9IDA7IF9pOCA8IGRhdGFbMF0uY2hpbGRyZW4ubGVuZ3RoOyBfaTgrKykgewogICAgaWYgKGRhdGFbMF0uY2hpbGRyZW5bX2k4XS50aXRsZSA9PSAi5p2D6ZmQ5rWL6K+V6aG1IikgewogICAgICBkYXRhWzBdLmNoaWxkcmVuLnNwbGljZShfaTgsIDEpOwogICAgfQogIH0KCiAgZm9yICh2YXIgX2k5ID0gMDsgX2k5IDwgZGF0YVswXS5jaGlsZHJlbi5sZW5ndGg7IF9pOSsrKSB7CiAgICBpZiAoZGF0YVswXS5jaGlsZHJlbltfaTldLnRpdGxlID09ICLljZXngrnnmbvlvZXmtYvor5Xnq5kiKSB7CiAgICAgIGRhdGFbMF0uY2hpbGRyZW4uc3BsaWNlKF9pOSwgMSk7CiAgICB9CiAgfQoKICBjb25zb2xlLmxvZyhkYXRhKTsKICB2YXIgbWVudVJvdXRlcyA9IFtdOwogIHZhciBtZW51RGF0YSA9IGRhdGE7IC8vIOmhtumDqOiPnOWNlQoKICB2YXIgbmF2TGlzdCA9IFtdOwogIG1lbnVEYXRhLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgIHZhciBuYXYgPSB7CiAgICAgIG5hbWU6IGUubmFtZSwKICAgICAgdGl0bGU6IGUudGl0bGUsCiAgICAgIGljb246IGUuaWNvbiwKICAgICAgaXNNZW51OiBlLmlzTWVudSwKICAgICAgdXJsOiBlLnVybCwKICAgICAgZGVzY3JpcHRpb246IGUuZGVzY3JpcHRpb24sCiAgICAgIGNvbXBvbmVudDogZS5jb21wb25lbnQsCiAgICAgIGxvY2FsaXplOiBlLmxvY2FsaXplLAogICAgICBpMThuOiBlLmkxOG4KICAgIH07CiAgICBuYXZMaXN0LnB1c2gobmF2KTsKICB9KTsKCiAgaWYgKG5hdkxpc3QubGVuZ3RoIDwgMSkgewogICAgcmV0dXJuOwogIH0gLy8g5a2Y5YWldnVleAoKCiAgdm0uJHN0b3JlLmNvbW1pdCgnc2V0TmF2TGlzdCcsIG5hdkxpc3QpOwogIHZhciBjdXJyTmF2ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyTmF2Jyk7CgogIGlmIChjdXJyTmF2KSB7CiAgICAvLyDor7vlj5bnvJPlrZh0aXRsZQogICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihuYXZMaXN0KSwKICAgICAgICBfc3RlcDI7CgogICAgdHJ5IHsKICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICB2YXIgaXRlbSA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgaWYgKGl0ZW0ubmFtZSA9PSBjdXJyTmF2KSB7CiAgICAgICAgICB2bS4kc3RvcmUuY29tbWl0KCdzZXRDdXJyTmF2VGl0bGUnLCB1dGlsLmhhbmRsZVRpdGxlKHZtLCBpdGVtKSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgfQogIH0gZWxzZSB7CiAgICAvLyDpu5jorqTnrKzkuIDkuKoKICAgIGN1cnJOYXYgPSBuYXZMaXN0WzBdLm5hbWU7CiAgICB2bS4kc3RvcmUuY29tbWl0KCdzZXRDdXJyTmF2VGl0bGUnLCB1dGlsLmhhbmRsZVRpdGxlKHZtLCBuYXZMaXN0WzBdKSk7CiAgfQoKICB2bS4kc3RvcmUuY29tbWl0KCdzZXRDdXJyTmF2JywgY3Vyck5hdik7CgogIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobWVudURhdGEpLAogICAgICBfc3RlcDM7CgogIHRyeSB7CiAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICB2YXIgaXRlbSA9IF9zdGVwMy52YWx1ZTsKCiAgICAgIGlmIChpdGVtLm5hbWUgPT0gY3Vyck5hdikgewogICAgICAgIC8vIOi/h+a7pAogICAgICAgIG1lbnVEYXRhID0gaXRlbS5jaGlsZHJlbjsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgfSBmaW5hbGx5IHsKICAgIF9pdGVyYXRvcjMuZigpOwogIH0KCiAgdXRpbC5pbml0Um91dGVyTm9kZShtZW51Um91dGVzLCBtZW51RGF0YSk7IC8vIOWIt+aWsOeVjOmdouiPnOWNlQoKICB2bS4kc3RvcmUuY29tbWl0KCd1cGRhdGVNZW51bGlzdCcsIG1lbnVSb3V0ZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwOwogIH0pKTsKICB2YXIgdGFnc0xpc3QgPSBbXTsKICB2bS4kc3RvcmUuc3RhdGUuYXBwLnJvdXRlcnMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoaXRlbS5jaGlsZHJlbi5sZW5ndGggPD0gMSkgewogICAgICB0YWdzTGlzdC5wdXNoKGl0ZW0uY2hpbGRyZW5bMF0pOwogICAgfSBlbHNlIHsKICAgICAgdGFnc0xpc3QucHVzaC5hcHBseSh0YWdzTGlzdCwgX3RvQ29uc3VtYWJsZUFycmF5KGl0ZW0uY2hpbGRyZW4pKTsKICAgIH0KICB9KTsKICB2bS4kc3RvcmUuY29tbWl0KCdzZXRUYWdzTGlzdCcsIHRhZ3NMaXN0KTsKfTsgLy8g55Sf5oiQ6Lev55Sx6IqC54K5CgoKdXRpbC5pbml0Um91dGVyTm9kZSA9IGZ1bmN0aW9uIChyb3V0ZXJzLCBkYXRhKSB7CiAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihkYXRhKSwKICAgICAgX3N0ZXA0OwoKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHsKICAgICAgdmFyIGl0ZW0gPSBfc3RlcDQudmFsdWU7CiAgICAgIHZhciBtZW51ID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7IC8vIG1lbnUuY29tcG9uZW50ID0gaW1wb3J0KGBAL3ZpZXdzLyR7bWVudS5jb21wb25lbnR9LnZ1ZWApOwoKICAgICAgbWVudS5jb21wb25lbnQgPSBsYXp5TG9hZGluZyhtZW51LmNvbXBvbmVudCk7CgogICAgICBpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICBtZW51LmNoaWxkcmVuID0gW107CiAgICAgICAgdXRpbC5pbml0Um91dGVyTm9kZShtZW51LmNoaWxkcmVuLCBpdGVtLmNoaWxkcmVuKTsKICAgICAgfQoKICAgICAgdmFyIG1ldGEgPSB7fTsgLy8g57uZ6aG16Z2i5re75Yqg5p2D6ZmQ44CB5qCH6aKY44CB56ys5LiJ5pa5572R6aG16ZO+5o6lCgogICAgICBtZXRhLnBlcm1UeXBlcyA9IG1lbnUucGVybVR5cGVzID8gbWVudS5wZXJtVHlwZXMgOiBudWxsOwogICAgICBtZXRhLnRpdGxlID0gbWVudS50aXRsZSA/IG1lbnUudGl0bGUgKyAiIC0gWEJvb3TkuIDnq5nlvI/liY3lkI7nq6/liIbnprvlv6vpgJ/lvIDlj5HlubPlj7AgQnk6IEV4cmljayIgOiBudWxsOwogICAgICBtZXRhLnVybCA9IG1lbnUudXJsID8gbWVudS51cmwgOiBudWxsOwogICAgICBtZW51Lm1ldGEgPSBtZXRhOwogICAgICByb3V0ZXJzLnB1c2gobWVudSk7CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfaXRlcmF0b3I0LmUoZXJyKTsKICB9IGZpbmFsbHkgewogICAgX2l0ZXJhdG9yNC5mKCk7CiAgfQp9OwoKZXhwb3J0IGRlZmF1bHQgdXRpbDs="},{"version":3,"names":["axios","getMenuList","lazyLoading","router","Cookies","util","title","window","document","getUserInfo","v","get","attr","str","JSON","stringify","userInfo","parse","millsToTime","mills","s","toFixed","m","h","d","month","year","getFileSize","size","num","Math","pow","ellipsis","length","substring","inOf","arr","targetArr","res","forEach","item","indexOf","oneOf","ele","getRouterObjByName","routers","name","routerObj","children","handleTitle","vm","localize","i18n","$t","setCurrentPath","isOtherRouter","$store","state","app","child","currentPathArr","path","currentPathObj","filter","i","childArr","len","childObj","commit","openNewPage","argu","query","pageOpenedList","openedPageLen","tagHasOpened","index","tag","tagsList","toDefaultPage","route","next","notHandle","redirect","undefined","replace","getArrayFromFile","file","nameSplit","split","format","Promise","resolve","reject","reader","FileReader","readAsText","onload","evt","data","target","result","pasteData","trim","map","row","Error","getTableDataFromArray","array","columns","tableData","titles","shift","key","col","initRouter","constRoutes","otherRoutes","otherRouter","meta","component","added","$Loading","start","accessToken","localStorage","getItem","headers","then","finish","menuData","initAllMenuData","initRouterNode","initMenuData","setItem","allMenuData","e","type","push","splice","console","log","menuRoutes","navList","nav","icon","isMenu","url","description","currNav","menu","Object","assign","permTypes"],"sources":["D:/work/workspace/order/xboot-plus-front/src/libs/util.js"],"sourcesContent":["import axios from 'axios';\r\nimport { getMenuList } from '@/api/index';\r\nimport lazyLoading from './lazyLoading.js';\r\nimport router from '@/router/index';\r\nimport Cookies from \"js-cookie\";\r\n\r\nlet util = {\r\n\r\n};\r\n\r\nutil.title = function (title) {\r\n    title = title || 'XBoot一站式前后端分离快速开发平台';\r\n    window.document.title = title;\r\n};\r\n\r\nutil.getUserInfo = function () {\r\n    let v = Cookies.get(\"userInfo\");\r\n    if (v) {\r\n        for (let attr in v) {\r\n            if (v[attr] == null) {\r\n                v[attr] = \"\";\r\n            }\r\n        }\r\n        let str = JSON.stringify(v);\r\n        let userInfo = JSON.parse(str);\r\n        return JSON.parse(userInfo);\r\n    }\r\n    return null;\r\n};\r\n\r\nutil.millsToTime = function (mills) {\r\n    if (!mills) {\r\n        return \"\";\r\n    }\r\n    let s = mills / 1000;\r\n    if (s < 60) {\r\n        return s.toFixed(0) + \" 秒\"\r\n    }\r\n    let m = s / 60;\r\n    if (m < 60) {\r\n        return m.toFixed(0) + \" 分钟\"\r\n    }\r\n    let h = m / 60;\r\n    if (h < 24) {\r\n        return h.toFixed(0) + \" 小时\"\r\n    }\r\n    let d = h / 24;\r\n    if (d < 30) {\r\n        return d.toFixed(0) + \" 天\"\r\n    }\r\n    let month = d / 30\r\n    if (month < 12) {\r\n        return month.toFixed(0) + \" 个月\"\r\n    }\r\n    let year = month / 12\r\n    return year.toFixed(0) + \" 年\"\r\n};\r\n\r\nutil.getFileSize = function (size) {\r\n\r\n    if (!size)\r\n        return \"0 KB\";\r\n\r\n    var num = 1024.00;\r\n\r\n    if (size < num)\r\n        return size + \" Byte\";\r\n    if (size < Math.pow(num, 2))\r\n        return (size / num).toFixed(2) + \" KB\";\r\n    if (size < Math.pow(num, 3))\r\n        return (size / Math.pow(num, 2)).toFixed(2) + \" MB\";\r\n    if (size < Math.pow(num, 4))\r\n        return (size / Math.pow(num, 3)).toFixed(2) + \" GB\";\r\n    return (size / Math.pow(num, 4)).toFixed(2) + \" TB\";\r\n}\r\n\r\nutil.ellipsis = function (v, size) {\r\n    if (size <= 0) {\r\n        return v;\r\n    }\r\n    return v ? (v.length > 12 ? (v.substring(0, size)) + \"...\" : v) : \"\"\r\n}\r\n\r\nutil.inOf = function (arr, targetArr) {\r\n    let res = true;\r\n    arr.forEach(item => {\r\n        if (targetArr.indexOf(item) < 0) {\r\n            res = false;\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\nutil.oneOf = function (ele, targetArr) {\r\n    if (targetArr.indexOf(ele) >= 0) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n\r\nutil.getRouterObjByName = function (routers, name) {\r\n    if (!name || !routers || !routers.length) {\r\n        return null;\r\n    }\r\n    let routerObj = null;\r\n    for (let item of routers) {\r\n        if (item.name == name) {\r\n            return item;\r\n        }\r\n        routerObj = util.getRouterObjByName(item.children, name);\r\n        if (routerObj) {\r\n            return routerObj;\r\n        }\r\n    }\r\n    return null;\r\n};\r\n\r\nutil.handleTitle = function (vm, item) {\r\n    if (item.localize && item.i18n) {\r\n        return vm.$t(item.i18n);\r\n    } else {\r\n        return item.title;\r\n    }\r\n};\r\n\r\nutil.setCurrentPath = function (vm, name) {\r\n    let title = '';\r\n    let isOtherRouter = false;\r\n    vm.$store.state.app.routers.forEach(item => {\r\n        if (item.children.length == 1) {\r\n            if (item.children[0].name == name) {\r\n                title = util.handleTitle(vm, item);\r\n                if (item.name == 'otherRouter') {\r\n                    isOtherRouter = true;\r\n                }\r\n            }\r\n        } else {\r\n            item.children.forEach(child => {\r\n                if (child.name == name) {\r\n                    title = util.handleTitle(vm, child);\r\n                    if (item.name == 'otherRouter') {\r\n                        isOtherRouter = true;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    let currentPathArr = [];\r\n    if (name == 'home_index') {\r\n        currentPathArr = [\r\n            {\r\n                title: util.handleTitle(vm, util.getRouterObjByName(vm.$store.state.app.routers, 'home_index')),\r\n                path: '',\r\n                name: 'home_index'\r\n            }\r\n        ];\r\n    } else if ((name.indexOf('_index') >= 0 || isOtherRouter) && name !== 'home_index') {\r\n        currentPathArr = [\r\n            {\r\n                title: util.handleTitle(vm, util.getRouterObjByName(vm.$store.state.app.routers, 'home_index')),\r\n                path: '/home',\r\n                name: 'home_index'\r\n            },\r\n            {\r\n                title: title,\r\n                path: '',\r\n                name: name\r\n            }\r\n        ];\r\n    } else {\r\n        let currentPathObj = vm.$store.state.app.routers.filter(item => {\r\n            if (item.children.length <= 1) {\r\n                return item.children[0].name == name;\r\n            } else {\r\n                let i = 0;\r\n                let childArr = item.children;\r\n                let len = childArr.length;\r\n                while (i < len) {\r\n                    if (childArr[i].name == name) {\r\n                        return true;\r\n                    }\r\n                    i++;\r\n                }\r\n                return false;\r\n            }\r\n        })[0];\r\n        if (currentPathObj.children.length <= 1 && currentPathObj.name == 'home') {\r\n            currentPathArr = [\r\n                {\r\n                    title: vm.$t('home'),\r\n                    path: '',\r\n                    name: 'home_index'\r\n                }\r\n            ];\r\n        } else if (currentPathObj.children.length <= 1 && currentPathObj.name !== 'home') {\r\n            currentPathArr = [\r\n                {\r\n                    title: vm.$t('home'),\r\n                    path: '/home',\r\n                    name: 'home_index'\r\n                },\r\n                {\r\n                    title: currentPathObj.title,\r\n                    path: '',\r\n                    name: name\r\n                }\r\n            ];\r\n        } else {\r\n            let childObj = currentPathObj.children.filter((child) => {\r\n                return child.name == name;\r\n            })[0];\r\n            currentPathArr = [\r\n                {\r\n                    title: vm.$t('home'),\r\n                    path: '/home',\r\n                    name: 'home_index'\r\n                },\r\n                {\r\n                    title: currentPathObj.title,\r\n                    path: '',\r\n                    name: currentPathObj.name\r\n                },\r\n                {\r\n                    title: childObj.title,\r\n                    path: currentPathObj.path + '/' + childObj.path,\r\n                    name: name\r\n                }\r\n            ];\r\n        }\r\n    }\r\n    vm.$store.commit('setCurrentPath', currentPathArr);\r\n\r\n    return currentPathArr;\r\n};\r\n\r\nutil.openNewPage = function (vm, name, argu, query) {\r\n    if (!vm.$store) {\r\n        return;\r\n    }\r\n    let pageOpenedList = vm.$store.state.app.pageOpenedList;\r\n    let openedPageLen = pageOpenedList.length;\r\n    let i = 0;\r\n    let tagHasOpened = false;\r\n    while (i < openedPageLen) {\r\n        if (name == pageOpenedList[i].name) { // 页面已经打开\r\n            vm.$store.commit('pageOpenedList', {\r\n                index: i,\r\n                argu: argu,\r\n                query: query\r\n            });\r\n            tagHasOpened = true;\r\n            break;\r\n        }\r\n        i++;\r\n    }\r\n    if (!tagHasOpened) {\r\n        let tag = vm.$store.state.app.tagsList.filter((item) => {\r\n            if (item.children) {\r\n                return name == item.children[0].name;\r\n            } else {\r\n                return name == item.name;\r\n            }\r\n        });\r\n        tag = tag[0];\r\n        if (tag) {\r\n            tag = tag.children ? tag.children[0] : tag;\r\n            if (argu) {\r\n                tag.argu = argu;\r\n            }\r\n            if (query) {\r\n                tag.query = query;\r\n            }\r\n            vm.$store.commit('increateTag', tag);\r\n        }\r\n    }\r\n    vm.$store.commit('setCurrentPageName', name);\r\n};\r\n\r\nutil.toDefaultPage = function (routers, name, route, next) {\r\n    let len = routers.length;\r\n    let i = 0;\r\n    let notHandle = true;\r\n    while (i < len) {\r\n        if (routers[i].name == name && routers[i].children && routers[i].redirect == undefined) {\r\n            route.replace({\r\n                name: routers[i].children[0].name\r\n            });\r\n            notHandle = false;\r\n            next();\r\n            break;\r\n        }\r\n        i++;\r\n    }\r\n    if (notHandle) {\r\n        next();\r\n    }\r\n};\r\n\r\n// 将Csv文件解析为二维数组\r\nexport const getArrayFromFile = (file) => {\r\n    let nameSplit = file.name.split('.')\r\n    let format = nameSplit[nameSplit.length - 1]\r\n    return new Promise((resolve, reject) => {\r\n        let reader = new FileReader()\r\n        reader.readAsText(file) // 以文本格式读取\r\n        let arr = []\r\n        reader.onload = function (evt) {\r\n            let data = evt.target.result // 读到的数据\r\n            let pasteData = data.trim()\r\n            arr = pasteData.split((/[\\n\\u0085\\u2028\\u2029]|\\r\\n?/g)).map(row => {\r\n                return row.split('\\t')\r\n            }).map(item => {\r\n                return item[0].split(',')\r\n            })\r\n            if (format == 'csv') resolve(arr)\r\n            else reject(new Error('[Format Error]:不是Csv文件'))\r\n        }\r\n    })\r\n}\r\n\r\n// 将二维数组转为表格数据\r\nexport const getTableDataFromArray = (array) => {\r\n    let columns = []\r\n    let tableData = []\r\n    if (array.length > 1) {\r\n        let titles = array.shift()\r\n        columns = titles.map(item => {\r\n            return {\r\n                title: item,\r\n                key: item\r\n            }\r\n        })\r\n        tableData = array.map(item => {\r\n            let res = {}\r\n            item.forEach((col, i) => {\r\n                res[titles[i]] = col\r\n            })\r\n            return res\r\n        })\r\n    }\r\n    return {\r\n        columns,\r\n        tableData\r\n    }\r\n}\r\n\r\nutil.initRouter = function (vm) {\r\n    const constRoutes = [];\r\n    const otherRoutes = [];\r\n\r\n    // 404路由需要和动态路由一起加载\r\n    const otherRouter = [{\r\n        path: '/*',\r\n        name: 'error-404',\r\n        meta: {\r\n            title: '404-页面不存在'\r\n        },\r\n        component: 'error-page/404'\r\n    }];\r\n    // 判断用户是否登录\r\n    let userInfo = Cookies.get('userInfo');\r\n    if (!userInfo) {\r\n        // 未登录\r\n        return;\r\n    }\r\n    if (!vm.$store.state.app.added) {\r\n        vm.$Loading.start();\r\n        // 第一次加载 读取数据\r\n        let accessToken = window.localStorage.getItem('accessToken');\r\n        // 加载菜单\r\n        axios.get(getMenuList, { headers: { 'accessToken': accessToken } }).then(res => {\r\n            vm.$Loading.finish();\r\n            let menuData = res.result;\r\n            if (!menuData) {\r\n                return;\r\n            }\r\n            util.initAllMenuData(constRoutes, menuData);\r\n            util.initRouterNode(otherRoutes, otherRouter);\r\n            // 添加所有主界面路由\r\n            vm.$store.commit('updateAppRouter', constRoutes.filter(item => item.children.length > 0));\r\n            // 添加全局路由\r\n            vm.$store.commit('updateDefaultRouter', otherRoutes);\r\n            // 添加菜单路由\r\n            util.initMenuData(vm, menuData);\r\n            // 缓存数据 修改加载标识\r\n            window.localStorage.setItem('menuData', JSON.stringify(menuData));\r\n            vm.$store.commit('setAdded', true);\r\n        });\r\n    } else {\r\n        // 读取缓存数据\r\n        let data = window.localStorage.getItem('menuData');\r\n        if (!data) {\r\n            vm.$store.commit('setAdded', false);\r\n            return;\r\n        }\r\n        let menuData = JSON.parse(data);\r\n        // 添加菜单路由\r\n        util.initMenuData(vm, menuData);\r\n    }\r\n};\r\n\r\n// 添加所有顶部导航栏下的菜单路由\r\nutil.initAllMenuData = function (constRoutes, data) {\r\n\r\n    let allMenuData = [];\r\n    data.forEach(e => {\r\n        if (e.type == -1) {\r\n            e.children.forEach(item => {\r\n                allMenuData.push(item);\r\n            })\r\n        }\r\n    })\r\n    util.initRouterNode(constRoutes, allMenuData);\r\n}\r\n\r\n// 生成菜单格式数据\r\nutil.initMenuData = function (vm, data) {\r\n    data.splice(1,data.length-1)\r\n    for(let i = 0;i<data[0].children.length;i++){\r\n        if(data[0].children[i].title == \"App管理（toB）\"){\r\n            \r\n            data[0].children.splice(i,1)\r\n        }\r\n    }\r\n    for(let i = 0;i<data[0].children.length;i++){\r\n        if(data[0].children[i].title == \"工作流程\"){\r\n            \r\n            data[0].children.splice(i,1)\r\n        }\r\n    }\r\n    for(let i = 0;i<data[0].children.length;i++){\r\n        if(data[0].children[i].title == \"开放平台\"){\r\n            data[0].children.splice(i,1)\r\n        }\r\n    }\r\n    for(let i = 0;i<data[0].children.length;i++){\r\n        if(data[0].children[i].title == \"智能助手客服\"){\r\n            data[0].children.splice(i,1)\r\n        }\r\n    }\r\n    for(let i = 0;i<data[0].children.length;i++){\r\n        if(data[0].children[i].title == \"后台Vue模版\"){\r\n            data[0].children.splice(i,1)\r\n        }\r\n    }\r\n    for(let i = 0;i<data[0].children.length;i++){\r\n        if(data[0].children[i].title == \"图表数据大屏\"){\r\n            data[0].children.splice(i,1)\r\n        }\r\n    }\r\n    for(let i = 0;i<data[0].children.length;i++){\r\n        if(data[0].children[i].title == \"XBoot业务组件\"){\r\n            data[0].children.splice(i,1)\r\n        }\r\n    }\r\n    for(let i = 0;i<data[0].children.length;i++){\r\n        if(data[0].children[i].title == \"第三方依赖工具/组件\"){\r\n            data[0].children.splice(i,1)\r\n        }\r\n    }\r\n    for(let i = 0;i<data[0].children.length;i++){\r\n        if(data[0].children[i].title == \"权限测试页\"){\r\n            data[0].children.splice(i,1)\r\n        }\r\n    }\r\n    for(let i = 0;i<data[0].children.length;i++){\r\n        if(data[0].children[i].title == \"单点登录测试站\"){\r\n            data[0].children.splice(i,1)\r\n        }\r\n    }\r\n    console.log(data)\r\n    const menuRoutes = [];\r\n    let menuData = data;\r\n    // 顶部菜单\r\n    let navList = [];\r\n    menuData.forEach(e => {\r\n        let nav = {\r\n            name: e.name,\r\n            title: e.title,\r\n            icon: e.icon,\r\n            isMenu: e.isMenu,\r\n            url: e.url,\r\n            description: e.description,\r\n            component: e.component,\r\n            localize: e.localize,\r\n            i18n: e.i18n\r\n        }\r\n        navList.push(nav);\r\n    })\r\n    if (navList.length < 1) {\r\n        return;\r\n    }\r\n    // 存入vuex\r\n    vm.$store.commit('setNavList', navList);\r\n    let currNav = window.localStorage.getItem('currNav')\r\n    if (currNav) {\r\n        // 读取缓存title\r\n        for (var item of navList) {\r\n            if (item.name == currNav) {\r\n                vm.$store.commit('setCurrNavTitle', util.handleTitle(vm, item));\r\n                break;\r\n            }\r\n        }\r\n    } else {\r\n        // 默认第一个\r\n        currNav = navList[0].name;\r\n        vm.$store.commit('setCurrNavTitle', util.handleTitle(vm, navList[0]));\r\n    }\r\n    vm.$store.commit('setCurrNav', currNav);\r\n    for (var item of menuData) {\r\n        if (item.name == currNav) {\r\n            // 过滤\r\n            menuData = item.children;\r\n            break;\r\n        }\r\n    }\r\n    util.initRouterNode(menuRoutes, menuData);\r\n    // 刷新界面菜单\r\n    vm.$store.commit('updateMenulist', menuRoutes.filter(item => item.children.length > 0));\r\n\r\n    let tagsList = [];\r\n    vm.$store.state.app.routers.map((item) => {\r\n        if (item.children.length <= 1) {\r\n            tagsList.push(item.children[0]);\r\n        } else {\r\n            tagsList.push(...item.children);\r\n        }\r\n    });\r\n    vm.$store.commit('setTagsList', tagsList);\r\n};\r\n\r\n// 生成路由节点\r\nutil.initRouterNode = function (routers, data) {\r\n\r\n    for (var item of data) {\r\n        let menu = Object.assign({}, item);\r\n        // menu.component = import(`@/views/${menu.component}.vue`);\r\n        menu.component = lazyLoading(menu.component);\r\n\r\n        if (item.children && item.children.length > 0) {\r\n            menu.children = [];\r\n            util.initRouterNode(menu.children, item.children);\r\n        }\r\n\r\n        let meta = {};\r\n        // 给页面添加权限、标题、第三方网页链接\r\n        meta.permTypes = menu.permTypes ? menu.permTypes : null;\r\n        meta.title = menu.title ? menu.title + \" - XBoot一站式前后端分离快速开发平台 By: Exrick\" : null;\r\n        meta.url = menu.url ? menu.url : null;\r\n        menu.meta = meta;\r\n\r\n        routers.push(menu);\r\n    }\r\n};\r\n\r\nexport default util;\r\n"],"mappings":"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"}]}