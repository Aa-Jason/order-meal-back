{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\my-components\\xboot\\count-down-button.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\my-components\\xboot\\count-down-button.vue","mtime":1651629755185},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\babel.config.js","mtime":1651629754991},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJpY29uQ2hvb3NlIiwKICBwcm9wczogewogICAgdGV4dDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICLmj5DkuqQiCiAgICB9LAogICAgYXV0b0NvdW50RG93bjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgY291bnRUaW1lOiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgIGRlZmF1bHQ6IDYwCiAgICB9LAogICAgc3VmZml4VGV4dDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICLnp5LlkI7ph43or5UiCiAgICB9LAogICAgdHlwZTogU3RyaW5nLAogICAgc2l6ZTogU3RyaW5nLAogICAgbG9hZGluZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGdob3N0OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBpY29uOiBTdHJpbmcsCiAgICBzaGFwZTogU3RyaW5nLAogICAgbG9uZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJ1dHRvblRleHQ6IHRoaXMudGV4dCwKICAgICAgY291bnQ6IE51bWJlcih0aGlzLmNvdW50VGltZSksCiAgICAgIGNsaWNrZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHt9LAogICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKCkgewogICAgICBpZiAodGhpcy5hdXRvQ291bnREb3duKSB7CiAgICAgICAgdGhpcy5jbGlja2VkID0gdHJ1ZTsKICAgICAgICB0aGlzLmNvdW50RG93bigpOwogICAgICB9CgogICAgICB0aGlzLiRlbWl0KCJvbi1jbGljayIsIHRydWUpOwogICAgfSwKICAgIHN0YXJ0Q291bnREb3duOiBmdW5jdGlvbiBzdGFydENvdW50RG93bigpIHsKICAgICAgdGhpcy5jbGlja2VkID0gdHJ1ZTsKICAgICAgdGhpcy5jb3VudERvd24oKTsKICAgIH0sCiAgICBjb3VudERvd246IGZ1bmN0aW9uIGNvdW50RG93bigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmNvdW50ID09IDApIHsKICAgICAgICB0aGlzLmNsaWNrZWQgPSBmYWxzZTsKICAgICAgICB0aGlzLmNvdW50ID0gdGhpcy5jb3VudFRpbWU7CiAgICAgICAgdGhpcy5idXR0b25UZXh0ID0gdGhpcy50ZXh0OwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmJ1dHRvblRleHQgPSB0aGlzLmNvdW50ICsgIiAiICsgdGhpcy5zdWZmaXhUZXh0OwogICAgICAgIHRoaXMuY291bnQtLTsKICAgICAgfQoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuY291bnREb3duKCk7CiAgICAgIH0sIDEwMDApOwogICAgfSwKICAgIHNldFRleHQ6IGZ1bmN0aW9uIHNldFRleHQodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSB0aGlzLmJ1dHRvblRleHQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuYnV0dG9uVGV4dCA9IHZhbHVlOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHRleHQ6IGZ1bmN0aW9uIHRleHQodmFsKSB7CiAgICAgIHRoaXMuc2V0VGV4dCh2YWwpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;AAmBA;EACAA,kBADA;EAEAC;IACAC;MACAC,YADA;MAEAC;IAFA,CADA;IAKAC;MACAF,aADA;MAEAC;IAFA,CALA;IASAE;MACAH,sBADA;MAEAC;IAFA,CATA;IAaAG;MACAJ,YADA;MAEAC;IAFA,CAbA;IAiBAD,YAjBA;IAkBAK,YAlBA;IAmBAC;MACAN,aADA;MAEAC;IAFA,CAnBA;IAuBAM;MACAP,aADA;MAEAC;IAFA,CAvBA;IA2BAO;MACAR,aADA;MAEAC;IAFA,CA3BA;IA+BAQ,YA/BA;IAgCAC,aAhCA;IAiCAC;MACAX,aADA;MAEAC;IAFA;EAjCA,CAFA;EAwCAW,IAxCA,kBAwCA;IACA;MACAC,qBADA;MAEAC,6BAFA;MAGAC;IAHA;EAKA,CA9CA;EA+CAC;IACAC,IADA,kBACA,EADA;IAEAC,WAFA,yBAEA;MACA;QACA;QACA;MACA;;MACA;IACA,CARA;IASAC,cATA,4BASA;MACA;MACA;IACA,CAZA;IAaAC,SAbA,uBAaA;MAAA;;MACA;QACA;QACA;QACA;QACA;MACA,CALA,MAKA;QACA;QACA;MACA;;MACAC;QACA;MACA,CAFA,EAEA,IAFA;IAGA,CA1BA;IA2BAC,OA3BA,mBA2BAC,KA3BA,EA2BA;MACA;QACA;MACA;;MACA;IACA;EAhCA,CA/CA;EAiFAC;IACAzB,IADA,gBACA0B,GADA,EACA;MACA;IACA;EAHA,CAjFA;EAsFAC,OAtFA,qBAsFA;IACA;EACA;AAxFA","names":["name","props","text","type","default","autoCountDown","countTime","suffixText","size","loading","ghost","disabled","icon","shape","long","data","buttonText","count","clicked","methods","init","handleClick","startCountDown","countDown","setTimeout","setText","value","watch","val","mounted"],"sourceRoot":"src/views/my-components/xboot","sources":["count-down-button.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <Button\r\n      :countTime=\"countTime\"\r\n      :loading=\"loading\"\r\n      :type=\"type\"\r\n      :size=\"size\"\r\n      :ghost=\"ghost\"\r\n      :disabled=\"disabled || clicked\"\r\n      :icon=\"icon\"\r\n      :shape=\"shape\"\r\n      :long=\"long\"\r\n      @click=\"handleClick\"\r\n      >{{ buttonText }}</Button\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"iconChoose\",\r\n  props: {\r\n    text: {\r\n      type: String,\r\n      default: \"提交\",\r\n    },\r\n    autoCountDown: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    countTime: {\r\n      type: [Number, String],\r\n      default: 60,\r\n    },\r\n    suffixText: {\r\n      type: String,\r\n      default: \"秒后重试\",\r\n    },\r\n    type: String,\r\n    size: String,\r\n    loading: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    ghost: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    icon: String,\r\n    shape: String,\r\n    long: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      buttonText: this.text,\r\n      count: Number(this.countTime),\r\n      clicked: false,\r\n    };\r\n  },\r\n  methods: {\r\n    init() {},\r\n    handleClick() {\r\n      if (this.autoCountDown) {\r\n        this.clicked = true;\r\n        this.countDown();\r\n      }\r\n      this.$emit(\"on-click\", true);\r\n    },\r\n    startCountDown() {\r\n      this.clicked = true;\r\n      this.countDown();\r\n    },\r\n    countDown() {\r\n      if (this.count == 0) {\r\n        this.clicked = false;\r\n        this.count = this.countTime;\r\n        this.buttonText = this.text;\r\n        return;\r\n      } else {\r\n        this.buttonText = this.count + \" \" + this.suffixText;\r\n        this.count--;\r\n      }\r\n      setTimeout(() => {\r\n        this.countDown();\r\n      }, 1000);\r\n    },\r\n    setText(value) {\r\n      if (value === this.buttonText) {\r\n        return;\r\n      }\r\n      this.buttonText = value;\r\n    },\r\n  },\r\n  watch: {\r\n    text(val) {\r\n      this.setText(val);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n</style>\r\n\r\n"]}]}