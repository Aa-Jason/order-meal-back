{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\my-components\\xboot\\user-select.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\my-components\\xboot\\user-select.vue","mtime":1651629755200},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\babel.config.js","mtime":1651629754991},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgc2VhcmNoVXNlckJ5TmFtZSwgZ2V0VXNlckxpc3REYXRhIH0gZnJvbSAiQC9hcGkvaW5kZXgiOwppbXBvcnQgZGVwYXJ0bWVudENob29zZSBmcm9tICIuL2RlcGFydG1lbnQtY2hvb3NlIjsKaW1wb3J0IGRpY3QgZnJvbSAiQC92aWV3cy9teS1jb21wb25lbnRzL3hib290L2RpY3QiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInVzZXJTZWxlY3QiLAogIGNvbXBvbmVudHM6IHsKICAgIGRlcGFydG1lbnRDaG9vc2U6IGRlcGFydG1lbnRDaG9vc2UsCiAgICBkaWN0OiBkaWN0CiAgfSwKICBwcm9wczogewogICAgc2hvd0J1dHRvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgdGV4dDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICLpgInmi6nnlKjmiLciCiAgICB9LAogICAgaWNvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJtZC1wZXJzb24tYWRkIgogICAgfSwKICAgIHNpemU6IFN0cmluZywKICAgIHR5cGU6IFN0cmluZywKICAgIHNoYXBlOiBTdHJpbmcsCiAgICBnaG9zdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHRyYW5zZmVyOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBkcmF3ZXJUcmFuc2ZlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgcGxhY2Vob2xkZXI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAi6K+36L6T5YWl55So5oi35ZCN5pCc57Si6YCJ5oup55So5oi3IgogICAgfSwKICAgIHBsYWNlbWVudDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJib3R0b20tc3RhcnQiCiAgICB9LAogICAgbXVsdGlwbGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBkaXNhYmxlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIG5vdEZvdW5kVGV4dDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICLml6DljLnphY3mlbDmja4iCiAgICB9LAogICAgbGFiZWxJblZhbHVlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgdHJhbnNmZXJDbGFzc05hbWU6IFN0cmluZywKICAgIHByZWZpeDogU3RyaW5nLAogICAgbWF4VGFnQ291bnQ6IE51bWJlciwKICAgIG1heFRhZ1BsYWNlaG9sZGVyOiBGdW5jdGlvbiwKICAgIGNsZWFyYWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgbWFza1N0eWxlOiBPYmplY3QsCiAgICBjbGFzc05hbWU6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIHsKICAgICAgdmFsdWU6IG51bGwsCiAgICAgIHVzZXJMaXN0OiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHVzZXJMb2FkaW5nOiB0cnVlLAogICAgICB1c2VyTW9kYWxWaXNpYmxlOiBmYWxzZSwKICAgICAgZHJvcDogZmFsc2UsCiAgICAgIGRyb3BEb3duQ29udGVudDogIuWxleW8gCIsCiAgICAgIGRyb3BEb3duSWNvbjogImlvcy1hcnJvdy1kb3duIiwKICAgICAgc2VsZWN0Q291bnQ6IDAsCiAgICAgIHNlYXJjaEZvcm06IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbmlja25hbWU6ICIiLAogICAgICAgIHR5cGU6ICIiLAogICAgICAgIHN0YXR1czogIiIsCiAgICAgICAgcGFnZU51bWJlcjogMSwKICAgICAgICAvLyDlvZPliY3pobXmlbAKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgLy8g6aG16Z2i5aSn5bCPCiAgICAgICAgc29ydDogImNyZWF0ZVRpbWUiLAogICAgICAgIC8vIOm7mOiupOaOkuW6j+Wtl+autQogICAgICAgIG9yZGVyOiAiZGVzYyIgLy8g6buY6K6k5o6S5bqP5pa55byPCgogICAgICB9LAogICAgICB1c2VyQ29sdW1uczogW3sKICAgICAgICB0eXBlOiAiaW5kZXgiLAogICAgICAgIHdpZHRoOiA2MCwKICAgICAgICBhbGlnbjogImNlbnRlciIKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi55So5oi35ZCNIiwKICAgICAgICBrZXk6ICJuaWNrbmFtZSIsCiAgICAgICAgbWluV2lkdGg6IDEzMCwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLnmbvlvZXotKblj7ciLAogICAgICAgIGtleTogInVzZXJuYW1lIiwKICAgICAgICBtaW5XaWR0aDogMTMwLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIuWktOWDjyIsCiAgICAgICAga2V5OiAiYXZhdGFyIiwKICAgICAgICB3aWR0aDogODAsCiAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIHBhcmFtcykgewogICAgICAgICAgcmV0dXJuIGgoIkF2YXRhciIsIHsKICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICBzcmM6IHBhcmFtcy5yb3cuYXZhdGFyCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi5omA5bGe6YOo6ZeoIiwKICAgICAgICBrZXk6ICJkZXBhcnRtZW50VGl0bGUiLAogICAgICAgIHdpZHRoOiAxMjAKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi5omL5py6IiwKICAgICAgICBrZXk6ICJtb2JpbGUiLAogICAgICAgIHdpZHRoOiAxMjUsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi6YKu566xIiwKICAgICAgICBrZXk6ICJlbWFpbCIsCiAgICAgICAgd2lkdGg6IDE4MCwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLmgKfliKsiLAogICAgICAgIGtleTogInNleCIsCiAgICAgICAgd2lkdGg6IDcwLAogICAgICAgIGFsaWduOiAiY2VudGVyIgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLliJvlu7rml7bpl7QiLAogICAgICAgIGtleTogImNyZWF0ZVRpbWUiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHNvcnRUeXBlOiAiZGVzYyIsCiAgICAgICAgd2lkdGg6IDE3MAogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLmk43kvZwiLAogICAgICAgIGtleTogImFjdGlvbiIsCiAgICAgICAgd2lkdGg6IDEzMCwKICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgZml4ZWQ6ICJyaWdodCIsCiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgcGFyYW1zKSB7CiAgICAgICAgICB2YXIgdGl0bGUgPSAi5re75Yqg55So5oi3IjsKCiAgICAgICAgICBpZiAoIV90aGlzLm11bHRpcGxlKSB7CiAgICAgICAgICAgIHRpdGxlID0gIumAieaLqeeUqOaItyI7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGgoImRpdiIsIFtoKCJCdXR0b24iLCB7CiAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgdHlwZTogImRlZmF1bHQiLAogICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5hZGRVc2VyKHBhcmFtcy5yb3cpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgdGl0bGUpXSk7CiAgICAgICAgfQogICAgICB9XSwKICAgICAgdXNlckRhdGE6IFtdLAogICAgICB0b3RhbFVzZXI6IDAKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWFyY2hVc2VyOiBmdW5jdGlvbiBzZWFyY2hVc2VyKHYpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAoIXYpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHNlYXJjaFVzZXJCeU5hbWUodikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICBfdGhpczIudXNlckxpc3QgPSByZXMucmVzdWx0OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UodikgewogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHYpOwogICAgICB0aGlzLiRlbWl0KCJvbi1jaGFuZ2UiLCB2KTsKICAgIH0sCiAgICBoYW5kbGVRdWVyeUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlUXVlcnlDaGFuZ2UodikgewogICAgICB0aGlzLiRlbWl0KCJvbi1xdWVyeS1jaGFuZ2UiLCB2KTsKICAgIH0sCiAgICBoYW5kbGVDbGVhcjogZnVuY3Rpb24gaGFuZGxlQ2xlYXIoKSB7CiAgICAgIHRoaXMuJGVtaXQoIm9uLWNsZWFyIiwgIiIpOwogICAgfSwKICAgIGhhbmRsZU9wZW5DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZU9wZW5DaGFuZ2UodikgewogICAgICB0aGlzLiRlbWl0KCJvbi1vcGVuLWNoYW5nZSIsIHYpOwogICAgfSwKICAgIGhhbmRsZVNlbGVjdDogZnVuY3Rpb24gaGFuZGxlU2VsZWN0KHYpIHsKICAgICAgdGhpcy4kZW1pdCgib24tc2VsZWN0Iiwgdik7CiAgICB9LAogICAgc2V0RGF0YTogZnVuY3Rpb24gc2V0RGF0YSh2KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKCF2Lmxlbmd0aCAmJiB2Lmxlbmd0aCAhPSAwKSB7CiAgICAgICAgLy8g5Y2V5LiqCiAgICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygi5aSa5Liq6YCJ5oup5LuF5pSv5oyB5Lyg5YWl55So5oi35pWw57uE5pWw5o2uIik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoIXYpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBsaXN0ID0gW3ZdOwogICAgICAgIHRoaXMudXNlckxpc3QgPSBsaXN0OwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMzLnZhbHVlID0gdi5pZDsKCiAgICAgICAgICBfdGhpczMuJGVtaXQoImlucHV0Iiwgdi5pZCk7CgogICAgICAgICAgX3RoaXMzLnNlbGVjdENvdW50ID0gMTsKICAgICAgICB9LCAxMCk7CiAgICAgIH0gZWxzZSBpZiAodi5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8g5aSa5LiqCiAgICAgICAgaWYgKCF0aGlzLm11bHRpcGxlKSB7CiAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuWNleS4qumAieaLqeS7heaUr+aMgeS8oOWFpeWNleS4queUqOaIt+aVsOaNriIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIF9saXN0ID0gW10sCiAgICAgICAgICAgIGlkcyA9IFtdOwogICAgICAgIHYuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX2xpc3QucHVzaChlKTsKCiAgICAgICAgICBpZHMucHVzaChlLmlkKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLnVzZXJMaXN0ID0gX2xpc3Q7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczMudmFsdWUgPSBpZHM7CgogICAgICAgICAgX3RoaXMzLiRlbWl0KCJpbnB1dCIsIGlkcyk7CgogICAgICAgICAgX3RoaXMzLnNlbGVjdENvdW50ID0gdi5sZW5ndGg7CiAgICAgICAgfSwgMTApOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7CiAgICAgICAgICB0aGlzLnZhbHVlID0gW107CiAgICAgICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIFtdKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy52YWx1ZSA9ICIiOwogICAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCAiIik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgaGFuZGxlU2VsZWN0RGVwOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3REZXAodikgewogICAgICB0aGlzLnNlYXJjaEZvcm0uZGVwYXJ0bWVudElkID0gdjsKICAgIH0sCiAgICBkcm9wRG93bjogZnVuY3Rpb24gZHJvcERvd24oKSB7CiAgICAgIGlmICh0aGlzLmRyb3ApIHsKICAgICAgICB0aGlzLmRyb3BEb3duQ29udGVudCA9ICLlsZXlvIAiOwogICAgICAgIHRoaXMuZHJvcERvd25JY29uID0gImlvcy1hcnJvdy1kb3duIjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRyb3BEb3duQ29udGVudCA9ICLmlLbotbciOwogICAgICAgIHRoaXMuZHJvcERvd25JY29uID0gImlvcy1hcnJvdy11cCI7CiAgICAgIH0KCiAgICAgIHRoaXMuZHJvcCA9ICF0aGlzLmRyb3A7CiAgICB9LAogICAgY2hhbmdlUGFnZTogZnVuY3Rpb24gY2hhbmdlUGFnZSh2KSB7CiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlTnVtYmVyID0gdjsKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgfSwKICAgIGNoYW5nZVBhZ2VTaXplOiBmdW5jdGlvbiBjaGFuZ2VQYWdlU2l6ZSh2KSB7CiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlU2l6ZSA9IHY7CiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgIH0sCiAgICBnZXREYXRhTGlzdDogZnVuY3Rpb24gZ2V0RGF0YUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy51c2VyTG9hZGluZyA9IHRydWU7CiAgICAgIGdldFVzZXJMaXN0RGF0YSh0aGlzLnNlYXJjaEZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC51c2VyTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIF90aGlzNC51c2VyRGF0YSA9IHJlcy5yZXN1bHQuY29udGVudDsKICAgICAgICAgIF90aGlzNC50b3RhbFVzZXIgPSByZXMucmVzdWx0LnRvdGFsRWxlbWVudHM7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTZWFyY2hVc2VyOiBmdW5jdGlvbiBoYW5kbGVTZWFyY2hVc2VyKCkgewogICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZU51bWJlciA9IDE7CiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlU2l6ZSA9IDEwOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgaGFuZGxlUmVzZXRVc2VyOiBmdW5jdGlvbiBoYW5kbGVSZXNldFVzZXIoKSB7CiAgICAgIHRoaXMuJHJlZnMuc2VhcmNoRm9ybS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZU51bWJlciA9IDE7CiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlU2l6ZSA9IDEwOwogICAgICB0aGlzLiRyZWZzLmRlcC5jbGVhclNlbGVjdCgpOwogICAgICB0aGlzLnNlYXJjaEZvcm0uZGVwYXJ0bWVudElkID0gIiI7IC8vIOmHjeaWsOWKoOi9veaVsOaNrgoKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgfSwKICAgIGNsZWFyRGF0YTogZnVuY3Rpb24gY2xlYXJEYXRhKCkgewogICAgICB0aGlzLnNlbGVjdENvdW50ID0gMDsKCiAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7CiAgICAgICAgdGhpcy52YWx1ZSA9IFtdOwogICAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgW10pOwogICAgICAgIHRoaXMuJGVtaXQoIm9uLWNoYW5nZSIsIFtdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnZhbHVlID0gIiI7CiAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCAiIik7CiAgICAgICAgdGhpcy4kZW1pdCgib24tY2hhbmdlIiwgIiIpOwogICAgICB9CiAgICB9LAogICAgYWRkVXNlcjogZnVuY3Rpb24gYWRkVXNlcih2KSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHsKICAgICAgICAvLyDljrvph40KICAgICAgICB2YXIgZmxhZyA9IHRydWU7CgogICAgICAgIGlmICh0aGlzLnZhbHVlICYmIHRoaXMudmFsdWUubGVuZ3RoID4gMCkgewogICAgICAgICAgdGhpcy52YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGlmICh2LmlkID09IGUpIHsKICAgICAgICAgICAgICBfdGhpczUuJE1lc3NhZ2Uud2FybmluZygi5bey57uP5re75Yqg6L+H5ZWm77yM6K+35Yu/6YeN5aSN6YCJ5oupIik7CgogICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudmFsdWUgPSBbXTsKICAgICAgICB9CgogICAgICAgIGlmIChmbGFnKSB7CiAgICAgICAgICB2YXIgdSA9IHsKICAgICAgICAgICAgaWQ6IHYuaWQsCiAgICAgICAgICAgIHVzZXJuYW1lOiB2LnVzZXJuYW1lLAogICAgICAgICAgICBuaWNrbmFtZTogdi5uaWNrbmFtZQogICAgICAgICAgfTsKICAgICAgICAgIHZhciBpc0V4aXN0ID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnVzZXJMaXN0LmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKHYuaWQgPT0gZS5pZCkgewogICAgICAgICAgICAgIGlzRXhpc3QgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoIWlzRXhpc3QpIHsKICAgICAgICAgICAgdGhpcy51c2VyTGlzdC5wdXNoKHUpOwogICAgICAgICAgfQoKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczUudmFsdWUucHVzaCh2LmlkKTsKCiAgICAgICAgICAgIF90aGlzNS4kZW1pdCgiaW5wdXQiLCBfdGhpczUudmFsdWUpOwoKICAgICAgICAgICAgX3RoaXM1LiRlbWl0KCJvbi1jaGFuZ2UiLCBfdGhpczUudmFsdWUpOwoKICAgICAgICAgICAgX3RoaXM1LnNlbGVjdENvdW50ID0gX3RoaXM1LnZhbHVlLmxlbmd0aDsKICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2VzcygiXHU2REZCXHU1MkEwXHU3NTI4XHU2MjM3ICIuY29uY2F0KHYubmlja25hbWUsICIgXHU2MjEwXHU1MjlGIikpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDljZXpgIkKICAgICAgICB0aGlzLnVzZXJMaXN0ID0gW3sKICAgICAgICAgIGlkOiB2LmlkLAogICAgICAgICAgdXNlcm5hbWU6IHYudXNlcm5hbWUsCiAgICAgICAgICBuaWNrbmFtZTogdi5uaWNrbmFtZQogICAgICAgIH1dOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM1LnZhbHVlID0gdi5pZDsKCiAgICAgICAgICBfdGhpczUuJGVtaXQoImlucHV0IiwgX3RoaXM1LnZhbHVlKTsKCiAgICAgICAgICBfdGhpczUuJGVtaXQoIm9uLWNoYW5nZSIsIF90aGlzNS52YWx1ZSk7CgogICAgICAgICAgX3RoaXM1LnNlbGVjdENvdW50ID0gMTsKICAgICAgICB9LCAxMCk7CiAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCJcdTkwMDlcdTYyRTlcdTc1MjhcdTYyMzcgIi5jb25jYXQodi5uaWNrbmFtZSwgIiBcdTYyMTBcdTUyOUYiKSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgfQp9Ow=="},{"version":3,"mappings":"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QACA;;QACA;QAAA,IACAC,QADA;QAEAT;UACAU;;UACAD;QACA,CAHA;QAIA;QACAD;UACA;;UACA;;UACA;QACA,CAJA,EAIA,EAJA;MAKA,CAlBA,MAkBA;QACA;UACA;UACA;QACA,CAHA,MAGA;UACA;UACA;QACA;MACA;IACA,CAzEA;IA0EAG,eA1EA,2BA0EAX,CA1EA,EA0EA;MACA;IACA,CA5EA;IA6EAY,QA7EA,sBA6EA;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;QACA;MACA;;MACA;IACA,CAtFA;IAuFAC,UAvFA,sBAuFAb,CAvFA,EAuFA;MACA;MACA;IACA,CA1FA;IA2FAc,cA3FA,0BA2FAd,CA3FA,EA2FA;MACA;MACA;IACA,CA9FA;IA+FAe,WA/FA,yBA+FA;MAAA;;MACA;MACAC;QACA;;QACA;UACA;UACA;QACA;MACA,CANA;IAOA,CAxGA;IAyGAC,gBAzGA,8BAyGA;MACA;MACA;MACA;IACA,CA7GA;IA8GAC,eA9GA,6BA8GA;MACA;MACA;MACA;MACA;MACA,kCALA,CAMA;;MACA;IACA,CAtHA;IAuHAC,SAvHA,uBAuHA;MACA;;MACA;QACA;QACA;QACA;MACA,CAJA,MAIA;QACA;QACA;QACA;MACA;IACA,CAlIA;IAmIAC,OAnIA,mBAmIApB,CAnIA,EAmIA;MAAA;;MACA;QACA;QACA;;QACA;UACA;YACA;cACA;;cACAqB;YACA;UACA,CALA;QAMA,CAPA,MAOA;UACA;QACA;;QACA;UACA;YACA9C,QADA;YAEA+C,oBAFA;YAGA9C;UAHA;UAKA;UACA;YACA;cACA+C;YACA;UACA,CAJA;;UAKA;YACA;UACA;;UACAf;YACA;;YACA;;YACA;;YACA;UACA,CALA,EAKA,EALA;UAMA;QACA;MACA,CApCA,MAoCA;QACA;QACA,iBACA;UACAjC,QADA;UAEA+C,oBAFA;UAGA9C;QAHA,CADA;QAOAgC;UACA;;UACA;;UACA;;UACA;QACA,CALA,EAKA,EALA;QAMA;MACA;IACA;EAzLA,CA1LA;EAqXAgB,OArXA,qBAqXA;IACA;EACA;AAvXA","names":["name","components","departmentChoose","dict","props","showButton","type","default","text","icon","size","shape","ghost","transfer","drawerTransfer","placeholder","placement","multiple","disabled","notFoundText","labelInValue","transferClassName","prefix","maxTagCount","maxTagPlaceholder","clearable","maskStyle","className","data","value","userList","loading","userLoading","userModalVisible","drop","dropDownContent","dropDownIcon","selectCount","searchForm","id","nickname","status","pageNumber","pageSize","sort","order","userColumns","width","align","title","key","minWidth","sortable","render","src","sortType","fixed","h","on","click","userData","totalUser","methods","searchUser","v","searchUserByName","handleChange","handleQueryChange","handleClear","handleOpenChange","handleSelect","setData","setTimeout","ids","list","handleSelectDep","dropDown","changePage","changePageSize","getDataList","getUserListData","handleSearchUser","handleResetUser","clearData","addUser","flag","username","isExist","mounted"],"sourceRoot":"src/views/my-components/xboot","sources":["user-select.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div style=\"display: flex\">\r\n      <Select\r\n        v-model=\"value\"\r\n        :size=\"size\"\r\n        :loading=\"loading\"\r\n        :placeholder=\"placeholder\"\r\n        :multiple=\"multiple\"\r\n        :disabled=\"disabled\"\r\n        filterable\r\n        :transfer=\"transfer\"\r\n        :clearable=\"clearable\"\r\n        :placement=\"placement\"\r\n        :not-found-text=\"notFoundText\"\r\n        :label-in-value=\"labelInValue\"\r\n        :transfer-class-name=\"transferClassName\"\r\n        :prefix=\"prefix\"\r\n        :max-tag-count=\"maxTagCount\"\r\n        :max-tag-placeholder=\"maxTagPlaceholder\"\r\n        @on-change=\"handleChange\"\r\n        @on-query-change=\"handleQueryChange\"\r\n        @on-clear=\"handleClear\"\r\n        @on-open-change=\"handleOpenChange\"\r\n        @on-select=\"handleSelect\"\r\n        :remote-method=\"searchUser\"\r\n      >\r\n        <Option\r\n          v-for=\"(item, i) in userList\"\r\n          :value=\"item.id\"\r\n          :key=\"i\"\r\n          :label=\"item.nickname\"\r\n          :tag=\"item.username\"\r\n        >\r\n          <span style=\"margin-right: 10px\">{{ item.nickname }}</span>\r\n          <span style=\"color: #ccc\">{{ item.username }}</span>\r\n        </Option>\r\n      </Select>\r\n      <Button\r\n        v-if=\"showButton\"\r\n        @click=\"userModalVisible = true\"\r\n        :size=\"size\"\r\n        :disabled=\"disabled\"\r\n        :icon=\"icon\"\r\n        :type=\"type\"\r\n        :shape=\"shape\"\r\n        :ghost=\"ghost\"\r\n        style=\"margin-left: 10px\"\r\n        >{{ text }}</Button\r\n      >\r\n    </div>\r\n    <Drawer\r\n      v-if=\"showButton\"\r\n      title=\"选择用户\"\r\n      closable\r\n      v-model=\"userModalVisible\"\r\n      width=\"815\"\r\n      draggable\r\n      :transfer=\"drawerTransfer\"\r\n      :mask-style=\"maskStyle\"\r\n      :class-name=\"className\"\r\n      class=\"user-select-drawer\"\r\n    >\r\n      <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"70\">\r\n        <FormItem label=\"用户名\" prop=\"nickname\">\r\n          <Input\r\n            type=\"text\"\r\n            v-model=\"searchForm.nickname\"\r\n            clearable\r\n            placeholder=\"请输入用户名\"\r\n            style=\"width: 180px\"\r\n          />\r\n        </FormItem>\r\n        <FormItem label=\"部门\" prop=\"department\">\r\n          <department-choose\r\n            @on-change=\"handleSelectDep\"\r\n            style=\"width: 180px\"\r\n            ref=\"dep\"\r\n          ></department-choose>\r\n        </FormItem>\r\n        <span v-if=\"drop\">\r\n          <FormItem label=\"手机号\" prop=\"mobile\">\r\n            <Input\r\n              type=\"text\"\r\n              v-model=\"searchForm.mobile\"\r\n              clearable\r\n              placeholder=\"请输入手机号\"\r\n              style=\"width: 180px\"\r\n            />\r\n          </FormItem>\r\n          <FormItem label=\"邮箱\" prop=\"email\">\r\n            <Input\r\n              type=\"text\"\r\n              v-model=\"searchForm.email\"\r\n              clearable\r\n              placeholder=\"请输入邮箱\"\r\n              style=\"width: 180px\"\r\n            />\r\n          </FormItem>\r\n          <FormItem label=\"性别\" prop=\"sex\">\r\n            <dict dict=\"sex\" v-model=\"searchForm.sex\" style=\"width: 180px\" />\r\n          </FormItem>\r\n          <FormItem label=\"登录账号\" prop=\"username\">\r\n            <Input\r\n              type=\"text\"\r\n              v-model=\"searchForm.username\"\r\n              clearable\r\n              placeholder=\"请输入登录账号\"\r\n              style=\"width: 180px\"\r\n            />\r\n          </FormItem>\r\n          <FormItem label=\"用户ID\" prop=\"id\">\r\n            <Input\r\n              type=\"text\"\r\n              v-model=\"searchForm.id\"\r\n              clearable\r\n              placeholder=\"请输入用户ID\"\r\n              style=\"width: 180px\"\r\n            />\r\n          </FormItem>\r\n        </span>\r\n        <FormItem style=\"margin-left: -35px\" class=\"br\">\r\n          <Button @click=\"handleSearchUser\" type=\"primary\" icon=\"ios-search\"\r\n            >搜索</Button\r\n          >\r\n          <Button @click=\"handleResetUser\">重置</Button>\r\n          <a class=\"drop-down\" @click=\"dropDown\">\r\n            {{ dropDownContent }}\r\n            <Icon :type=\"dropDownIcon\"></Icon>\r\n          </a>\r\n        </FormItem>\r\n      </Form>\r\n      <Alert show-icon>\r\n        已选择\r\n        <span class=\"select-count\">{{ selectCount }}</span> 项\r\n        <a style=\"margin-left: 10px\" @click=\"clearData\">清空已选</a>\r\n      </Alert>\r\n      <Table\r\n        :loading=\"userLoading\"\r\n        border\r\n        :columns=\"userColumns\"\r\n        :data=\"userData\"\r\n        style=\"margin: 2vh 0\"\r\n      ></Table>\r\n      <Row type=\"flex\" justify=\"end\">\r\n        <Page\r\n          :current=\"searchForm.pageNumber\"\r\n          :total=\"totalUser\"\r\n          :page-size=\"searchForm.pageSize\"\r\n          @on-change=\"changePage\"\r\n          @on-page-size-change=\"changePageSize\"\r\n          :page-size-opts=\"[10, 20, 50]\"\r\n          size=\"small\"\r\n          show-total\r\n          show-elevator\r\n          show-sizer\r\n          :transfer=\"true\"\r\n        ></Page>\r\n      </Row>\r\n    </Drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { searchUserByName, getUserListData } from \"@/api/index\";\r\nimport departmentChoose from \"./department-choose\";\r\nimport dict from \"@/views/my-components/xboot/dict\";\r\nexport default {\r\n  name: \"userSelect\",\r\n  components: {\r\n    departmentChoose,\r\n    dict,\r\n  },\r\n  props: {\r\n    showButton: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: \"选择用户\",\r\n    },\r\n    icon: {\r\n      type: String,\r\n      default: \"md-person-add\",\r\n    },\r\n    size: String,\r\n    type: String,\r\n    shape: String,\r\n    ghost: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    transfer: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    drawerTransfer: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: \"请输入用户名搜索选择用户\",\r\n    },\r\n    placement: {\r\n      type: String,\r\n      default: \"bottom-start\",\r\n    },\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    notFoundText: {\r\n      type: String,\r\n      default: \"无匹配数据\",\r\n    },\r\n    labelInValue: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    transferClassName: String,\r\n    prefix: String,\r\n    maxTagCount: Number,\r\n    maxTagPlaceholder: Function,\r\n    clearable: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    maskStyle: Object,\r\n    className: Object\r\n  },\r\n  data() {\r\n    return {\r\n      value: null,\r\n      userList: [],\r\n      loading: false,\r\n      userLoading: true,\r\n      userModalVisible: false,\r\n      drop: false,\r\n      dropDownContent: \"展开\",\r\n      dropDownIcon: \"ios-arrow-down\",\r\n      selectCount: 0,\r\n      searchForm: {\r\n        id: \"\",\r\n        nickname: \"\",\r\n        type: \"\",\r\n        status: \"\",\r\n        pageNumber: 1, // 当前页数\r\n        pageSize: 10, // 页面大小\r\n        sort: \"createTime\", // 默认排序字段\r\n        order: \"desc\", // 默认排序方式\r\n      },\r\n      userColumns: [\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"用户名\",\r\n          key: \"nickname\",\r\n          minWidth: 130,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"登录账号\",\r\n          key: \"username\",\r\n          minWidth: 130,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"头像\",\r\n          key: \"avatar\",\r\n          width: 80,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\"Avatar\", {\r\n              props: {\r\n                src: params.row.avatar,\r\n              },\r\n            });\r\n          },\r\n        },\r\n        {\r\n          title: \"所属部门\",\r\n          key: \"departmentTitle\",\r\n          width: 120,\r\n        },\r\n        {\r\n          title: \"手机\",\r\n          key: \"mobile\",\r\n          width: 125,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"邮箱\",\r\n          key: \"email\",\r\n          width: 180,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"性别\",\r\n          key: \"sex\",\r\n          width: 70,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          key: \"createTime\",\r\n          sortable: true,\r\n          sortType: \"desc\",\r\n          width: 170,\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 130,\r\n          align: \"center\",\r\n          fixed: \"right\",\r\n          render: (h, params) => {\r\n            let title = \"添加用户\";\r\n            if (!this.multiple) {\r\n              title = \"选择用户\";\r\n            }\r\n            return h(\"div\", [\r\n              h(\r\n                \"Button\",\r\n                {\r\n                  props: {\r\n                    type: \"default\",\r\n                    size: \"small\",\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.addUser(params.row);\r\n                    },\r\n                  },\r\n                },\r\n                title\r\n              ),\r\n            ]);\r\n          },\r\n        },\r\n      ],\r\n      userData: [],\r\n      totalUser: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    searchUser(v) {\r\n      if (!v) {\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      searchUserByName(v).then((res) => {\r\n        this.loading = false;\r\n        if (res.success) {\r\n          this.userList = res.result;\r\n        }\r\n      });\r\n    },\r\n    handleChange(v) {\r\n      this.$emit(\"input\", v);\r\n      this.$emit(\"on-change\", v);\r\n    },\r\n    handleQueryChange(v) {\r\n      this.$emit(\"on-query-change\", v);\r\n    },\r\n    handleClear() {\r\n      this.$emit(\"on-clear\", \"\");\r\n    },\r\n    handleOpenChange(v) {\r\n      this.$emit(\"on-open-change\", v);\r\n    },\r\n    handleSelect(v) {\r\n      this.$emit(\"on-select\", v);\r\n    },\r\n    setData(v) {\r\n      if (!v.length && v.length != 0) {\r\n        // 单个\r\n        if (this.multiple) {\r\n          this.$Message.warning(\"多个选择仅支持传入用户数组数据\");\r\n          return;\r\n        }\r\n        if (!v) {\r\n          return;\r\n        }\r\n        let list = [v];\r\n        this.userList = list;\r\n        setTimeout(() => {\r\n          this.value = v.id;\r\n          this.$emit(\"input\", v.id);\r\n          this.selectCount = 1;\r\n        }, 10);\r\n      } else if (v.length > 0) {\r\n        // 多个\r\n        if (!this.multiple) {\r\n          this.$Message.warning(\"单个选择仅支持传入单个用户数据\");\r\n          return;\r\n        }\r\n        let list = [],\r\n          ids = [];\r\n        v.forEach((e) => {\r\n          list.push(e);\r\n          ids.push(e.id);\r\n        });\r\n        this.userList = list;\r\n        setTimeout(() => {\r\n          this.value = ids;\r\n          this.$emit(\"input\", ids);\r\n          this.selectCount = v.length;\r\n        }, 10);\r\n      } else {\r\n        if (this.multiple) {\r\n          this.value = [];\r\n          this.$emit(\"input\", []);\r\n        } else {\r\n          this.value = \"\";\r\n          this.$emit(\"input\", \"\");\r\n        }\r\n      }\r\n    },\r\n    handleSelectDep(v) {\r\n      this.searchForm.departmentId = v;\r\n    },\r\n    dropDown() {\r\n      if (this.drop) {\r\n        this.dropDownContent = \"展开\";\r\n        this.dropDownIcon = \"ios-arrow-down\";\r\n      } else {\r\n        this.dropDownContent = \"收起\";\r\n        this.dropDownIcon = \"ios-arrow-up\";\r\n      }\r\n      this.drop = !this.drop;\r\n    },\r\n    changePage(v) {\r\n      this.searchForm.pageNumber = v;\r\n      this.getDataList();\r\n    },\r\n    changePageSize(v) {\r\n      this.searchForm.pageSize = v;\r\n      this.getDataList();\r\n    },\r\n    getDataList() {\r\n      this.userLoading = true;\r\n      getUserListData(this.searchForm).then((res) => {\r\n        this.userLoading = false;\r\n        if (res.success) {\r\n          this.userData = res.result.content;\r\n          this.totalUser = res.result.totalElements;\r\n        }\r\n      });\r\n    },\r\n    handleSearchUser() {\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.getDataList();\r\n    },\r\n    handleResetUser() {\r\n      this.$refs.searchForm.resetFields();\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.$refs.dep.clearSelect();\r\n      this.searchForm.departmentId = \"\";\r\n      // 重新加载数据\r\n      this.getDataList();\r\n    },\r\n    clearData() {\r\n      this.selectCount = 0;\r\n      if (this.multiple) {\r\n        this.value = [];\r\n        this.$emit(\"input\", []);\r\n        this.$emit(\"on-change\", []);\r\n      } else {\r\n        this.value = \"\";\r\n        this.$emit(\"input\", \"\");\r\n        this.$emit(\"on-change\", \"\");\r\n      }\r\n    },\r\n    addUser(v) {\r\n      if (this.multiple) {\r\n        // 去重\r\n        let flag = true;\r\n        if (this.value && this.value.length > 0) {\r\n          this.value.forEach((e) => {\r\n            if (v.id == e) {\r\n              this.$Message.warning(\"已经添加过啦，请勿重复选择\");\r\n              flag = false;\r\n            }\r\n          });\r\n        } else {\r\n          this.value = [];\r\n        }\r\n        if (flag) {\r\n          let u = {\r\n            id: v.id,\r\n            username: v.username,\r\n            nickname: v.nickname,\r\n          };\r\n          let isExist = false;\r\n          this.userList.forEach((e) => {\r\n            if (v.id == e.id) {\r\n              isExist = true;\r\n            }\r\n          });\r\n          if (!isExist) {\r\n            this.userList.push(u);\r\n          }\r\n          setTimeout(() => {\r\n            this.value.push(v.id);\r\n            this.$emit(\"input\", this.value);\r\n            this.$emit(\"on-change\", this.value);\r\n            this.selectCount = this.value.length;\r\n          }, 10);\r\n          this.$Message.success(`添加用户 ${v.nickname} 成功`);\r\n        }\r\n      } else {\r\n        // 单选\r\n        this.userList = [\r\n          {\r\n            id: v.id,\r\n            username: v.username,\r\n            nickname: v.nickname,\r\n          },\r\n        ];\r\n        setTimeout(() => {\r\n          this.value = v.id;\r\n          this.$emit(\"input\", this.value);\r\n          this.$emit(\"on-change\", this.value);\r\n          this.selectCount = 1;\r\n        }, 10);\r\n        this.$Message.success(`选择用户 ${v.nickname} 成功`);\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getDataList();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.user-select-drawer {\r\n  .select-count {\r\n    font-weight: 600;\r\n    color: #40a9ff;\r\n  }\r\n  .drop-down {\r\n    margin-left: 5px;\r\n  }\r\n}\r\n</style>"]}]}