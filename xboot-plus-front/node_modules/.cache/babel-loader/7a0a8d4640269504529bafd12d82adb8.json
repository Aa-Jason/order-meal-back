{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\workspace\\order\\xboot-plus-front\\src\\libs\\excel.js","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\libs\\excel.js","mtime":1651629755103},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\babel.config.js","mtime":1651629754991},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFhMU1ggZnJvbSAneGxzeCc7CgpmdW5jdGlvbiBhdXRvX3dpZHRoKHdzLCBkYXRhKSB7CiAgLypzZXQgd29ya3NoZWV0IG1heCB3aWR0aCBwZXIgY29sKi8KICB2YXIgY29sV2lkdGggPSBkYXRhLm1hcChmdW5jdGlvbiAocm93KSB7CiAgICByZXR1cm4gcm93Lm1hcChmdW5jdGlvbiAodmFsKSB7CiAgICAgIC8qaWYgbnVsbC91bmRlZmluZWQqLwogICAgICBpZiAodmFsID09IG51bGwpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgJ3djaCc6IDEwCiAgICAgICAgfTsKICAgICAgfQogICAgICAvKmlmIGNoaW5lc2UqLwogICAgICBlbHNlIGlmICh2YWwudG9TdHJpbmcoKS5jaGFyQ29kZUF0KDApID4gMjU1KSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICd3Y2gnOiB2YWwudG9TdHJpbmcoKS5sZW5ndGggKiAyCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgJ3djaCc6IHZhbC50b1N0cmluZygpLmxlbmd0aAogICAgICAgIH07CiAgICAgIH0KICAgIH0pOwogIH0pOwogIC8qc3RhcnQgaW4gdGhlIGZpcnN0IHJvdyovCgogIHZhciByZXN1bHQgPSBjb2xXaWR0aFswXTsKCiAgZm9yICh2YXIgaSA9IDE7IGkgPCBjb2xXaWR0aC5sZW5ndGg7IGkrKykgewogICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2xXaWR0aFtpXS5sZW5ndGg7IGorKykgewogICAgICBpZiAocmVzdWx0W2pdWyd3Y2gnXSA8IGNvbFdpZHRoW2ldW2pdWyd3Y2gnXSkgewogICAgICAgIHJlc3VsdFtqXVsnd2NoJ10gPSBjb2xXaWR0aFtpXVtqXVsnd2NoJ107CiAgICAgIH0KICAgIH0KICB9CgogIHdzWychY29scyddID0gcmVzdWx0Owp9CgpmdW5jdGlvbiBqc29uX3RvX2FycmF5KGtleSwganNvbkRhdGEpIHsKICByZXR1cm4ganNvbkRhdGEubWFwKGZ1bmN0aW9uICh2KSB7CiAgICByZXR1cm4ga2V5Lm1hcChmdW5jdGlvbiAoaikgewogICAgICByZXR1cm4gdltqXTsKICAgIH0pOwogIH0pOwp9IC8vIGZpeCBkYXRhLHJldHVybiBzdHJpbmcKCgpmdW5jdGlvbiBmaXhkYXRhKGRhdGEpIHsKICB2YXIgbyA9ICcnOwogIHZhciBsID0gMDsKICB2YXIgdyA9IDEwMjQwOwoKICBmb3IgKDsgbCA8IGRhdGEuYnl0ZUxlbmd0aCAvIHc7ICsrbCkgewogICAgbyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGRhdGEuc2xpY2UobCAqIHcsIGwgKiB3ICsgdykpKTsKICB9CgogIG8gKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShkYXRhLnNsaWNlKGwgKiB3KSkpOwogIHJldHVybiBvOwp9IC8vIGdldCBoZWFkIGZyb20gZXhjZWwgZmlsZSxyZXR1cm4gYXJyYXkKCgpmdW5jdGlvbiBnZXRfaGVhZGVyX3JvdyhzaGVldCkgewogIHZhciBoZWFkZXJzID0gW107CiAgdmFyIHJhbmdlID0gWExTWC51dGlscy5kZWNvZGVfcmFuZ2Uoc2hlZXRbJyFyZWYnXSk7CiAgdmFyIEM7CiAgdmFyIFIgPSByYW5nZS5zLnI7CiAgLyogc3RhcnQgaW4gdGhlIGZpcnN0IHJvdyAqLwoKICBmb3IgKEMgPSByYW5nZS5zLmM7IEMgPD0gcmFuZ2UuZS5jOyArK0MpIHsKICAgIC8qIHdhbGsgZXZlcnkgY29sdW1uIGluIHRoZSByYW5nZSAqLwogICAgdmFyIGNlbGwgPSBzaGVldFtYTFNYLnV0aWxzLmVuY29kZV9jZWxsKHsKICAgICAgYzogQywKICAgICAgcjogUgogICAgfSldOwogICAgLyogZmluZCB0aGUgY2VsbCBpbiB0aGUgZmlyc3Qgcm93ICovCgogICAgdmFyIGhkciA9ICdVTktOT1dOICcgKyBDOyAvLyA8LS0gcmVwbGFjZSB3aXRoIHlvdXIgZGVzaXJlZCBkZWZhdWx0CgogICAgaWYgKGNlbGwgJiYgY2VsbC50KSBoZHIgPSBYTFNYLnV0aWxzLmZvcm1hdF9jZWxsKGNlbGwpOwogICAgaGVhZGVycy5wdXNoKGhkcik7CiAgfQoKICByZXR1cm4gaGVhZGVyczsKfQoKZXhwb3J0IHZhciBleHBvcnRfdGFibGVfdG9fZXhjZWwgPSBmdW5jdGlvbiBleHBvcnRfdGFibGVfdG9fZXhjZWwoaWQsIGZpbGVuYW1lKSB7CiAgdmFyIHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOwogIHZhciB3YiA9IFhMU1gudXRpbHMudGFibGVfdG9fYm9vayh0YWJsZSk7CiAgWExTWC53cml0ZUZpbGUod2IsIGZpbGVuYW1lKTsKfTsKZXhwb3J0IHZhciBleHBvcnRfanNvbl90b19leGNlbCA9IGZ1bmN0aW9uIGV4cG9ydF9qc29uX3RvX2V4Y2VsKF9yZWYpIHsKICB2YXIgZGF0YSA9IF9yZWYuZGF0YSwKICAgICAga2V5ID0gX3JlZi5rZXksCiAgICAgIHRpdGxlID0gX3JlZi50aXRsZSwKICAgICAgZmlsZW5hbWUgPSBfcmVmLmZpbGVuYW1lLAogICAgICBhdXRvV2lkdGggPSBfcmVmLmF1dG9XaWR0aDsKICB2YXIgd2IgPSBYTFNYLnV0aWxzLmJvb2tfbmV3KCk7CiAgZGF0YS51bnNoaWZ0KHRpdGxlKTsKICB2YXIgd3MgPSBYTFNYLnV0aWxzLmpzb25fdG9fc2hlZXQoZGF0YSwgewogICAgaGVhZGVyOiBrZXksCiAgICBza2lwSGVhZGVyOiB0cnVlCiAgfSk7CgogIGlmIChhdXRvV2lkdGgpIHsKICAgIHZhciBhcnIgPSBqc29uX3RvX2FycmF5KGtleSwgZGF0YSk7CiAgICBhdXRvX3dpZHRoKHdzLCBhcnIpOwogIH0KCiAgWExTWC51dGlscy5ib29rX2FwcGVuZF9zaGVldCh3Yiwgd3MsIGZpbGVuYW1lKTsKICBYTFNYLndyaXRlRmlsZSh3YiwgZmlsZW5hbWUgKyAnLnhsc3gnKTsKfTsKZXhwb3J0IHZhciBleHBvcnRfYXJyYXlfdG9fZXhjZWwgPSBmdW5jdGlvbiBleHBvcnRfYXJyYXlfdG9fZXhjZWwoX3JlZjIpIHsKICB2YXIga2V5ID0gX3JlZjIua2V5LAogICAgICBkYXRhID0gX3JlZjIuZGF0YSwKICAgICAgdGl0bGUgPSBfcmVmMi50aXRsZSwKICAgICAgZmlsZW5hbWUgPSBfcmVmMi5maWxlbmFtZSwKICAgICAgYXV0b1dpZHRoID0gX3JlZjIuYXV0b1dpZHRoOwogIHZhciB3YiA9IFhMU1gudXRpbHMuYm9va19uZXcoKTsKICB2YXIgYXJyID0ganNvbl90b19hcnJheShrZXksIGRhdGEpOwogIGFyci51bnNoaWZ0KHRpdGxlKTsKICB2YXIgd3MgPSBYTFNYLnV0aWxzLmFvYV90b19zaGVldChhcnIpOwoKICBpZiAoYXV0b1dpZHRoKSB7CiAgICBhdXRvX3dpZHRoKHdzLCBhcnIpOwogIH0KCiAgWExTWC51dGlscy5ib29rX2FwcGVuZF9zaGVldCh3Yiwgd3MsIGZpbGVuYW1lKTsKICBYTFNYLndyaXRlRmlsZSh3YiwgZmlsZW5hbWUgKyAnLnhsc3gnKTsKfTsKZXhwb3J0IHZhciByZWFkID0gZnVuY3Rpb24gcmVhZChkYXRhLCB0eXBlKSB7CiAgdmFyIHdvcmtib29rID0gWExTWC5yZWFkKGRhdGEsIHsKICAgIHR5cGU6IHR5cGUKICB9KTsKICB2YXIgZmlyc3RTaGVldE5hbWUgPSB3b3JrYm9vay5TaGVldE5hbWVzWzBdOwogIHZhciB3b3Jrc2hlZXQgPSB3b3JrYm9vay5TaGVldHNbZmlyc3RTaGVldE5hbWVdOwogIHZhciBoZWFkZXIgPSBnZXRfaGVhZGVyX3Jvdyh3b3Jrc2hlZXQpOwogIHZhciByZXN1bHRzID0gWExTWC51dGlscy5zaGVldF90b19qc29uKHdvcmtzaGVldCk7CiAgcmV0dXJuIHsKICAgIGhlYWRlcjogaGVhZGVyLAogICAgcmVzdWx0czogcmVzdWx0cwogIH07Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBleHBvcnRfdGFibGVfdG9fZXhjZWw6IGV4cG9ydF90YWJsZV90b19leGNlbCwKICBleHBvcnRfYXJyYXlfdG9fZXhjZWw6IGV4cG9ydF9hcnJheV90b19leGNlbCwKICBleHBvcnRfanNvbl90b19leGNlbDogZXhwb3J0X2pzb25fdG9fZXhjZWwsCiAgcmVhZDogcmVhZAp9Ow=="},{"version":3,"names":["XLSX","auto_width","ws","data","colWidth","map","row","val","toString","charCodeAt","length","result","i","j","json_to_array","key","jsonData","v","fixdata","o","l","w","byteLength","String","fromCharCode","apply","Uint8Array","slice","get_header_row","sheet","headers","range","utils","decode_range","C","R","s","r","c","e","cell","encode_cell","hdr","t","format_cell","push","export_table_to_excel","id","filename","table","document","getElementById","wb","table_to_book","writeFile","export_json_to_excel","title","autoWidth","book_new","unshift","json_to_sheet","header","skipHeader","arr","book_append_sheet","export_array_to_excel","aoa_to_sheet","read","type","workbook","firstSheetName","SheetNames","worksheet","Sheets","results","sheet_to_json"],"sources":["D:/work/workspace/order/xboot-plus-front/src/libs/excel.js"],"sourcesContent":["import XLSX from 'xlsx';\r\n\r\nfunction auto_width(ws, data){\r\n    /*set worksheet max width per col*/\r\n    const colWidth = data.map(row => row.map(val => {\r\n        /*if null/undefined*/\r\n        if (val == null) {\r\n            return {'wch': 10};\r\n        }\r\n        /*if chinese*/\r\n        else if (val.toString().charCodeAt(0) > 255) {\r\n            return {'wch': val.toString().length * 2};\r\n        } else {\r\n            return {'wch': val.toString().length};\r\n        }\r\n    }))\r\n    /*start in the first row*/\r\n    let result = colWidth[0];\r\n    for (let i = 1; i < colWidth.length; i++) {\r\n        for (let j = 0; j < colWidth[i].length; j++) {\r\n            if (result[j]['wch'] < colWidth[i][j]['wch']) {\r\n                result[j]['wch'] = colWidth[i][j]['wch'];\r\n            }\r\n        }\r\n    }\r\n    ws['!cols'] = result;\r\n}\r\n\r\nfunction json_to_array(key, jsonData){\r\n    return jsonData.map(v => key.map(j => { return v[j] }));\r\n}\r\n\r\n// fix data,return string\r\nfunction fixdata(data) {\r\n    let o = ''\r\n    let l = 0\r\n    const w = 10240\r\n    for (; l < data.byteLength / w; ++l) o += String.fromCharCode.apply(null, new Uint8Array(data.slice(l * w, l * w + w)))\r\n    o += String.fromCharCode.apply(null, new Uint8Array(data.slice(l * w)))\r\n    return o\r\n}\r\n\r\n// get head from excel file,return array\r\nfunction get_header_row(sheet) {\r\n    const headers = []\r\n    const range = XLSX.utils.decode_range(sheet['!ref'])\r\n    let C\r\n    const R = range.s.r /* start in the first row */\r\n    for (C = range.s.c; C <= range.e.c; ++C) { /* walk every column in the range */\r\n        var cell = sheet[XLSX.utils.encode_cell({ c: C, r: R })] /* find the cell in the first row */\r\n        var hdr = 'UNKNOWN ' + C // <-- replace with your desired default\r\n        if (cell && cell.t) hdr = XLSX.utils.format_cell(cell)\r\n        headers.push(hdr)\r\n    }\r\n    return headers\r\n}\r\n\r\nexport const export_table_to_excel= (id, filename) => {\r\n    const table = document.getElementById(id);\r\n    const wb = XLSX.utils.table_to_book(table);\r\n    XLSX.writeFile(wb, filename);\r\n}\r\n\r\nexport const export_json_to_excel = ({data, key, title, filename, autoWidth}) => {\r\n    const wb = XLSX.utils.book_new();\r\n    data.unshift(title);\r\n    const ws = XLSX.utils.json_to_sheet(data, {header: key, skipHeader: true});\r\n    if(autoWidth){\r\n        const arr = json_to_array(key, data);\r\n        auto_width(ws, arr);\r\n    }\r\n    XLSX.utils.book_append_sheet(wb, ws, filename);\r\n    XLSX.writeFile(wb, filename + '.xlsx');\r\n}\r\n\r\nexport const export_array_to_excel = ({key, data, title, filename, autoWidth}) => {\r\n    const wb = XLSX.utils.book_new();\r\n    const arr = json_to_array(key, data);\r\n    arr.unshift(title);\r\n    const ws = XLSX.utils.aoa_to_sheet(arr);\r\n    if(autoWidth){\r\n        auto_width(ws, arr);\r\n    }\r\n    XLSX.utils.book_append_sheet(wb, ws, filename);\r\n    XLSX.writeFile(wb, filename + '.xlsx');\r\n}\r\n\r\nexport const read = (data, type) => {\r\n    const workbook = XLSX.read(data, { type: type });\r\n    const firstSheetName = workbook.SheetNames[0];\r\n    const worksheet = workbook.Sheets[firstSheetName];\r\n    const header = get_header_row(worksheet);\r\n    const results = XLSX.utils.sheet_to_json(worksheet);\r\n    return {header, results};\r\n}\r\n\r\nexport default {\r\n  export_table_to_excel,\r\n  export_array_to_excel,\r\n  export_json_to_excel,\r\n  read\r\n}\r\n"],"mappings":"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"}]}