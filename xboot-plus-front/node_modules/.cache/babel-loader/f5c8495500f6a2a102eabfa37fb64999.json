{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\auto-chat\\setting\\setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\auto-chat\\setting\\setting.vue","mtime":1651629755151},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\babel.config.js","mtime":1651629754991},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0QXV0b0NoYXRTZXQsIGVkaXRBdXRvQ2hhdFNldCwgZ2V0T3RoZXJTZXQgfSBmcm9tICJAL2FwaS9pbmRleCI7CmltcG9ydCBlZGl0b3IgZnJvbSAiQC92aWV3cy9teS1jb21wb25lbnRzL3hib290L2VkaXRvciI7CmltcG9ydCB1cGxvYWRQaWNJbnB1dCBmcm9tICJAL3ZpZXdzL215LWNvbXBvbmVudHMveGJvb3QvdXBsb2FkLXBpYy1pbnB1dCI7CmltcG9ydCB2dWVkcmFnZ2FibGUgZnJvbSAidnVlZHJhZ2dhYmxlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjaGF0LXNldHRpbmciLAogIGNvbXBvbmVudHM6IHsKICAgIGVkaXRvcjogZWRpdG9yLAogICAgdXBsb2FkUGljSW5wdXQ6IHVwbG9hZFBpY0lucHV0LAogICAgdnVlZHJhZ2dhYmxlOiB2dWVkcmFnZ2FibGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJOYW1lOiAiYmFzaWMiLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g6KGo5Y2V5Yqg6L2954q25oCBCiAgICAgIHNhdmVMb2FkaW5nOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIG5vdGljZVR5cGU6ICIiCiAgICAgIH0sCiAgICAgIGZvcm1WYWxpZGF0ZToge30sCiAgICAgIG1vZGFsVHlwZTogMCwKICAgICAgLy8g5re75Yqg5oiW57yW6L6R5qCH6K+GCiAgICAgIG1vZGFsVmlzaWJsZTogZmFsc2UsCiAgICAgIC8vIOa3u+WKoOaIlue8lui+keaYvuekugogICAgICBtb2RhbFRpdGxlOiAiIiwKICAgICAgLy8g5re75Yqg5oiW57yW6L6R5qCH6aKYCiAgICAgIHJlcGx5Rm9ybTogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIGljb246ICIiLAogICAgICAgIGlzSGlnaGxpZ2h0OiBmYWxzZSwKICAgICAgICBpc05ldzogZmFsc2UKICAgICAgfSwKICAgICAgcmVwbHlGb3JtVmFsaWRhdGU6IHsKICAgICAgICBuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHRhZ0xpc3Q6IFtdLAogICAgICBkb21haW46ICIiLAogICAgICBkZW1vVXJsOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgICB0aGlzLmluaXRVcmwoKTsKICAgIH0sCiAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgZ2V0QXV0b0NoYXRTZXQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgaWYgKHJlcy5yZXN1bHQpIHsKICAgICAgICAgICAgLy8g6L2s5o2ibnVsbOS4uiIiCiAgICAgICAgICAgIHZhciB2ID0gcmVzLnJlc3VsdDsKCiAgICAgICAgICAgIGZvciAodmFyIGF0dHIgaW4gdikgewogICAgICAgICAgICAgIGlmICh2W2F0dHJdID09IG51bGwgfHwgdlthdHRyXSA9PSAibnVsbCIpIHsKICAgICAgICAgICAgICAgIHZbYXR0cl0gPSAiIjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBzdHIgPSBKU09OLnN0cmluZ2lmeSh2KTsKICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHN0cik7CiAgICAgICAgICAgIF90aGlzLmZvcm0gPSBkYXRhOwoKICAgICAgICAgICAgaWYgKHJlcy5yZXN1bHQucXVpY2tSZXBsaWVzICYmIHJlcy5yZXN1bHQucXVpY2tSZXBsaWVzLmxlbmd0aCA+PSAwICYmIHJlcy5yZXN1bHQucXVpY2tSZXBsaWVzICE9ICJudWxsIikgewogICAgICAgICAgICAgIF90aGlzLnRhZ0xpc3QgPSBKU09OLnBhcnNlKHJlcy5yZXN1bHQucXVpY2tSZXBsaWVzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaW5pdFVybDogZnVuY3Rpb24gaW5pdFVybCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBnZXRPdGhlclNldCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMucmVzdWx0KSB7CiAgICAgICAgICBfdGhpczIuZG9tYWluID0gcmVzLnJlc3VsdC5kb21haW47CgogICAgICAgICAgX3RoaXMyLnNob3dEZW1vKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzaG93RGVtbzogZnVuY3Rpb24gc2hvd0RlbW8ocHJldmlld1BDKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmRvbWFpbikgewogICAgICAgIHRoaXMuJE1vZGFsLmNvbmZpcm0oewogICAgICAgICAgdGl0bGU6ICLmgqjov5jmnKrphY3nva7orr/pl67ln5/lkI0iLAogICAgICAgICAgY29udGVudDogIuaCqOi/mOacqumFjee9ruW6lOeUqOmDqOe9suiuv+mXruWfn+WQje+8jOaYr+WQpueOsOWcqOeri+WNs+WOu+mFjee9rj/vvIjphY3nva7lkI7or7fliLfmlrDor6XpobXpnaLvvIkiLAogICAgICAgICAgb25PazogZnVuY3Rpb24gb25PaygpIHsKICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogInNldHRpbmciLAogICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICBuYW1lOiAib3RoZXIiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuZGVtb1VybCA9ICIiLmNvbmNhdCh0aGlzLmRvbWFpbiwgIi9jaGF0L2NoYXQuaHRtbD9hY2Nlc3NUb2tlbj0iKS5jb25jYXQodGhpcy5nZXRTdG9yZSgiYWNjZXNzVG9rZW4iKSwgIiZ0aW1lPSIpLmNvbmNhdChuZXcgRGF0ZSgpKTsKCiAgICAgIGlmIChwcmV2aWV3UEMpIHsKICAgICAgICB3aW5kb3cub3Blbih0aGlzLmRlbW9VcmwpOwogICAgICB9CiAgICB9LAogICAgYWRkUXVpY2tSZXBseTogZnVuY3Rpb24gYWRkUXVpY2tSZXBseSgpIHsKICAgICAgdGhpcy5tb2RhbFR5cGUgPSAwOwogICAgICB0aGlzLm1vZGFsVGl0bGUgPSAi5re75Yqg5b+r5o2355+t6K+tIjsKICAgICAgdGhpcy4kcmVmcy5yZXBseUZvcm0ucmVzZXRGaWVsZHMoKTsKICAgICAgdGhpcy5tb2RhbFZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGVkaXRRdWlja1JlcGx5OiBmdW5jdGlvbiBlZGl0UXVpY2tSZXBseSh2KSB7CiAgICAgIHRoaXMubW9kYWxUeXBlID0gMTsKICAgICAgdGhpcy5tb2RhbFRpdGxlID0gIue8lui+keW/q+aNt+efreivrSI7IC8vIOi9rOaNom51bGzkuLoiIgoKICAgICAgZm9yICh2YXIgYXR0ciBpbiB2KSB7CiAgICAgICAgaWYgKHZbYXR0cl0gPT0gbnVsbCkgewogICAgICAgICAgdlthdHRyXSA9ICIiOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIHN0ciA9IEpTT04uc3RyaW5naWZ5KHYpOwogICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2Uoc3RyKTsKICAgICAgdGhpcy5yZXBseUZvcm0gPSBkYXRhOwogICAgICB0aGlzLm1vZGFsVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUodikgewogICAgICB0aGlzLnRhZ0xpc3QgPSB0aGlzLnRhZ0xpc3QuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUubmFtZSAhPSB2Lm5hbWU7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMucmVwbHlGb3JtLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKF90aGlzNC5tb2RhbFR5cGUgPT0gMCkgewogICAgICAgICAgICAvLyDmt7vliqAKICAgICAgICAgICAgX3RoaXM0LnRhZ0xpc3QucHVzaCh7CiAgICAgICAgICAgICAgaWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgICAgICAgIG5hbWU6IF90aGlzNC5yZXBseUZvcm0ubmFtZSwKICAgICAgICAgICAgICBpY29uOiBfdGhpczQucmVwbHlGb3JtLmljb24sCiAgICAgICAgICAgICAgaXNIaWdobGlnaHQ6IF90aGlzNC5yZXBseUZvcm0uaXNIaWdobGlnaHQsCiAgICAgICAgICAgICAgaXNOZXc6IF90aGlzNC5yZXBseUZvcm0uaXNOZXcKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczQubW9kYWxWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyDnvJbovpEKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczQudGFnTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGlmIChfdGhpczQudGFnTGlzdFtpXS5pZCA9PSBfdGhpczQucmVwbHlGb3JtLmlkKSB7CiAgICAgICAgICAgICAgICBfdGhpczQudGFnTGlzdFtpXSA9IF90aGlzNC5yZXBseUZvcm07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczQubW9kYWxWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLmZvcm0ucXVpY2tSZXBsaWVzID0gSlNPTi5zdHJpbmdpZnkodGhpcy50YWdMaXN0KTsKICAgICAgZWRpdEF1dG9DaGF0U2V0KHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM1LnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICBfdGhpczUuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7CgogICAgICAgICAgX3RoaXM1LnNob3dEZW1vKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4RA;AACA;AACA;AACA;AACA;EACAA,oBADA;EAEAC;IACAC,cADA;IAEAC,8BAFA;IAGAC;EAHA,CAFA;EAOAC,IAPA,kBAOA;IACA;MACAC,gBADA;MAEAC,cAFA;MAEA;MACAC,kBAHA;MAIAC;QACAC;MADA,CAJA;MAOAC,gBAPA;MAQAC,YARA;MAQA;MACAC,mBATA;MASA;MACAC,cAVA;MAUA;MACAC;QACAf,QADA;QAEAgB,QAFA;QAGAC,kBAHA;QAIAC;MAJA,CAXA;MAiBAC;QACAnB;UAAAoB;UAAAC;UAAAC;QAAA;MADA,CAjBA;MAoBAC,WApBA;MAqBAC,UArBA;MAsBAC;IAtBA;EAwBA,CAhCA;EAiCAC;IACAC,IADA,kBACA;MACA;MACA;IACA,CAJA;IAKAC,OALA,qBAKA;MAAA;;MACA;MACAC;QACA;;QACA;UACA;YACA;YACA;;YACA;cACA;gBACAC;cACA;YACA;;YACA;YACA;YACA;;YACA,IACAC,2BACAA,mCADA,IAEAA,iCAHA,EAIA;cACA;YACA;UACA;QACA;MACA,CAvBA;IAwBA,CA/BA;IAgCAC,OAhCA,qBAgCA;MAAA;;MACAC;QACA;UACA;;UACA;QACA;MACA,CALA;IAMA,CAvCA;IAwCAC,QAxCA,oBAwCAC,SAxCA,EAwCA;MAAA;;MACA;QACA;UACAC,kBADA;UAEAC,SACA,qCAHA;UAIAC;YACA;cACAtC,eADA;cAEAuC;gBAAAvC;cAAA;YAFA;UAIA;QATA;QAWA;MACA;;MACA,2FACA,aADA,oBAEA,UAFA;;MAGA;QACAwC;MACA;IACA,CA7DA;IA8DAC,aA9DA,2BA8DA;MACA;MACA;MACA;MACA;IACA,CAnEA;IAoEAC,cApEA,0BAoEAZ,CApEA,EAoEA;MACA;MACA,2BAFA,CAGA;;MACA;QACA;UACAA;QACA;MACA;;MACA;MACA;MACA;MACA;IACA,CAjFA;IAkFAa,YAlFA,wBAkFAb,CAlFA,EAkFA;MACA;QACA;MACA,CAFA;IAGA,CAtFA;IAuFAc,YAvFA,0BAuFA;MAAA;;MACA;QACA;UACA;YACA;YACA;cACAC,wBADA;cAEA7C,2BAFA;cAGAgB,2BAHA;cAIAC,yCAJA;cAKAC;YALA;;YAOA;UACA,CAVA,MAUA;YACA;YACA;cACA;gBACA;cACA;YACA;;YACA;UACA;QACA;MACA,CAtBA;IAuBA,CA/GA;IAgHA4B,MAhHA,oBAgHA;MAAA;;MACA;MACA;MACAC;QACA;;QACA;UACA;;UACA;QACA;MACA,CANA;IAOA;EA1HA,CAjCA;EA6JAC,OA7JA,qBA6JA;IACA;EACA;AA/JA","names":["name","components","editor","uploadPicInput","vuedraggable","data","tabName","loading","saveLoading","form","noticeType","formValidate","modalType","modalVisible","modalTitle","replyForm","icon","isHighlight","isNew","replyFormValidate","required","message","trigger","tagList","domain","demoUrl","methods","init","getData","getAutoChatSet","v","res","initUrl","getOtherSet","showDemo","previewPC","title","content","onOk","query","window","addQuickReply","editQuickReply","handleDelete","handleSubmit","id","submit","editAutoChatSet","mounted"],"sourceRoot":"src/views/auto-chat/setting","sources":["setting.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <Card class=\"chat\">\r\n      <Row :gutter=\"20\">\r\n        <Col :md=\"24\" :lg=\"12\">\r\n          <div class=\"setting-content\">\r\n            <div class=\"setting-title\">智能助手页面配置</div>\r\n            <Tabs v-model=\"tabName\">\r\n              <TabPane label=\"基础配置\" name=\"basic\"></TabPane>\r\n              <TabPane label=\"输入框\" name=\"quick\"></TabPane>\r\n              <TabPane label=\"公告\" name=\"notice\"></TabPane>\r\n              <TabPane label=\"反馈\" name=\"feedback\"></TabPane>\r\n              <TabPane label=\"未知答复\" name=\"system\"></TabPane>\r\n            </Tabs>\r\n            <div style=\"position: relative\">\r\n              <Form\r\n                ref=\"emailForm\"\r\n                :model=\"form\"\r\n                :label-width=\"120\"\r\n                label-position=\"left\"\r\n                :rules=\"formValidate\"\r\n              >\r\n                <div v-show=\"tabName == 'basic'\">\r\n                  <FormItem label=\"对话框标题名称\" prop=\"title\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      v-model=\"form.title\"\r\n                      placeholder=\"请输入对话框标题名称\"\r\n                    />\r\n                  </FormItem>\r\n                  <FormItem label=\"机器人头像\" prop=\"avatar\" class=\"form-noheight\">\r\n                    <uploadPicInput v-model=\"form.avatar\" />\r\n                  </FormItem>\r\n                  <FormItem label=\"进入系统提示\" prop=\"sysMessage\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      v-model=\"form.sysMessage\"\r\n                      placeholder=\"请输入进入系统提示\"\r\n                    />\r\n                  </FormItem>\r\n                  <FormItem label=\"初始消息\" prop=\"welcomeMessage\">\r\n                    <Input\r\n                      type=\"textarea\"\r\n                      :rows=\"5\"\r\n                      v-model=\"form.welcomeMessage\"\r\n                      placeholder=\"请输入点踩后显示的文本\"\r\n                    />\r\n                  </FormItem>\r\n                  <FormItem label=\"初始富文本消息\" prop=\"initMessage\">\r\n                    <editor\r\n                      id=\"initMessage\"\r\n                      v-model=\"form.initMessage\"\r\n                      height=\"150\"\r\n                    />\r\n                  </FormItem>\r\n                </div>\r\n                <div v-show=\"tabName == 'quick'\">\r\n                  <FormItem label=\"输入框占位文本\" prop=\"placeholder\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      v-model=\"form.placeholder\"\r\n                      placeholder=\"请输入输入框占位文本\"\r\n                    />\r\n                  </FormItem>\r\n                  <FormItem label=\"快捷短语\" prop=\"quickReplies\">\r\n                    <vuedraggable\r\n                      :list=\"tagList\"\r\n                      :animation=\"200\"\r\n                      ghost-class=\"thumb-ghost\"\r\n                    >\r\n                      <Tag\r\n                        size=\"large\"\r\n                        closable\r\n                        v-for=\"(item, index) in tagList\"\r\n                        :key=\"index\"\r\n                        :color=\"item.isHighlight ? 'blue' : 'default'\"\r\n                        :class=\"{ 'ivu-close-color': item.isHighlight }\"\r\n                        @click.native=\"editQuickReply(item)\"\r\n                        @on-close=\"handleDelete(item)\"\r\n                        ><span v-if=\"item.icon\">[{{ item.icon }}] </span\r\n                        >{{ item.name }}</Tag\r\n                      >\r\n                    </vuedraggable>\r\n                    <div style=\"display: flex; align-items: center\">\r\n                      <Button\r\n                        icon=\"md-add\"\r\n                        type=\"dashed\"\r\n                        @click=\"addQuickReply\"\r\n                        style=\"margin-top: 5px\"\r\n                        >添加快捷短语</Button\r\n                      >\r\n                      <Tooltip\r\n                        content=\"点击短语可编辑，可拖拽交换顺序\"\r\n                        placement=\"right\"\r\n                        transfer\r\n                        max-width=\"280\"\r\n                        style=\"\r\n                          display: inline-block !important;\r\n                          padding-top: 5px;\r\n                        \"\r\n                      >\r\n                        <Icon\r\n                          type=\"md-help-circle\"\r\n                          size=\"20\"\r\n                          color=\"#c5c5c5\"\r\n                          style=\"margin-left: 10px; cursor: pointer\"\r\n                        />\r\n                      </Tooltip>\r\n                    </div>\r\n                  </FormItem>\r\n                </div>\r\n                <div v-show=\"tabName == 'notice'\">\r\n                  <FormItem label=\"公告开关\" prop=\"noticeType\">\r\n                    <i-switch\r\n                      v-model=\"form.noticeType\"\r\n                      :true-value=\"'richtext'\"\r\n                      :false-value=\"''\"\r\n                    >\r\n                      <span slot=\"open\">开</span>\r\n                      <span slot=\"close\">关</span>\r\n                    </i-switch>\r\n                    <Tooltip\r\n                      content=\"开启后将在PC端的右侧显示公告内容\"\r\n                      placement=\"right\"\r\n                      transfer\r\n                      max-width=\"280\"\r\n                      style=\"display: inline-block !important\"\r\n                    >\r\n                      <Icon\r\n                        type=\"md-help-circle\"\r\n                        size=\"20\"\r\n                        color=\"#c5c5c5\"\r\n                        style=\"margin-left: 10px; cursor: pointer\"\r\n                      />\r\n                    </Tooltip>\r\n                  </FormItem>\r\n                  <FormItem label=\"公告标题\" prop=\"noticeTitle\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      v-model=\"form.noticeTitle\"\r\n                      placeholder=\"请输入公告标题\"\r\n                    />\r\n                  </FormItem>\r\n                  <FormItem label=\"公告内容\" prop=\"noticeContent\">\r\n                    <editor\r\n                      id=\"noticeContent\"\r\n                      v-model=\"form.noticeContent\"\r\n                      height=\"250\"\r\n                    />\r\n                  </FormItem>\r\n                </div>\r\n                <div v-show=\"tabName == 'feedback'\">\r\n                  <FormItem label=\"点赞后反馈文本\" prop=\"textOfGood\">\r\n                    <Input\r\n                      type=\"textarea\"\r\n                      :rows=\"5\"\r\n                      v-model=\"form.textOfGood\"\r\n                      placeholder=\"请输入点赞后显示的文本\"\r\n                    />\r\n                  </FormItem>\r\n                  <FormItem label=\"点踩后反馈文本\" prop=\"textOfBad\">\r\n                    <Input\r\n                      type=\"textarea\"\r\n                      :rows=\"5\"\r\n                      v-model=\"form.textOfBad\"\r\n                      placeholder=\"请输入点踩后显示的文本\"\r\n                    />\r\n                  </FormItem>\r\n                </div>\r\n                <div v-show=\"tabName == 'system'\">\r\n                  <FormItem label=\"未找到任何匹配回答的答复\" prop=\"noDataReply\">\r\n                    <editor\r\n                      id=\"noDataReply\"\r\n                      v-model=\"form.noDataReply\"\r\n                      height=\"250\"\r\n                    />\r\n                  </FormItem>\r\n                </div>\r\n                <FormItem>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    style=\"width: 100px\"\r\n                    :loading=\"saveLoading\"\r\n                    @click=\"submit\"\r\n                    >保存更改</Button\r\n                  >\r\n                </FormItem>\r\n              </Form>\r\n              <Spin fix v-if=\"loading\"></Spin>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col :md=\"24\" :lg=\"12\" class=\"iphone-content\">\r\n          <div\r\n            class=\"demo-model\"\r\n            :style=\"{\r\n              backgroundImage:\r\n                'url(' + require('@/assets/icon/iPhoneX.png') + ')',\r\n            }\"\r\n          >\r\n            <div class=\"model-content\">\r\n              <iframe\r\n                scrolling=\"auto\"\r\n                frameborder=\"0\"\r\n                :src=\"demoUrl\"\r\n                id=\"demo-modal\"\r\n                class=\"iframe\"\r\n              ></iframe>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n      <div class=\"preview-pc\" @click=\"showDemo(true)\">\r\n        <Icon type=\"md-desktop\" style=\"margin-right: 5px\" />预览PC版\r\n      </div>\r\n    </Card>\r\n\r\n    <Modal\r\n      :title=\"modalTitle\"\r\n      v-model=\"modalVisible\"\r\n      :mask-closable=\"false\"\r\n      :width=\"500\"\r\n    >\r\n      <Form\r\n        ref=\"replyForm\"\r\n        :model=\"replyForm\"\r\n        label-position=\"top\"\r\n        :rules=\"replyFormValidate\"\r\n      >\r\n        <FormItem label=\"快捷短语\" prop=\"name\">\r\n          <Input v-model=\"replyForm.name\" />\r\n        </FormItem>\r\n        <FormItem label=\"图标\" prop=\"icon\">\r\n          <Select filterable v-model=\"replyForm.icon\" clearable>\r\n            <Option value=\"alarm\">闹钟 alarm</Option>\r\n            <Option value=\"apps\">应用 apps</Option>\r\n            <Option value=\"bullhorn\">喇叭 bullhorn</Option>\r\n            <Option value=\"camera\">相机 camera</Option>\r\n            <Option value=\"cart\">购物车 cart</Option>\r\n            <Option value=\"close\">关闭 close</Option>\r\n            <Option value=\"check\">确认 check</Option>\r\n            <Option value=\"edit\">编辑 edit</Option>\r\n            <Option value=\"ellipsis-h\">更多 ellipsis-h</Option>\r\n            <Option value=\"file\">文件 file</Option>\r\n            <Option value=\"folder\">文件夹 folder</Option>\r\n            <Option value=\"home\">首页 home</Option>\r\n            <Option value=\"image\">图片 image</Option>\r\n            <Option value=\"info-circle\">提示 info-circle</Option>\r\n            <Option value=\"keyboard\">键盘 keyboard</Option>\r\n            <Option value=\"message\">消息 message</Option>\r\n            <Option value=\"mic\">麦克风 mic</Option>\r\n            <Option value=\"paper-plane\">发送 paper-plane</Option>\r\n            <Option value=\"plus\">加号 plus</Option>\r\n            <Option value=\"refresh\">刷新 refresh</Option>\r\n            <Option value=\"search\">搜索 search</Option>\r\n            <Option value=\"share\">分享 share</Option>\r\n            <Option value=\"smile\">笑脸 smile</Option>\r\n            <Option value=\"tel\">电话 tel</Option>\r\n            <Option value=\"thumbs-down\">点赞 thumbs-down</Option>\r\n            <Option value=\"thumbs-up\">点踩 thumbs-up</Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem label=\"高亮显示\" prop=\"isHighlight\">\r\n          <i-switch v-model=\"replyForm.isHighlight\">\r\n            <span slot=\"open\">开</span>\r\n            <span slot=\"close\">关</span>\r\n          </i-switch>\r\n        </FormItem>\r\n        <FormItem label=\"右上角红点\" prop=\"isNew\">\r\n          <i-switch v-model=\"replyForm.isNew\">\r\n            <span slot=\"open\">开</span>\r\n            <span slot=\"close\">关</span>\r\n          </i-switch>\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"modalVisible = false\">取消</Button>\r\n        <Button type=\"primary\" @click=\"handleSubmit\">提交</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAutoChatSet, editAutoChatSet, getOtherSet } from \"@/api/index\";\r\nimport editor from \"@/views/my-components/xboot/editor\";\r\nimport uploadPicInput from \"@/views/my-components/xboot/upload-pic-input\";\r\nimport vuedraggable from \"vuedraggable\";\r\nexport default {\r\n  name: \"chat-setting\",\r\n  components: {\r\n    editor,\r\n    uploadPicInput,\r\n    vuedraggable,\r\n  },\r\n  data() {\r\n    return {\r\n      tabName: \"basic\",\r\n      loading: false, // 表单加载状态\r\n      saveLoading: false,\r\n      form: {\r\n        noticeType: \"\"\r\n      },\r\n      formValidate: {},\r\n      modalType: 0, // 添加或编辑标识\r\n      modalVisible: false, // 添加或编辑显示\r\n      modalTitle: \"\", // 添加或编辑标题\r\n      replyForm: {\r\n        name: \"\",\r\n        icon: \"\",\r\n        isHighlight: false,\r\n        isNew: false,\r\n      },\r\n      replyFormValidate: {\r\n        name: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\r\n      },\r\n      tagList: [],\r\n      domain: \"\",\r\n      demoUrl: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getData();\r\n      this.initUrl();\r\n    },\r\n    getData() {\r\n      this.loading = true;\r\n      getAutoChatSet().then((res) => {\r\n        this.loading = false;\r\n        if (res.success) {\r\n          if (res.result) {\r\n            // 转换null为\"\"\r\n            let v = res.result;\r\n            for (let attr in v) {\r\n              if (v[attr] == null || v[attr] == \"null\") {\r\n                v[attr] = \"\";\r\n              }\r\n            }\r\n            let str = JSON.stringify(v);\r\n            let data = JSON.parse(str);\r\n            this.form = data;\r\n            if (\r\n              res.result.quickReplies &&\r\n              res.result.quickReplies.length >= 0 &&\r\n              res.result.quickReplies != \"null\"\r\n            ) {\r\n              this.tagList = JSON.parse(res.result.quickReplies);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n    initUrl() {\r\n      getOtherSet().then((res) => {\r\n        if (res.result) {\r\n          this.domain = res.result.domain;\r\n          this.showDemo();\r\n        }\r\n      });\r\n    },\r\n    showDemo(previewPC) {\r\n      if (!this.domain) {\r\n        this.$Modal.confirm({\r\n          title: \"您还未配置访问域名\",\r\n          content:\r\n            \"您还未配置应用部署访问域名，是否现在立即去配置?（配置后请刷新该页面）\",\r\n          onOk: () => {\r\n            this.$router.push({\r\n              name: \"setting\",\r\n              query: { name: \"other\" },\r\n            });\r\n          },\r\n        });\r\n        return;\r\n      }\r\n      this.demoUrl = `${this.domain}/chat/chat.html?accessToken=${this.getStore(\r\n        \"accessToken\"\r\n      )}&time=${new Date()}`;\r\n      if (previewPC) {\r\n        window.open(this.demoUrl);\r\n      }\r\n    },\r\n    addQuickReply() {\r\n      this.modalType = 0;\r\n      this.modalTitle = \"添加快捷短语\";\r\n      this.$refs.replyForm.resetFields();\r\n      this.modalVisible = true;\r\n    },\r\n    editQuickReply(v) {\r\n      this.modalType = 1;\r\n      this.modalTitle = \"编辑快捷短语\";\r\n      // 转换null为\"\"\r\n      for (let attr in v) {\r\n        if (v[attr] == null) {\r\n          v[attr] = \"\";\r\n        }\r\n      }\r\n      let str = JSON.stringify(v);\r\n      let data = JSON.parse(str);\r\n      this.replyForm = data;\r\n      this.modalVisible = true;\r\n    },\r\n    handleDelete(v) {\r\n      this.tagList = this.tagList.filter((e) => {\r\n        return e.name != v.name;\r\n      });\r\n    },\r\n    handleSubmit() {\r\n      this.$refs.replyForm.validate((valid) => {\r\n        if (valid) {\r\n          if (this.modalType == 0) {\r\n            // 添加\r\n            this.tagList.push({\r\n              id: new Date().getTime(),\r\n              name: this.replyForm.name,\r\n              icon: this.replyForm.icon,\r\n              isHighlight: this.replyForm.isHighlight,\r\n              isNew: this.replyForm.isNew,\r\n            });\r\n            this.modalVisible = false;\r\n          } else {\r\n            // 编辑\r\n            for (let i = 0; i < this.tagList.length; i++) {\r\n              if (this.tagList[i].id == this.replyForm.id) {\r\n                this.tagList[i] = this.replyForm;\r\n              }\r\n            }\r\n            this.modalVisible = false;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    submit() {\r\n      this.submitLoading = true;\r\n      this.form.quickReplies = JSON.stringify(this.tagList);\r\n      editAutoChatSet(this.form).then((res) => {\r\n        this.submitLoading = false;\r\n        if (res.success) {\r\n          this.$Message.success(\"操作成功\");\r\n          this.showDemo();\r\n        }\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.chat {\r\n  .setting-content {\r\n    padding: 5px 0 0 10px;\r\n    .setting-title {\r\n      font-size: 20px;\r\n      color: rgba(0, 0, 0, 0.85);\r\n      font-weight: 500;\r\n      margin-bottom: 25px;\r\n    }\r\n  }\r\n\r\n  .iphone-content {\r\n    display: flex;\r\n    justify-content: center;\r\n    padding: 10px 0;\r\n    .demo-model {\r\n      background-repeat: no-repeat;\r\n      background-size: 100%;\r\n      width: 360px;\r\n      height: 730px;\r\n      padding: 48px 13px 30px 13px;\r\n      .model-content {\r\n        box-sizing: border-box;\r\n        width: 100%;\r\n        height: 100%;\r\n        .iframe {\r\n          height: 100%;\r\n          width: 100%;\r\n          border-radius: 16px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .ivu-close-color {\r\n    .ivu-icon-ios-close {\r\n      color: #666 !important;\r\n    }\r\n  }\r\n}\r\n.preview-pc {\r\n  position: absolute;\r\n  z-index: 999;\r\n  right: 40px;\r\n  bottom: 50px;\r\n  background-color: #fff;\r\n  width: 150px;\r\n  height: 44px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 22px;\r\n  color: rgba(0, 0, 0, 0.87);\r\n  cursor: pointer;\r\n  -webkit-box-shadow: 0 12px 12px 0 rgba(9, 7, 7, 0.03),\r\n    0 8px 4px 0 rgba(0, 0, 0, 0.04);\r\n  box-shadow: 0 12px 12px 0 rgba(9, 7, 7, 0.03), 0 8px 4px 0 rgba(0, 0, 0, 0.04);\r\n  &:hover {\r\n    color: #2d8cf0;\r\n    background: #fafafa;\r\n  }\r\n}\r\n</style>"]}]}