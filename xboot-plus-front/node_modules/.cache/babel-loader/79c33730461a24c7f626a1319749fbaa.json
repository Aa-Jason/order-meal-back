{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\access\\access.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\access\\access.vue","mtime":1651629755124},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\babel.config.js","mtime":1651629754991},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhY2Nlc3NfaW5kZXgiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiB7CiAgICAgIHBlcm1UeXBlczogW10sCiAgICAgIHJvbGVzOiBbXSwKICAgICAgZXhhbXBsZTogIjxCdXR0b24gdi1oYXM9XCInYWRkJ1wiPua3u+WKoOaMiemSrjwvQnV0dG9uPiIsCiAgICAgIGV4YW1wbGVSb2xlOiAiPEJ1dHRvbiB2LWhhc1JvbGU9XCInUk9MRV9BRE1JTidcIj7mt7vliqDmjInpkq48L0J1dHRvbj4iLAogICAgICBjb2x1bW5zOiBbewogICAgICAgIHRpdGxlOiAi5aeT5ZCNIiwKICAgICAgICBrZXk6ICJuYW1lIiwKICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBwYXJhbXMpIHsKICAgICAgICAgIHJldHVybiBoKCJkaXYiLCBbaCgiSWNvbiIsIHsKICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICB0eXBlOiAiaW9zLXBlcnNvbiIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICBtYXJnaW46ICIwIDVweCAwIDAiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLCBoKCJzdHJvbmciLCBwYXJhbXMucm93Lm5hbWUpXSk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLlubTpvoQiLAogICAgICAgIGtleTogImFnZSIKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi5Zyw5Z2AIiwKICAgICAgICBrZXk6ICJhZGRyZXNzIgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLmk43kvZwiLAogICAgICAgIGtleTogImFjdGlvbiIsCiAgICAgICAgd2lkdGg6IDE1MCwKICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgcGFyYW1zKSB7CiAgICAgICAgICBpZiAoX3RoaXMucGVybVR5cGVzLmluY2x1ZGVzKCJlZGl0IikpIHsKICAgICAgICAgICAgcmV0dXJuIGgoImRpdiIsIFtoKCJCdXR0b24iLCB7CiAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogIjVweCIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7fQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgIue8lui+kSIpLCBoKCJCdXR0b24iLCB7CiAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICBzaXplOiAic21hbGwiCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkge30KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sICLliKDpmaQiKV0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGgoImRpdiIsIFtoKCJCdXR0b24iLCB7CiAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICBzaXplOiAic21hbGwiCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBvbjogewogICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkge30KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sICLliKDpmaQiKV0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfV0sCiAgICAgIGRhdGE6IFt7CiAgICAgICAgbmFtZTogIkpvaG4gQnJvd24iLAogICAgICAgIGFnZTogMTgsCiAgICAgICAgYWRkcmVzczogIk5ldyBZb3JrIE5vLiAxIExha2UgUGFyayIKICAgICAgfSwgewogICAgICAgIG5hbWU6ICJKaW0gR3JlZW4iLAogICAgICAgIGFnZTogMjQsCiAgICAgICAgYWRkcmVzczogIkxvbmRvbiBOby4gMSBMYWtlIFBhcmsiCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAiSm9lIEJsYWNrIiwKICAgICAgICBhZ2U6IDMwLAogICAgICAgIGFkZHJlc3M6ICJTeWRuZXkgTm8uIDEgTGFrZSBQYXJrIgogICAgICB9XQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBhdmF0YXI6IGZ1bmN0aW9uIGF2YXRhcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuYXZhdGFyOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaW5pdE1ldGE6IGZ1bmN0aW9uIGluaXRNZXRhKCkgewogICAgICBpZiAodGhpcy4kcm91dGUubWV0YS5wZXJtVHlwZXMpIHsKICAgICAgICB0aGlzLnBlcm1UeXBlcyA9IHRoaXMuJHJvdXRlLm1ldGEucGVybVR5cGVzOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0TWV0YSgpOwogICAgdGhpcy5yb2xlcyA9IHRoaXMuZ2V0U3RvcmUoInJvbGVzIik7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;EACAA,oBADA;EAEAC,IAFA,kBAEA;IAAA;;IACA;MACAC,aADA;MAEAC,SAFA;MAGAC,gDAHA;MAIAC,+DAJA;MAKAC,UACA;QACAC,WADA;QAEAC,WAFA;QAGAC;UACA,iBACAC;YACAC;cACAC;YADA,CADA;YAIAC;cACAC;YADA;UAJA,EADA,EASAJ,4BATA;QAWA;MAfA,CADA,EAkBA;QACAH,WADA;QAEAC;MAFA,CAlBA,EAsBA;QACAD,WADA;QAEAC;MAFA,CAtBA,EA0BA;QACAD,WADA;QAEAC,aAFA;QAGAO,UAHA;QAIAC,eAJA;QAKAP;UACA;YACA,iBACAC,EACA,QADA,EAEA;cACAC;gBACAC,eADA;gBAEAK;cAFA,CADA;cAKAJ;gBACAK;cADA,CALA;cAQAC;gBACAC;cADA;YARA,CAFA,EAcA,IAdA,CADA,EAiBAV,EACA,QADA,EAEA;cACAC;gBACAC,aADA;gBAEAK;cAFA,CADA;cAKAE;gBACAC;cADA;YALA,CAFA,EAWA,IAXA,CAjBA;UA+BA,CAhCA,MAgCA;YACA,iBACAV,EACA,QADA,EAEA;cACAC;gBACAC,aADA;gBAEAK;cAFA,CADA;cAKAE;gBACAC;cADA;YALA,CAFA,EAWA,IAXA,CADA;UAeA;QACA;MAvDA,CA1BA,CALA;MAyFAnB,OACA;QACAD,kBADA;QAEAqB,OAFA;QAGAC;MAHA,CADA,EAMA;QACAtB,iBADA;QAEAqB,OAFA;QAGAC;MAHA,CANA,EAWA;QACAtB,iBADA;QAEAqB,OAFA;QAGAC;MAHA,CAXA;IAzFA;EA2GA,CA9GA;EA+GAC;IACAC,MADA,oBACA;MACA;IACA;EAHA,CA/GA;EAoHAC;IACAC,QADA,sBACA;MACA;QACA;MACA;IACA;EALA,CApHA;EA2HAC,OA3HA,qBA2HA;IACA;IACA;EACA;AA9HA","names":["name","data","permTypes","roles","example","exampleRole","columns","title","key","render","h","props","type","style","margin","width","align","size","marginRight","on","click","age","address","computed","avatar","methods","initMeta","created"],"sourceRoot":"src/views/access","sources":["access.vue"],"sourcesContent":["<style lang=\"less\">\r\n@import \"./access.less\";\r\n</style>\r\n\r\n<template>\r\n  <div class=\"access\">\r\n    <Row :gutter=\"10\">\r\n      <Col :xs=\"24\" :sm=\"24\" :lg=\"24\" :xl=\"8\" style=\"margin: 0 0 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-contact\" style=\"margin-right: 5px\"></Icon>当前用户\r\n          </p>\r\n          <div class=\"access-user-content access-current-user-content\">\r\n            <Avatar v-if=\"avatar\" :src=\"avatar\" size=\"100\"></Avatar>\r\n            <Avatar v-else icon=\"md-person\" size=\"100\"></Avatar>\r\n            <p>当前用户本页面拥有按钮权限:</p>\r\n            <b>{{ permTypes }}</b>\r\n          </div>\r\n        </Card>\r\n      </Col>\r\n      <Col :lg=\"24\" :xl=\"16\" style=\"margin: 0 0 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-apps\" style=\"margin-right: 5px\"></Icon\r\n            >当前用户本页面拥有的按钮操作\r\n          </p>\r\n          <Row :gutter=\"10\" align=\"middle\" class=\"access-user-content\">\r\n            <Col span=\"6\" class=\"access-buttons\">\r\n              <Button v-has=\"'add'\" type=\"primary\">添加按钮</Button>\r\n              <Button v-has=\"'edit'\">编辑按钮</Button>\r\n              <Button v-has=\"'delete'\" type=\"error\">删除按钮</Button>\r\n            </Col>\r\n            <Col span=\"18\">\r\n              <div>\r\n                您可以通过更换测试用户账号：\r\n                <code>test</code>或 <code>test2</code> 密码：\r\n                <code>123456</code\r\n                >，然后观察该页面按钮以及部门相关数据权限的变化\r\n                <br />\r\n                <br />自定义权限标签： <code>v-has</code>，示例：\r\n                <code>{{ example }}</code>\r\n                <br />\r\n                <br />说明：该Demo大部分页面为演示功能，前端未配置根据权限隐藏按钮\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n    <Row :gutter=\"10\">\r\n      <Col :sm=\"24\" :lg=\"24\" :xl=\"14\" style=\"margin: 0 0 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-grid\" style=\"margin-right: 5px\"></Icon>表格中权限判断\r\n          </p>\r\n          <div class=\"content-table\">\r\n            <Alert show-icon>\r\n              iView Table组件已支持 slot-scope 用法，建议使用该新用法。\r\n              以下为Render函数中权限按钮示例\r\n            </Alert>\r\n            <Table border :columns=\"columns\" :data=\"data\"></Table>\r\n          </div>\r\n        </Card>\r\n      </Col>\r\n      <Col :sm=\"24\" :lg=\"24\" :xl=\"10\" style=\"margin: 0 0 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-contacts\" style=\"margin-right: 5px\"></Icon\r\n            >通过当前用户角色显示\r\n          </p>\r\n          <p slot=\"extra\">无需配置，全局可用</p>\r\n          <Row class=\"content-role\">\r\n            <div class=\"access-user-roles\">\r\n              <p>当前用户拥有角色:</p>\r\n              <b>{{ roles }}</b>\r\n            </div>\r\n            <div class=\"btns\">\r\n              <Button\r\n                v-hasRole=\"'ROLE_USER'\"\r\n                type=\"primary\"\r\n                style=\"margin-right: 5px\"\r\n                >添加按钮</Button\r\n              >\r\n              <Button v-hasRole=\"'ROLE_TEST'\" type=\"error\">删除按钮</Button>\r\n              <Button v-hasRole=\"'ROLE_ADMIN'\">编辑按钮</Button>\r\n            </div>\r\n            <div class=\"role-demo\">\r\n              自定义角色权限标签：\r\n              <code>v-hasRole</code>\r\n              <br />\r\n              <br />示例：\r\n              <code>{{ exampleRole }}</code>\r\n            </div>\r\n          </Row>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"access_index\",\r\n  data() {\r\n    return {\r\n      permTypes: [],\r\n      roles: [],\r\n      example: \"<Button v-has=\\\"'add'\\\">添加按钮</Button>\",\r\n      exampleRole: \"<Button v-hasRole=\\\"'ROLE_ADMIN'\\\">添加按钮</Button>\",\r\n      columns: [\r\n        {\r\n          title: \"姓名\",\r\n          key: \"name\",\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\"Icon\", {\r\n                props: {\r\n                  type: \"ios-person\",\r\n                },\r\n                style: {\r\n                  margin: \"0 5px 0 0\",\r\n                },\r\n              }),\r\n              h(\"strong\", params.row.name),\r\n            ]);\r\n          },\r\n        },\r\n        {\r\n          title: \"年龄\",\r\n          key: \"age\",\r\n        },\r\n        {\r\n          title: \"地址\",\r\n          key: \"address\",\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 150,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            if (this.permTypes.includes(\"edit\")) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"primary\",\r\n                      size: \"small\",\r\n                    },\r\n                    style: {\r\n                      marginRight: \"5px\",\r\n                    },\r\n                    on: {\r\n                      click: () => {},\r\n                    },\r\n                  },\r\n                  \"编辑\"\r\n                ),\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"error\",\r\n                      size: \"small\",\r\n                    },\r\n                    on: {\r\n                      click: () => {},\r\n                    },\r\n                  },\r\n                  \"删除\"\r\n                ),\r\n              ]);\r\n            } else {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"error\",\r\n                      size: \"small\",\r\n                    },\r\n                    on: {\r\n                      click: () => {},\r\n                    },\r\n                  },\r\n                  \"删除\"\r\n                ),\r\n              ]);\r\n            }\r\n          },\r\n        },\r\n      ],\r\n      data: [\r\n        {\r\n          name: \"John Brown\",\r\n          age: 18,\r\n          address: \"New York No. 1 Lake Park\",\r\n        },\r\n        {\r\n          name: \"Jim Green\",\r\n          age: 24,\r\n          address: \"London No. 1 Lake Park\",\r\n        },\r\n        {\r\n          name: \"Joe Black\",\r\n          age: 30,\r\n          address: \"Sydney No. 1 Lake Park\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    avatar() {\r\n      return this.$store.state.user.avatar;\r\n    },\r\n  },\r\n  methods: {\r\n    initMeta() {\r\n      if (this.$route.meta.permTypes) {\r\n        this.permTypes = this.$route.meta.permTypes;\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.initMeta();\r\n    this.roles = this.getStore(\"roles\");\r\n  },\r\n};\r\n</script>\r\n"]}]}