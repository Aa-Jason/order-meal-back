{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\workspace\\order\\xboot-plus-front\\src\\router\\index.js","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\router\\index.js","mtime":1651629755117},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\babel.config.js","mtime":1651629754991},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyWyJAQGl0ZXJhdG9yIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVmlld1VJIGZyb20gJ3ZpZXctZGVzaWduJzsKaW1wb3J0IHV0aWwgZnJvbSAnLi4vbGlicy91dGlsJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJzsKaW1wb3J0IHsgcm91dGVycyB9IGZyb20gJy4vcm91dGVyJzsKVnVlLnVzZShWdWVSb3V0ZXIpOyAvLyDot6/nlLHphY3nva4KCnZhciBSb3V0ZXJDb25maWcgPSB7CiAgbW9kZTogJ2hpc3RvcnknLAogIHJvdXRlczogcm91dGVycwp9OwpleHBvcnQgdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoUm91dGVyQ29uZmlnKTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgVmlld1VJLkxvYWRpbmdCYXIuc3RhcnQoKTsKICB1dGlsLnRpdGxlKHRvLm1ldGEudGl0bGUpOwogIHZhciBuYW1lID0gdG8ubmFtZTsgLy8g55m95ZCN5Y2VCgogIHZhciB3aGl0ZUxpc3QgPSBbJ2xvZ2luJywgJ2xvZ2luLXFyJywgJ3JlZ2lzdGVyJywgJ3JlZ2lzdGVyLXJlc3VsdCcsICdyZWxhdGUnLCAncmVzZXQnLCAnYXV0aG9yaXplJ107CiAgdmFyIGlzSW5XaGl0ZUxpc3QgPSB1dGlsLm9uZU9mKG5hbWUsIHdoaXRlTGlzdCk7CgogIGlmICghQ29va2llcy5nZXQoJ3VzZXJJbmZvJykgJiYgIWlzSW5XaGl0ZUxpc3QpIHsKICAgIC8vIOWIpOaWreaYr+WQpuW3sue7j+eZu+W9leS4lOmhtemdouS4jeWcqOeZveWQjeWNlQogICAgbmV4dCh7CiAgICAgIG5hbWU6ICdsb2dpbicKICAgIH0pOwogIH0gZWxzZSBpZiAoQ29va2llcy5nZXQoJ3VzZXJJbmZvJykgJiYgbmFtZSA9PSAnbG9naW4nKSB7CiAgICAvLyDliKTmlq3mmK/lkKblt7Lnu4/nmbvlvZXkuJTliY3lvoDnmoTmmK/nmbvlvZXpobUKICAgIHV0aWwudGl0bGUoKTsKICAgIG5leHQoewogICAgICBuYW1lOiAnaG9tZV9pbmRleCcKICAgIH0pOwogIH0gZWxzZSB7CiAgICB1dGlsLnRvRGVmYXVsdFBhZ2UoX3RvQ29uc3VtYWJsZUFycmF5KHJvdXRlcnMpLCBuYW1lLCByb3V0ZXIsIG5leHQpOwogIH0KfSk7CnJvdXRlci5hZnRlckVhY2goZnVuY3Rpb24gKHRvKSB7CiAgdXRpbC5vcGVuTmV3UGFnZShyb3V0ZXIuYXBwLCB0by5uYW1lLCB0by5wYXJhbXMsIHRvLnF1ZXJ5KTsKICBWaWV3VUkuTG9hZGluZ0Jhci5maW5pc2goKTsKICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7Cn0pOw=="},{"version":3,"names":["Vue","ViewUI","util","VueRouter","Cookies","routers","use","RouterConfig","mode","routes","router","beforeEach","to","from","next","LoadingBar","start","title","meta","name","whiteList","isInWhiteList","oneOf","get","toDefaultPage","afterEach","openNewPage","app","params","query","finish","window","scrollTo"],"sources":["D:/work/workspace/order/xboot-plus-front/src/router/index.js"],"sourcesContent":["import Vue from 'vue';\r\nimport ViewUI from 'view-design';\r\nimport util from '../libs/util';\r\nimport VueRouter from 'vue-router';\r\nimport Cookies from 'js-cookie';\r\nimport { routers } from './router';\r\n\r\nVue.use(VueRouter);\r\n\r\n// 路由配置\r\nconst RouterConfig = {\r\n    mode: 'history',\r\n    routes: routers\r\n};\r\n\r\nexport const router = new VueRouter(RouterConfig);\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    ViewUI.LoadingBar.start();\r\n    util.title(to.meta.title);\r\n    var name = to.name;\r\n    // 白名单\r\n    var whiteList = ['login', 'login-qr', 'register', 'register-result', 'relate', 'reset', 'authorize'];\r\n    var isInWhiteList = util.oneOf(name, whiteList);\r\n    if (!Cookies.get('userInfo') && !isInWhiteList) {\r\n        // 判断是否已经登录且页面不在白名单\r\n        next({\r\n            name: 'login'\r\n        });\r\n    } else if (Cookies.get('userInfo') && name == 'login') {\r\n        // 判断是否已经登录且前往的是登录页\r\n        util.title();\r\n        next({\r\n            name: 'home_index'\r\n        });\r\n    } else {\r\n        util.toDefaultPage([...routers], name, router, next);\r\n    }\r\n});\r\n\r\nrouter.afterEach((to) => {\r\n    util.openNewPage(router.app, to.name, to.params, to.query);\r\n    ViewUI.LoadingBar.finish();\r\n    window.scrollTo(0, 0);\r\n});\r\n"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,OAAT,QAAwB,UAAxB;AAEAL,GAAG,CAACM,GAAJ,CAAQH,SAAR,E,CAEA;;AACA,IAAMI,YAAY,GAAG;EACjBC,IAAI,EAAE,SADW;EAEjBC,MAAM,EAAEJ;AAFS,CAArB;AAKA,OAAO,IAAMK,MAAM,GAAG,IAAIP,SAAJ,CAAcI,YAAd,CAAf;AAEPG,MAAM,CAACC,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;EAClCb,MAAM,CAACc,UAAP,CAAkBC,KAAlB;EACAd,IAAI,CAACe,KAAL,CAAWL,EAAE,CAACM,IAAH,CAAQD,KAAnB;EACA,IAAIE,IAAI,GAAGP,EAAE,CAACO,IAAd,CAHkC,CAIlC;;EACA,IAAIC,SAAS,GAAG,CAAC,OAAD,EAAU,UAAV,EAAsB,UAAtB,EAAkC,iBAAlC,EAAqD,QAArD,EAA+D,OAA/D,EAAwE,WAAxE,CAAhB;EACA,IAAIC,aAAa,GAAGnB,IAAI,CAACoB,KAAL,CAAWH,IAAX,EAAiBC,SAAjB,CAApB;;EACA,IAAI,CAAChB,OAAO,CAACmB,GAAR,CAAY,UAAZ,CAAD,IAA4B,CAACF,aAAjC,EAAgD;IAC5C;IACAP,IAAI,CAAC;MACDK,IAAI,EAAE;IADL,CAAD,CAAJ;EAGH,CALD,MAKO,IAAIf,OAAO,CAACmB,GAAR,CAAY,UAAZ,KAA2BJ,IAAI,IAAI,OAAvC,EAAgD;IACnD;IACAjB,IAAI,CAACe,KAAL;IACAH,IAAI,CAAC;MACDK,IAAI,EAAE;IADL,CAAD,CAAJ;EAGH,CANM,MAMA;IACHjB,IAAI,CAACsB,aAAL,oBAAuBnB,OAAvB,GAAiCc,IAAjC,EAAuCT,MAAvC,EAA+CI,IAA/C;EACH;AACJ,CArBD;AAuBAJ,MAAM,CAACe,SAAP,CAAiB,UAACb,EAAD,EAAQ;EACrBV,IAAI,CAACwB,WAAL,CAAiBhB,MAAM,CAACiB,GAAxB,EAA6Bf,EAAE,CAACO,IAAhC,EAAsCP,EAAE,CAACgB,MAAzC,EAAiDhB,EAAE,CAACiB,KAApD;EACA5B,MAAM,CAACc,UAAP,CAAkBe,MAAlB;EACAC,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACH,CAJD"}]}