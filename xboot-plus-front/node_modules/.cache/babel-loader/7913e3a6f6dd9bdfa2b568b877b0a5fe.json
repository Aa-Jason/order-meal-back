{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\my-components\\xboot\\material-center.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\my-components\\xboot\\material-center.vue","mtime":1651629755195},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\babel.config.js","mtime":1651629754991},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICJ2aWV3ZXJqcy9kaXN0L3ZpZXdlci5jc3MiOwppbXBvcnQgVmlld2VyIGZyb20gInZpZXdlcmpzIjsKaW1wb3J0IERQbGF5ZXIgZnJvbSAiZHBsYXllciI7CmltcG9ydCB1dGlsIGZyb20gIkAvbGlicy91dGlsIjsKaW1wb3J0IHsgdXBsb2FkRmlsZSwgZ2V0VXNlckZpbGVMaXN0RGF0YSwgcmVuYW1lVXNlckZpbGUsIHRyYXNoRmlsZSwgY29sbGVjdEZpbGUgfSBmcm9tICJAL2FwaS9pbmRleCI7CmltcG9ydCBmaWxlQ2F0ZWdvcnkgZnJvbSAiQC92aWV3cy9hcHAtdG9CL2ZpbGUvZmlsZUNhdGVnb3J5IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJtYXRlcmlhbENlbnRlciIsCiAgY29tcG9uZW50czogewogICAgZmlsZUNhdGVnb3J5OiBmaWxlQ2F0ZWdvcnkKICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsdWUpIHsKICAgICAgICByZXR1cm4gdXRpbC5vbmVPZih2YWx1ZSwgWyLlm77niYciLCAi6KeG6aKRIl0pOwogICAgICB9LAogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICLlm77niYciCiAgICB9LAogICAgbXVsdGlwbGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICByZWFkb25seTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHNob3dNZW51czogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgc2hvd1VwbG9hZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgc2hvd0lucHV0OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBtYXhsZW5ndGg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyNTAKICAgIH0sCiAgICBpY29uOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogImlvcy1jbG91ZC11cGxvYWQtb3V0bGluZSIKICAgIH0sCiAgICBtYXhTaXplOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogNQogICAgfSwKICAgIGFjY2VwdEltZzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIuanBnLCAuanBlZywgLnBuZywgLmdpZiIKICAgIH0sCiAgICBhY2NlcHRWaWRlbzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIubXA0LCAud212LCAuYXZpLCAubW92LCAuZmx2LCAubWt2IgogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZvcm1hdDogZnVuY3Rpb24gZm9ybWF0KCkgewogICAgICBpZiAodGhpcy5hY2NlcHQpIHsKICAgICAgICB2YXIgZm9ybWF0ID0gW107CiAgICAgICAgdGhpcy5hY2NlcHQuc3BsaXQoIiwiKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBmb3JtYXQucHVzaChlLnJlcGxhY2UoIi4iLCAiIikucmVwbGFjZSgiICIsICIiKSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZvcm1hdDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cGxvYWREYXRhOiB7fSwKICAgICAgYWNjZXNzVG9rZW46IHt9LAogICAgICBhY2NlcHQ6ICIiLAogICAgICB1cmxNb2RlOiBmYWxzZSwKICAgICAgbW9kYWxWaXNpYmxlOiB0aGlzLnZhbHVlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZGF0YUxvYWRpbmc6IGZhbHNlLAogICAgICB1cGxvYWRGaWxlVXJsOiB1cGxvYWRGaWxlLAogICAgICBzZWFyY2hGb3JtOiB7CiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIHR5cGU6ICJpbWFnZSIsCiAgICAgICAgcGFnZU51bWJlcjogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgY2F0ZWdvcnlJZDogIjAiLAogICAgICAgIGlzQ29sbGVjdDogbnVsbAogICAgICB9LAogICAgICB0b3RhbDogMCwKICAgICAgZGF0YTogW10sCiAgICAgIHNlbGVjdExpc3Q6IFtdLAogICAgICBmb3JtOiB7CiAgICAgICAgdXJsOiAiIgogICAgICB9LAogICAgICBydWxlVmFsaWRhdGU6IHsKICAgICAgICB1cmw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXlkIjms5XnmoRVUkzpk77mjqUiLAogICAgICAgICAgdHlwZTogInVybCIKICAgICAgICB9XQogICAgICB9LAogICAgICBkcDogbnVsbCwKICAgICAgdmlkZW9WaXNpYmxlOiBmYWxzZSwKICAgICAgdmlkZW9UaXRsZTogIiIsCiAgICAgIHZpZGVvSWQ6ICJkcGxheWVyIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHRoaXMuYWNjZXNzVG9rZW4gPSB7CiAgICAgICAgYWNjZXNzVG9rZW46IHRoaXMuZ2V0U3RvcmUoImFjY2Vzc1Rva2VuIikKICAgICAgfTsKICAgICAgdGhpcy5jaGFuZ2VBY2NlcHQoKTsKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgfSwKICAgIHNlbGVjdENhdGVnb3J5OiBmdW5jdGlvbiBzZWxlY3RDYXRlZ29yeSh2KSB7CiAgICAgIGlmICh2LmlkID09ICItMSIpIHsKICAgICAgICAvLyDmlLbol4/lpLkKICAgICAgICB0aGlzLnNlYXJjaEZvcm0uY2F0ZWdvcnlJZCA9ICIiOwogICAgICAgIHRoaXMuc2VhcmNoRm9ybS5pc0NvbGxlY3QgPSB0cnVlOwogICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlYXJjaEZvcm0uaXNDb2xsZWN0ID0gbnVsbDsKICAgICAgICB0aGlzLnNlYXJjaEZvcm0uY2F0ZWdvcnlJZCA9IHYuaWQ7CiAgICAgICAgdGhpcy51cGxvYWREYXRhID0gewogICAgICAgICAgY2F0ZWdvcnlJZDogdi5pZAogICAgICAgIH07CiAgICAgICAgdGhpcy5jdXJyQ2F0ZSA9IHYudGl0bGU7CiAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlQWNjZXB0OiBmdW5jdGlvbiBjaGFuZ2VBY2NlcHQoKSB7CiAgICAgIGlmICh0aGlzLm1vZGUgPT0gIuWbvueJhyIpIHsKICAgICAgICB0aGlzLmFjY2VwdCA9IHRoaXMuYWNjZXB0SW1nOwogICAgICB9IGVsc2UgaWYgKHRoaXMubW9kZSA9PSAi6KeG6aKRIikgewogICAgICAgIHRoaXMuYWNjZXB0ID0gdGhpcy5hY2NlcHRWaWRlbzsKICAgICAgfQogICAgfSwKICAgIGNoYW5nZVBhZ2U6IGZ1bmN0aW9uIGNoYW5nZVBhZ2UodikgewogICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZU51bWJlciA9IHY7CiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgIH0sCiAgICBnZXREYXRhTGlzdDogZnVuY3Rpb24gZ2V0RGF0YUxpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmRhdGFMb2FkaW5nID0gdHJ1ZTsKCiAgICAgIGlmICh0aGlzLm1vZGUgPT0gIuinhumikSIpIHsKICAgICAgICB0aGlzLnNlYXJjaEZvcm0udHlwZSA9ICJ2aWRlbyI7CiAgICAgIH0KCiAgICAgIGdldFVzZXJGaWxlTGlzdERhdGEodGhpcy5zZWFyY2hGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5kYXRhTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIF90aGlzLmRhdGEgPSByZXMucmVzdWx0LmNvbnRlbnQ7CgogICAgICAgICAgX3RoaXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGUubmV3TmFtZSA9IGUudGl0bGU7CiAgICAgICAgICAgIGUuc2VsZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgZS5ib3JkZXIgPSBmYWxzZTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzLnRvdGFsID0gcmVzLnJlc3VsdC50b3RhbEVsZW1lbnRzOwoKICAgICAgICAgIGlmIChfdGhpcy5kYXRhLmxlbmd0aCA9PSAwICYmIF90aGlzLnNlYXJjaEZvcm0ucGFnZU51bWJlciA+IDEpIHsKICAgICAgICAgICAgX3RoaXMuc2VhcmNoRm9ybS5wYWdlTnVtYmVyIC09IDE7CgogICAgICAgICAgICBfdGhpcy5nZXREYXRhTGlzdCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2xlYXJTZWxlY3RBbGw6IGZ1bmN0aW9uIGNsZWFyU2VsZWN0QWxsKCkgewogICAgICB0aGlzLnNlbGVjdExpc3QgPSBbXTsKICAgIH0sCiAgICBjaGFuZ2VTZWxlY3Q6IGZ1bmN0aW9uIGNoYW5nZVNlbGVjdCh2KSB7CiAgICAgIHYuc2VsZWN0ZWQgPSAhdi5zZWxlY3RlZDsKCiAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7CiAgICAgICAgaWYgKHYuc2VsZWN0ZWQpIHsKICAgICAgICAgIHRoaXMuc2VsZWN0TGlzdC5wdXNoKHYpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNlbGVjdExpc3QgPSB0aGlzLnNlbGVjdExpc3QuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBlLmlkICE9IHYuaWQ7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHYuc2VsZWN0ZWQpIHsKICAgICAgICAgIGlmICh0aGlzLnNlbGVjdExpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICB0aGlzLnNlbGVjdExpc3RbMF0uc2VsZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5zZWxlY3RMaXN0ID0gW107CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5zZWxlY3RMaXN0LnB1c2godik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2VsZWN0TGlzdCA9IFtdOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGhhbmRlbFN1Ym1pdDogZnVuY3Rpb24gaGFuZGVsU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB1cmwgPSBbXTsKCiAgICAgIGlmICghdGhpcy51cmxNb2RlKSB7CiAgICAgICAgdGhpcy5zZWxlY3RMaXN0LmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHVybC5wdXNoKGUudXJsKTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHsKICAgICAgICAgIHRoaXMuJGVtaXQoIm9uLWNoYW5nZSIsIHVybCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJGVtaXQoIm9uLWNoYW5nZSIsIHVybFswXSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLm1vZGFsVmlzaWJsZSA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICB1cmwucHVzaChfdGhpczIuZm9ybS51cmwpOwoKICAgICAgICAgICAgaWYgKF90aGlzMi5tdWx0aXBsZSkgewogICAgICAgICAgICAgIF90aGlzMi4kZW1pdCgib24tY2hhbmdlIiwgdXJsKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIuJGVtaXQoIm9uLWNoYW5nZSIsIHVybFswXSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzMi5tb2RhbFZpc2libGUgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHByZXZpZXc6IGZ1bmN0aW9uIHByZXZpZXcodikgewogICAgICBpZiAodGhpcy5tb2RlID09ICLlm77niYciKSB7CiAgICAgICAgdGhpcy52aWV3SW1hZ2Uodik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93VmlkZW8odik7CiAgICAgIH0KICAgIH0sCiAgICB2aWV3SW1hZ2U6IGZ1bmN0aW9uIHZpZXdJbWFnZSh2KSB7CiAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOwogICAgICBpbWFnZS5zcmMgPSB2LnVybDsKICAgICAgdmFyIHZpZXdlciA9IG5ldyBWaWV3ZXIoaW1hZ2UsIHsKICAgICAgICBoaWRkZW46IGZ1bmN0aW9uIGhpZGRlbigpIHsKICAgICAgICAgIHZpZXdlci5kZXN0cm95KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmlld2VyLnNob3coKTsKICAgIH0sCiAgICBzaG93VmlkZW86IGZ1bmN0aW9uIHNob3dWaWRlbyh2KSB7CiAgICAgIHRoaXMuZHAgPSBuZXcgRFBsYXllcih7CiAgICAgICAgY29udGFpbmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnZpZGVvSWQpLAogICAgICAgIHNjcmVlbnNob3Q6IHRydWUsCiAgICAgICAgdmlkZW86IHsKICAgICAgICAgIHVybDogdi51cmwKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnZpZGVvVGl0bGUgPSB2LnRpdGxlOwogICAgICB0aGlzLnZpZGVvVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgY2xvc2VWaWRlbzogZnVuY3Rpb24gY2xvc2VWaWRlbygpIHsKICAgICAgaWYgKHRoaXMuZHApIHsKICAgICAgICB0aGlzLmRwLmRlc3Ryb3koKTsKICAgICAgfQogICAgfSwKICAgIGNvbGxlY3Q6IGZ1bmN0aW9uIGNvbGxlY3QodikgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGNvbGxlY3RGaWxlKHsKICAgICAgICBpZDogdi5pZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuJE1vZGFsLnJlbW92ZSgpOwoKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIF90aGlzMy4kTWVzc2FnZS5zdWNjZXNzKHYuaXNDb2xsZWN0ID8gIuWPlua2iOaUtuiXj+aIkOWKnyIgOiAi5pS26JeP5oiQ5YqfIik7CgogICAgICAgICAgX3RoaXMzLmdldERhdGFMaXN0KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbkNvcHk6IGZ1bmN0aW9uIG9uQ29weSgpIHsKICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLlpI3liLbpk77mjqXmiJDlip8iKTsKICAgIH0sCiAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKCkgewogICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuWkjeWItumTvuaOpeWksei0pe+8jOivt+aJi+WKqOWkjeWItiIpOwogICAgfSwKICAgIGVkaXROYW1lOiBmdW5jdGlvbiBlZGl0TmFtZSh2KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmVuYW1lVXNlckZpbGUodikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICBfdGhpczQuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7CgogICAgICAgICAgX3RoaXM0LmdldERhdGFMaXN0KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkZWw6IGZ1bmN0aW9uIGRlbCh2KSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdHJhc2hGaWxlKHsKICAgICAgICBpZHM6IHYuaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICBfdGhpczUuJE1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CgogICAgICAgICAgX3RoaXM1LmdldERhdGFMaXN0KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVGb3JtYXRFcnJvcjogZnVuY3Rpb24gaGFuZGxlRm9ybWF0RXJyb3IoZmlsZSkgewogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgdGhpcy4kTm90aWNlLndhcm5pbmcoewogICAgICAgIHRpdGxlOiAi5LiN5pSv5oyB55qE5paH5Lu25qC85byPIiwKICAgICAgICBkZXNjOiAi5omA6YCJ5paH5Lu24oCYICIgKyBmaWxlLm5hbWUgKyAiIOKAmeagvOW8j+S4jeato+ehriwg6K+36YCJ5oupICIgKyB0aGlzLmFjY2VwdCArICIg5qC85byP5paH5Lu2IgogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVNYXhTaXplOiBmdW5jdGlvbiBoYW5kbGVNYXhTaXplKGZpbGUpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIHRoaXMuJE5vdGljZS53YXJuaW5nKHsKICAgICAgICB0aXRsZTogIuaWh+S7tuWkp+Wwj+i/h+WkpyIsCiAgICAgICAgZGVzYzogIuaJgOmAieaWh+S7tuKAmCAiICsgZmlsZS5uYW1lICsgIiDigJnlpKflsI/ov4flpKcsIOS4jeW+l+i2hei/hyAiICsgdGhpcy5tYXhTaXplICsgIk0uIgogICAgICB9KTsKICAgIH0sCiAgICBiZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZVVwbG9hZCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgaGFuZGxlU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlU3VjY2VzcyhyZXMsIGZpbGUpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuS4iuS8oOaIkOWKnyIpOwogICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUVycm9yOiBmdW5jdGlvbiBoYW5kbGVFcnJvcihlcnJvciwgZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoZXJyb3IudG9TdHJpbmcoKSk7CiAgICB9LAogICAgc2V0Q3VycmVudFZhbHVlOiBmdW5jdGlvbiBzZXRDdXJyZW50VmFsdWUodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSB0aGlzLm1vZGFsVmlzaWJsZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5tb2RhbFZpc2libGUgPSB2YWx1ZTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBtb2RlOiBmdW5jdGlvbiBtb2RlKHZhbCkgewogICAgICB0aGlzLmNoYW5nZUFjY2VwdCgpOwogICAgfSwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSh2YWwpIHsKICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodmFsKTsKICAgIH0sCiAgICBtb2RhbFZpc2libGU6IGZ1bmN0aW9uIG1vZGFsVmlzaWJsZSh2YWx1ZSkgewogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHZhbHVlKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkOA;AACA;AACA;AACA;AACA,SACAA,UADA,EAEAC,mBAFA,EAGAC,cAHA,EAIAC,SAJA,EAKAC,WALA,QAMA,aANA;AAOA;AACA;EACAC,sBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC;MACAC,aADA;MAEAC;IAFA,CADA;IAKAC;MACAC,SADA,qBACAJ,KADA,EACA;QACA;MACA,CAHA;MAIAC,YAJA;MAKAC;IALA,CALA;IAYAG;MACAJ,aADA;MAEAC;IAFA,CAZA;IAgBAI;MACAL,aADA;MAEAC;IAFA,CAhBA;IAoBAK;MACAN,aADA;MAEAC;IAFA,CApBA;IAwBAM;MACAP,aADA;MAEAC;IAFA,CAxBA;IA4BAO;MACAR,aADA;MAEAC;IAFA,CA5BA;IAgCAQ;MAAAT;MAAAC;IAAA,CAhCA;IAiCAS;MACAV,YADA;MAEAC;IAFA,CAjCA;IAqCAU;MACAX,YADA;MAEAC;IAFA,CArCA;IAyCAW;MACAZ,YADA;MAEAC;IAFA,CAzCA;IA6CAY;MACAb,YADA;MAEAC;IAFA;EA7CA,CALA;EAuDAa;IACAC,MADA,oBACA;MACA;QACA;QACA;UACAA;QACA,CAFA;QAGA;MACA,CANA,MAMA;QACA;MACA;IACA;EAXA,CAvDA;EAoEAC,IApEA,kBAoEA;IACA;MACAC,cADA;MAEAC,eAFA;MAGAC,UAHA;MAIAC,cAJA;MAKAC,wBALA;MAMAC,cANA;MAOAC,kBAPA;MAQAC,yBARA;MASAC;QACAC,SADA;QAEA1B,aAFA;QAGA2B,aAHA;QAIAC,YAJA;QAKAC,eALA;QAMAC;MANA,CATA;MAiBAC,QAjBA;MAkBAf,QAlBA;MAmBAgB,cAnBA;MAoBAC;QACAC;MADA,CApBA;MAuBAC;QACAD,MACA;UACAE,cADA;UAEAC,sBAFA;UAGArC;QAHA,CADA;MADA,CAvBA;MAgCAsC,QAhCA;MAiCAC,mBAjCA;MAkCAC,cAlCA;MAmCAC;IAnCA;EAqCA,CA1GA;EA2GAC;IACAC,IADA,kBACA;MACA;QACAzB;MADA;MAGA;MACA;IACA,CAPA;IAQA0B,cARA,0BAQAC,CARA,EAQA;MACA;QACA;QACA;QACA;QACA;MACA,CALA,MAKA;QACA;QACA;QACA;UACAhB;QADA;QAGA;QACA;MACA;IACA,CAvBA;IAwBAiB,YAxBA,0BAwBA;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CA9BA;IA+BAC,UA/BA,sBA+BAF,CA/BA,EA+BA;MACA;MACA;IACA,CAlCA;IAmCAG,WAnCA,yBAmCA;MAAA;;MACA;;MACA;QACA;MACA;;MACAzD;QACA;;QACA;UACA;;UACA;YACA0D;YACAA;YACAA;UACA,CAJA;;UAKA;;UACA;YACA;;YACA;UACA;QACA;MACA,CAfA;IAgBA,CAxDA;IAyDAC,cAzDA,4BAyDA;MACA;IACA,CA3DA;IA4DAC,YA5DA,wBA4DAN,CA5DA,EA4DA;MACAA;;MACA;QACA;UACA;QACA,CAFA,MAEA;UACA;YACA;UACA,CAFA;QAGA;MACA,CARA,MAQA;QACA;UACA;YACA;YACA;UACA;;UACA;QACA,CANA,MAMA;UACA;QACA;MACA;IACA,CAjFA;IAkFAO,YAlFA,0BAkFA;MAAA;;MACA;;MACA;QACA;UACAlB;QACA,CAFA;;QAGA;UACA;QACA,CAFA,MAEA;UACA;QACA;;QACA;MACA,CAVA,MAUA;QACA;UACA;YACAA;;YACA;cACA;YACA,CAFA,MAEA;cACA;YACA;;YACA;UACA;QACA,CAVA;MAWA;IACA,CA3GA;IA4GAmB,OA5GA,mBA4GAR,CA5GA,EA4GA;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CAlHA;IAmHAS,SAnHA,qBAmHAT,CAnHA,EAmHA;MACA;MACAU;MACA;QACAC;UACAC;QACA;MAHA;MAKAA;IACA,CA5HA;IA6HAC,SA7HA,qBA6HAb,CA7HA,EA6HA;MACA;QACAc,gDADA;QAEAC,gBAFA;QAGAC;UACA3B;QADA;MAHA;MAOA;MACA;IACA,CAvIA;IAwIA4B,UAxIA,wBAwIA;MACA;QACA;MACA;IACA,CA5IA;IA6IAC,OA7IA,mBA6IAlB,CA7IA,EA6IA;MAAA;;MACAnD;QAAAsE;MAAA;QACA;;QACA;UACA;;UACA;QACA;MACA,CANA;IAOA,CArJA;IAsJAC,MAtJA,oBAsJA;MACA;IACA,CAxJA;IAyJAC,OAzJA,qBAyJA;MACA;IACA,CA3JA;IA4JAC,QA5JA,oBA4JAtB,CA5JA,EA4JA;MAAA;;MACArD;QACA;UACA;;UACA;QACA;MACA,CALA;IAMA,CAnKA;IAoKA4E,GApKA,eAoKAvB,CApKA,EAoKA;MAAA;;MACApD;QAAA4E;MAAA;QACA;UACA;;UACA;QACA;MACA,CALA;IAMA,CA3KA;IA4KAC,iBA5KA,6BA4KAC,IA5KA,EA4KA;MACA;MACA;QACA7C,iBADA;QAEA8C,MACA,WACAD,SADA,GAEA,eAFA,GAGA,WAHA,GAIA;MAPA;IASA,CAvLA;IAwLAE,aAxLA,yBAwLAF,IAxLA,EAwLA;MACA;MACA;QACA7C,eADA;QAEA8C,MACA,WACAD,SADA,GAEA,eAFA,GAGA,YAHA,GAIA;MAPA;IASA,CAnMA;IAoMAG,YApMA,0BAoMA;MACA;MACA;IACA,CAvMA;IAwMAC,aAxMA,yBAwMAC,GAxMA,EAwMAL,IAxMA,EAwMA;MACA;;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;MACA;IACA,CAhNA;IAiNAM,WAjNA,uBAiNAC,KAjNA,EAiNAP,IAjNA,EAiNAQ,QAjNA,EAiNA;MACA;MACA;IACA,CApNA;IAqNAC,eArNA,2BAqNAjF,KArNA,EAqNA;MACA;QACA;MACA;;MACA;IACA;EA1NA,CA3GA;EAuUAkF;IACA/E,IADA,gBACAgF,GADA,EACA;MACA;IACA,CAHA;IAIAnF,KAJA,iBAIAmF,GAJA,EAIA;MACA;IACA,CANA;IAOA7D,YAPA,wBAOAtB,KAPA,EAOA;MACA;IACA;EATA,CAvUA;EAkVAoF,OAlVA,qBAkVA;IACA;EACA;AApVA","names":["uploadFile","getUserFileListData","renameUserFile","trashFile","collectFile","name","components","fileCategory","props","value","type","default","mode","validator","multiple","readonly","showMenus","showUpload","showInput","maxlength","icon","maxSize","acceptImg","acceptVideo","computed","format","data","uploadData","accessToken","accept","urlMode","modalVisible","loading","dataLoading","uploadFileUrl","searchForm","title","pageNumber","pageSize","categoryId","isCollect","total","selectList","form","url","ruleValidate","required","message","dp","videoVisible","videoTitle","videoId","methods","init","selectCategory","v","changeAccept","changePage","getDataList","e","clearSelectAll","changeSelect","handelSubmit","preview","viewImage","image","hidden","viewer","showVideo","container","screenshot","video","closeVideo","collect","id","onCopy","onError","editName","del","ids","handleFormatError","file","desc","handleMaxSize","beforeUpload","handleSuccess","res","handleError","error","fileList","setCurrentValue","watch","val","mounted"],"sourceRoot":"src/views/my-components/xboot","sources":["material-center.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- 820 -->\r\n    <Modal :title=\"`我的${mode}`\" v-model=\"modalVisible\" :width=\"904\">\r\n      <div v-show=\"!urlMode\">\r\n        <div class=\"upload-nav\">\r\n          <div style=\"display: flex\">\r\n            <Upload\r\n              :action=\"uploadFileUrl\"\r\n              :headers=\"accessToken\"\r\n              :data=\"uploadData\"\r\n              :on-success=\"handleSuccess\"\r\n              :on-error=\"handleError\"\r\n              :format=\"format\"\r\n              :accept=\"accept\"\r\n              :max-size=\"maxSize * 1024\"\r\n              :on-format-error=\"handleFormatError\"\r\n              :on-exceeded-size=\"handleMaxSize\"\r\n              :before-upload=\"beforeUpload\"\r\n              :show-upload-list=\"false\"\r\n              v-if=\"showUpload\"\r\n            >\r\n              <Button\r\n                :loading=\"loading\"\r\n                :icon=\"icon\"\r\n                :disabled=\"!searchForm.categoryId\"\r\n                >上传{{ mode }}</Button\r\n              >\r\n            </Upload>\r\n            <Button\r\n              @click=\"urlMode = true\"\r\n              icon=\"ios-image-outline\"\r\n              style=\"margin-left: 5px\"\r\n              :disabled=\"!searchForm.categoryId\"\r\n              v-if=\"showInput\"\r\n              >网络{{ mode }}</Button\r\n            >\r\n            <Input\r\n              v-model=\"searchForm.title\"\r\n              suffix=\"ios-search\"\r\n              @on-change=\"getDataList\"\r\n              placeholder=\"输入文件名搜索\"\r\n              clearable\r\n              style=\"width: 230px; margin-left: 5px\"\r\n            />\r\n          </div>\r\n          <Button @click=\"getDataList\" icon=\"md-refresh\">刷新</Button>\r\n        </div>\r\n        <div class=\"content-wrap\">\r\n          <!-- 分类 -->\r\n          <div class=\"category\">\r\n            <fileCategory @on-select=\"selectCategory\" showOnly />\r\n          </div>\r\n          <!-- 内容 -->\r\n          <div class=\"content\">\r\n            <div v-show=\"total == 0\" class=\"empty\">\r\n              暂无数据，点击左上角上传按钮添加\r\n            </div>\r\n            <div v-show=\"total > 0\" class=\"wrap\">\r\n              <div\r\n                :class=\"{ item: !item.selected, 'item active': item.selected }\"\r\n                v-for=\"(item, index) in data\"\r\n                :key=\"index\"\r\n                :style=\"{\r\n                  marginRight: (index + 1) % 5 == 0 ? '0px' : '10px',\r\n                  marginBottom: index < 5 ? '20px' : '0px',\r\n                }\"\r\n              >\r\n                <div class=\"preview\" @click=\"changeSelect(item)\">\r\n                  <div class=\"collect-icon\" v-if=\"item.isCollect\">\r\n                    <Icon type=\"md-star\" color=\"#ffc60a\" size=\"16\" />\r\n                  </div>\r\n                  <img :src=\"item.url\" class=\"img\" v-if=\"mode == '图片'\" />\r\n                  <div v-else class=\"video\">\r\n                    <video class=\"cover\">\r\n                      <source :src=\"item.url + '#t=1'\" preload=\"metadata\" />\r\n                    </video>\r\n                    <img class=\"play\" src=\"@/assets/icon/play.png\" />\r\n                  </div>\r\n                  <div class=\"border\" v-show=\"item.selected\"></div>\r\n                  <div class=\"border-hover\"></div>\r\n                  <img\r\n                    src=\"@/assets/icon/select.png\"\r\n                    class=\"select\"\r\n                    v-show=\"item.selected\"\r\n                  />\r\n                </div>\r\n                <Tooltip\r\n                  :content=\"`${item.title} ${util.getFileSize(item.size)}`\"\r\n                  placement=\"top\"\r\n                  :max-width=\"500\"\r\n                >\r\n                  <div class=\"title\">{{ item.title }}</div>\r\n                </Tooltip>\r\n                <div class=\"ops\" v-if=\"showMenus\">\r\n                  <a @click=\"preview(item)\">预览</a>\r\n                  <Divider type=\"vertical\" />\r\n                  <a\r\n                    v-clipboard:copy=\"item.url\"\r\n                    v-clipboard:success=\"onCopy\"\r\n                    v-clipboard:error=\"onError\"\r\n                    v-if=\"readonly\"\r\n                  >\r\n                    复制链接\r\n                  </a>\r\n                  <Poptip width=\"350\" v-if=\"!readonly\"\r\n                    ><a>编辑</a>\r\n                    <div class=\"edit\" slot=\"content\">\r\n                      文件名：\r\n                      <Input\r\n                        v-model=\"item.newName\"\r\n                        style=\"width: 280px\"\r\n                        search\r\n                        enter-button=\"提交\"\r\n                        @on-search=\"editName(item)\"\r\n                      ></Input></div\r\n                  ></Poptip>\r\n                  <Divider type=\"vertical\" v-if=\"!readonly\" />\r\n                  <Dropdown v-if=\"!readonly\">\r\n                    <a>更多</a>\r\n                    <DropdownMenu slot=\"list\" class=\"block-pop\">\r\n                      <div\r\n                        class=\"ivu-dropdown-item\"\r\n                        v-clipboard:copy=\"item.url\"\r\n                        v-clipboard:success=\"onCopy\"\r\n                        v-clipboard:error=\"onError\"\r\n                      >\r\n                        复制链接\r\n                      </div>\r\n                      <div class=\"ivu-dropdown-item\" @click=\"collect(item)\">\r\n                        {{ item.isCollect ? \"取消收藏\" : \"收藏\" }}\r\n                      </div>\r\n                      <Poptip\r\n                        confirm\r\n                        title=\"确认将此素材移动至回收站？\"\r\n                        @on-ok=\"del(item)\"\r\n                        ><div class=\"ivu-dropdown-item\">删除</div></Poptip\r\n                      >\r\n                    </DropdownMenu>\r\n                  </Dropdown>\r\n                </div>\r\n              </div>\r\n              <Spin v-show=\"dataLoading\" fix></Spin>\r\n            </div>\r\n            <div class=\"bottom\">\r\n              <div class=\"select-count\">\r\n                {{\r\n                  selectList.length > 0 ? `已选 ${selectList.length} 项` : \"\"\r\n                }}\r\n              </div>\r\n              <Page\r\n                :current=\"searchForm.pageNumber\"\r\n                :total=\"total\"\r\n                :page-size=\"searchForm.pageSize\"\r\n                @on-change=\"changePage\"\r\n                size=\"small\"\r\n                show-total\r\n                show-elevator\r\n              ></Page>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-show=\"urlMode\">\r\n        <div class=\"upload-nav\">\r\n          <Button @click=\"urlMode = false\" icon=\"ios-arrow-back\">返回</Button>\r\n        </div>\r\n        <div style=\"width: 100%; display: flex\">\r\n          <Form\r\n            ref=\"form\"\r\n            :model=\"form\"\r\n            label-position=\"left\"\r\n            :label-width=\"100\"\r\n            :rules=\"ruleValidate\"\r\n            style=\"margin-right: 10px\"\r\n          >\r\n            <FormItem :label=\"`${mode}链接`\" prop=\"url\">\r\n              <Input\r\n                v-model=\"form.url\"\r\n                type=\"textarea\"\r\n                :rows=\"5\"\r\n                :maxlength=\"maxlength\"\r\n                show-word-limit\r\n                :placeholder=\"`请输入${mode}链接...`\"\r\n                :style=\"`width: ${mode == '图片' ? '600px' : '720px'}`\"\r\n              />\r\n            </FormItem>\r\n          </Form>\r\n          <div v-if=\"mode == '图片'\">\r\n            <Avatar\r\n              v-if=\"!form.url\"\r\n              shape=\"square\"\r\n              icon=\"md-images\"\r\n              size=\"110\"\r\n            />\r\n            <Avatar v-else shape=\"square\" :src=\"form.url\" size=\"110\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"modalVisible = false\">取消</Button>\r\n        <Button\r\n          :disabled=\"\r\n            (selectList.length == 0 && !urlMode) || (!form.url && urlMode)\r\n          \"\r\n          type=\"primary\"\r\n          @click=\"handelSubmit\"\r\n          >确定</Button\r\n        >\r\n      </div>\r\n    </Modal>\r\n    <Modal\r\n      v-model=\"videoVisible\"\r\n      :title=\"videoTitle\"\r\n      :width=\"800\"\r\n      @on-cancel=\"closeVideo\"\r\n      draggable\r\n      footer-hide\r\n      v-if=\"mode == '视频'\"\r\n    >\r\n      <div :id=\"videoId\" style=\"height: 500px\"></div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"viewerjs/dist/viewer.css\";\r\nimport Viewer from \"viewerjs\";\r\nimport DPlayer from \"dplayer\";\r\nimport util from \"@/libs/util\";\r\nimport {\r\n  uploadFile,\r\n  getUserFileListData,\r\n  renameUserFile,\r\n  trashFile,\r\n  collectFile,\r\n} from \"@/api/index\";\r\nimport fileCategory from \"@/views/app-toB/file/fileCategory\";\r\nexport default {\r\n  name: \"materialCenter\",\r\n  components: {\r\n    fileCategory,\r\n  },\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    mode: {\r\n      validator(value) {\r\n        return util.oneOf(value, [\"图片\", \"视频\"]);\r\n      },\r\n      type: String,\r\n      default: \"图片\",\r\n    },\r\n    multiple: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    readonly: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    showMenus: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    showUpload: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    showInput: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    maxlength: { type: Number, default: 250 },\r\n    icon: {\r\n      type: String,\r\n      default: \"ios-cloud-upload-outline\",\r\n    },\r\n    maxSize: {\r\n      type: Number,\r\n      default: 5,\r\n    },\r\n    acceptImg: {\r\n      type: String,\r\n      default: \".jpg, .jpeg, .png, .gif\",\r\n    },\r\n    acceptVideo: {\r\n      type: String,\r\n      default: \".mp4, .wmv, .avi, .mov, .flv, .mkv\",\r\n    },\r\n  },\r\n  computed: {\r\n    format() {\r\n      if (this.accept) {\r\n        let format = [];\r\n        this.accept.split(\",\").forEach((e) => {\r\n          format.push(e.replace(\".\", \"\").replace(\" \", \"\"));\r\n        });\r\n        return format;\r\n      } else {\r\n        return [];\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      uploadData: {},\r\n      accessToken: {},\r\n      accept: \"\",\r\n      urlMode: false,\r\n      modalVisible: this.value,\r\n      loading: false,\r\n      dataLoading: false,\r\n      uploadFileUrl: uploadFile,\r\n      searchForm: {\r\n        title: \"\",\r\n        type: \"image\",\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n        categoryId: \"0\",\r\n        isCollect: null,\r\n      },\r\n      total: 0,\r\n      data: [],\r\n      selectList: [],\r\n      form: {\r\n        url: \"\",\r\n      },\r\n      ruleValidate: {\r\n        url: [\r\n          {\r\n            required: true,\r\n            message: \"请输入合法的URL链接\",\r\n            type: \"url\",\r\n          },\r\n        ],\r\n      },\r\n      dp: null,\r\n      videoVisible: false,\r\n      videoTitle: \"\",\r\n      videoId: \"dplayer\",\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.accessToken = {\r\n        accessToken: this.getStore(\"accessToken\"),\r\n      };\r\n      this.changeAccept();\r\n      this.getDataList();\r\n    },\r\n    selectCategory(v) {\r\n      if (v.id == \"-1\") {\r\n        // 收藏夹\r\n        this.searchForm.categoryId = \"\";\r\n        this.searchForm.isCollect = true;\r\n        this.getDataList();\r\n      } else {\r\n        this.searchForm.isCollect = null;\r\n        this.searchForm.categoryId = v.id;\r\n        this.uploadData = {\r\n          categoryId: v.id,\r\n        };\r\n        this.currCate = v.title;\r\n        this.getDataList();\r\n      }\r\n    },\r\n    changeAccept() {\r\n      if (this.mode == \"图片\") {\r\n        this.accept = this.acceptImg;\r\n      } else if (this.mode == \"视频\") {\r\n        this.accept = this.acceptVideo;\r\n      }\r\n    },\r\n    changePage(v) {\r\n      this.searchForm.pageNumber = v;\r\n      this.getDataList();\r\n    },\r\n    getDataList() {\r\n      this.dataLoading = true;\r\n      if (this.mode == \"视频\") {\r\n        this.searchForm.type = \"video\";\r\n      }\r\n      getUserFileListData(this.searchForm).then((res) => {\r\n        this.dataLoading = false;\r\n        if (res.success) {\r\n          this.data = res.result.content;\r\n          this.data.forEach((e) => {\r\n            e.newName = e.title;\r\n            e.selected = false;\r\n            e.border = false;\r\n          });\r\n          this.total = res.result.totalElements;\r\n          if (this.data.length == 0 && this.searchForm.pageNumber > 1) {\r\n            this.searchForm.pageNumber -= 1;\r\n            this.getDataList();\r\n          }\r\n        }\r\n      });\r\n    },\r\n    clearSelectAll() {\r\n      this.selectList = [];\r\n    },\r\n    changeSelect(v) {\r\n      v.selected = !v.selected;\r\n      if (this.multiple) {\r\n        if (v.selected) {\r\n          this.selectList.push(v);\r\n        } else {\r\n          this.selectList = this.selectList.filter((e) => {\r\n            return e.id != v.id;\r\n          });\r\n        }\r\n      } else {\r\n        if (v.selected) {\r\n          if (this.selectList.length > 0) {\r\n            this.selectList[0].selected = false;\r\n            this.selectList = [];\r\n          }\r\n          this.selectList.push(v);\r\n        } else {\r\n          this.selectList = [];\r\n        }\r\n      }\r\n    },\r\n    handelSubmit() {\r\n      let url = [];\r\n      if (!this.urlMode) {\r\n        this.selectList.forEach((e) => {\r\n          url.push(e.url);\r\n        });\r\n        if (this.multiple) {\r\n          this.$emit(\"on-change\", url);\r\n        } else {\r\n          this.$emit(\"on-change\", url[0]);\r\n        }\r\n        this.modalVisible = false;\r\n      } else {\r\n        this.$refs.form.validate((valid) => {\r\n          if (valid) {\r\n            url.push(this.form.url);\r\n            if (this.multiple) {\r\n              this.$emit(\"on-change\", url);\r\n            } else {\r\n              this.$emit(\"on-change\", url[0]);\r\n            }\r\n            this.modalVisible = false;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    preview(v) {\r\n      if (this.mode == \"图片\") {\r\n        this.viewImage(v);\r\n      } else {\r\n        this.showVideo(v);\r\n      }\r\n    },\r\n    viewImage(v) {\r\n      let image = new Image();\r\n      image.src = v.url;\r\n      let viewer = new Viewer(image, {\r\n        hidden: function () {\r\n          viewer.destroy();\r\n        },\r\n      });\r\n      viewer.show();\r\n    },\r\n    showVideo(v) {\r\n      this.dp = new DPlayer({\r\n        container: document.getElementById(this.videoId),\r\n        screenshot: true,\r\n        video: {\r\n          url: v.url,\r\n        },\r\n      });\r\n      this.videoTitle = v.title;\r\n      this.videoVisible = true;\r\n    },\r\n    closeVideo() {\r\n      if (this.dp) {\r\n        this.dp.destroy();\r\n      }\r\n    },\r\n    collect(v) {\r\n      collectFile({ id: v.id }).then((res) => {\r\n        this.$Modal.remove();\r\n        if (res.success) {\r\n          this.$Message.success(v.isCollect ? \"取消收藏成功\" : \"收藏成功\");\r\n          this.getDataList();\r\n        }\r\n      });\r\n    },\r\n    onCopy() {\r\n      this.$Message.success(\"复制链接成功\");\r\n    },\r\n    onError() {\r\n      this.$Message.warning(\"复制链接失败，请手动复制\");\r\n    },\r\n    editName(v) {\r\n      renameUserFile(v).then((res) => {\r\n        if (res.success) {\r\n          this.$Message.success(\"操作成功\");\r\n          this.getDataList();\r\n        }\r\n      });\r\n    },\r\n    del(v) {\r\n      trashFile({ ids: v.id }).then((res) => {\r\n        if (res.success) {\r\n          this.$Message.success(\"删除成功\");\r\n          this.getDataList();\r\n        }\r\n      });\r\n    },\r\n    handleFormatError(file) {\r\n      this.loading = false;\r\n      this.$Notice.warning({\r\n        title: \"不支持的文件格式\",\r\n        desc:\r\n          \"所选文件‘ \" +\r\n          file.name +\r\n          \" ’格式不正确, 请选择 \" +\r\n          this.accept +\r\n          \" 格式文件\",\r\n      });\r\n    },\r\n    handleMaxSize(file) {\r\n      this.loading = false;\r\n      this.$Notice.warning({\r\n        title: \"文件大小过大\",\r\n        desc:\r\n          \"所选文件‘ \" +\r\n          file.name +\r\n          \" ’大小过大, 不得超过 \" +\r\n          this.maxSize +\r\n          \"M.\",\r\n      });\r\n    },\r\n    beforeUpload() {\r\n      this.loading = true;\r\n      return true;\r\n    },\r\n    handleSuccess(res, file) {\r\n      this.loading = false;\r\n      if (res.success) {\r\n        this.$Message.success(\"上传成功\");\r\n        this.getDataList();\r\n      } else {\r\n        this.$Message.error(res.message);\r\n      }\r\n    },\r\n    handleError(error, file, fileList) {\r\n      this.loading = false;\r\n      this.$Message.error(error.toString());\r\n    },\r\n    setCurrentValue(value) {\r\n      if (value === this.modalVisible) {\r\n        return;\r\n      }\r\n      this.modalVisible = value;\r\n    },\r\n  },\r\n  watch: {\r\n    mode(val) {\r\n      this.changeAccept();\r\n    },\r\n    value(val) {\r\n      this.setCurrentValue(val);\r\n    },\r\n    modalVisible(value) {\r\n      this.$emit(\"input\", value);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.upload-nav {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 20px;\r\n}\r\n.content-wrap {\r\n  display: flex;\r\n\r\n  .category {\r\n    width: 216px;\r\n    padding-right: 16px;\r\n    border-right: 1px solid #dcdee0;\r\n  }\r\n\r\n  .content {\r\n    height: 400px;\r\n    width: 640px;\r\n    margin-left: 16px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    .empty {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n      height: 90%;\r\n      color: #999;\r\n    }\r\n    .wrap {\r\n      position: relative;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      .item {\r\n        width: 120px;\r\n        .preview {\r\n          position: relative;\r\n          height: 120px;\r\n          width: 120px;\r\n          .collect-icon {\r\n            position: absolute;\r\n            right: 5px;\r\n            top: 5px;\r\n            background: #fff;\r\n            z-index: 1;\r\n            border-radius: 50%;\r\n            width: 18px;\r\n            height: 18px;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n          }\r\n          .img {\r\n            height: 100%;\r\n            width: 100%;\r\n            object-fit: cover;\r\n            cursor: pointer;\r\n            background: #f3f3f3;\r\n            transition: all 0.2s;\r\n          }\r\n          .video {\r\n            height: 100%;\r\n            width: 100%;\r\n            cursor: pointer;\r\n            position: relative;\r\n            background: #f3f3f3;\r\n            transition: all 0.2s;\r\n            .cover {\r\n              height: 100%;\r\n              width: 100%;\r\n              object-fit: fill;\r\n            }\r\n            .play {\r\n              position: absolute;\r\n              top: 41px;\r\n              left: 41px;\r\n              height: 40px;\r\n              width: 40px;\r\n              opacity: 0.8;\r\n            }\r\n          }\r\n          .select {\r\n            position: absolute;\r\n            right: 1px;\r\n            bottom: 2px;\r\n            width: 30px;\r\n            height: 30px;\r\n          }\r\n          .border {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            height: 100%;\r\n            width: 100%;\r\n            border: 2px solid #2d8cf0;\r\n            overflow: hidden;\r\n            pointer-events: none;\r\n          }\r\n          .border-hover {\r\n            position: absolute;\r\n            display: none;\r\n            top: 0;\r\n            left: 0;\r\n            height: 100%;\r\n            width: 100%;\r\n            border: 2px solid #2d8cf0;\r\n            overflow: hidden;\r\n            pointer-events: none;\r\n          }\r\n          &:hover {\r\n            .border-hover {\r\n              display: block !important;\r\n            }\r\n          }\r\n        }\r\n\r\n        .title {\r\n          margin-top: 5px;\r\n          width: 120px;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n          cursor: pointer;\r\n        }\r\n        .ops {\r\n          display: flex;\r\n          align-items: center;\r\n          .edit {\r\n            padding: 5px 0;\r\n            display: flex;\r\n            align-items: center;\r\n          }\r\n        }\r\n      }\r\n      .active {\r\n        .img {\r\n          transition: all 0.2s;\r\n          border-color: #2d8cf0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.bottom {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  .select-count {\r\n    color: #999;\r\n  }\r\n}\r\n</style>\r\n\r\n"]}]}