{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\auto-chat\\reply\\addEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\auto-chat\\reply\\addEdit.vue","mtime":1651629755150},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\babel.config.js","mtime":1651629754991},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8g5qC55o2u5L2g55qE5a6e6ZmF6K+35rGCYXBpLmpz5L2N572u6Lev5b6E5L+u5pS5CmltcG9ydCB7IGFkZFJlcGx5LCBlZGl0UmVwbHkgfSBmcm9tICJAL2FwaS9hdXRvQ2hhdCI7CmltcG9ydCBlZGl0b3IgZnJvbSAiQC92aWV3cy9teS1jb21wb25lbnRzL3hib290L2VkaXRvciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYWRkRWRpdCIsCiAgY29tcG9uZW50czogewogICAgZWRpdG9yOiBlZGl0b3IKICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGRhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIwIgogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpc2libGU6IHRoaXMudmFsdWUsCiAgICAgIHRpdGxlOiAiIiwKICAgICAgc3VibWl0TG9hZGluZzogZmFsc2UsCiAgICAgIG1heEhlaWdodDogNTEwLAogICAgICBmb3JtOiB7CiAgICAgICAgLy8g5re75Yqg5oiW57yW6L6R6KGo5Y2V5a+56LGh5Yid5aeL5YyW5pWw5o2uCiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIGtleXdvcmRzOiAiIiwKICAgICAgICBjb250ZW50OiAiIiwKICAgICAgICBnb29kOiAwLAogICAgICAgIGJhZDogMCwKICAgICAgICBzb3J0T3JkZXI6IDAsCiAgICAgICAgaG90OiBmYWxzZSwKICAgICAgICBldmFsdWFibGU6IHRydWUKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V6aqM6K+B6KeE5YiZCiAgICAgIGZvcm1WYWxpZGF0ZTogewogICAgICAgIHRpdGxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGNvbnRlbnQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7fSwKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKF90aGlzLnR5cGUgPT0gIjEiKSB7CiAgICAgICAgICAgIC8vIOe8lui+kQogICAgICAgICAgICBfdGhpcy5zdWJtaXRMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgZWRpdFJlcGx5KF90aGlzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip8iKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgib24tc3VibWl0IiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgX3RoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyDmt7vliqAKICAgICAgICAgICAgX3RoaXMuc3VibWl0TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIGFkZFJlcGx5KF90aGlzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip8iKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgib24tc3VibWl0IiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgX3RoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzZXRDdXJyZW50VmFsdWU6IGZ1bmN0aW9uIHNldEN1cnJlbnRWYWx1ZSh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgPT09IHRoaXMudmlzaWJsZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMudHlwZSA9PSAiMSIpIHsKICAgICAgICB0aGlzLnRpdGxlID0gIue8lui+kSI7CiAgICAgICAgdGhpcy5tYXhIZWlnaHQgPSBOdW1iZXIoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAtIDEyMSkgKyAicHgiOwogICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PSAiMiIpIHsKICAgICAgICB0aGlzLnRpdGxlID0gIua3u+WKoCI7CiAgICAgICAgdGhpcy5tYXhIZWlnaHQgPSBOdW1iZXIoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAtIDEyMSkgKyAicHgiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudGl0bGUgPSAi6K+m57uG5L+h5oGvIjsKICAgICAgICB0aGlzLm1heEhlaWdodCA9ICIxMDAlIjsKICAgICAgfSAvLyDmuIXnqbrmlbDmja4KCgogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRGaWVsZHMoKTsKCiAgICAgIGlmICh0aGlzLnR5cGUgPT0gIjAiIHx8IHRoaXMudHlwZSA9PSAiMSIpIHsKICAgICAgICAvLyDlm57mmL7mlbDmja7lpITnkIYKICAgICAgICB0aGlzLmZvcm0gPSB0aGlzLmRhdGE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5re75YqgCiAgICAgICAgZGVsZXRlIHRoaXMuZm9ybS5pZDsKICAgICAgfQoKICAgICAgdGhpcy52aXNpYmxlID0gdmFsdWU7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHZhbCkgewogICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh2YWwpOwogICAgfSwKICAgIHZpc2libGU6IGZ1bmN0aW9uIHZpc2libGUodmFsdWUpIHsKICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCB2YWx1ZSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;EACAA,eADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC;MACAC,aADA;MAEAC;IAFA,CADA;IAKAC;MACAF;IADA,CALA;IAQAA;MACAA,YADA;MAEAC;IAFA;EARA,CALA;EAkBAC,IAlBA,kBAkBA;IACA;MACAC,mBADA;MAEAC,SAFA;MAGAC,oBAHA;MAIAC,cAJA;MAKAC;QACA;QACAH,SAFA;QAGAI,YAHA;QAIAC,WAJA;QAKAC,OALA;QAMAC,MANA;QAOAC,YAPA;QAQAC,UARA;QASAC;MATA,CALA;MAgBA;MACAC;QACAX;UAAAY;UAAAC;UAAAC;QAAA,EADA;QAEAT;UAAAO;UAAAC;UAAAC;QAAA;MAFA;IAjBA;EAsBA,CAzCA;EA0CAC;IACAC,IADA,kBACA,EADA;IAEAC,MAFA,oBAEA;MAAA;;MACA;QACA;UACA;YACA;YACA;YACAC;cACA;;cACA;gBACA;;gBACA;;gBACA;cACA;YACA,CAPA;UAQA,CAXA,MAWA;YACA;YACA;YACAC;cACA;;cACA;gBACA;;gBACA;;gBACA;cACA;YACA,CAPA;UAQA;QACA;MACA,CA1BA;IA2BA,CA9BA;IA+BAC,eA/BA,2BA+BAzB,KA/BA,EA+BA;MACA;QACA;MACA;;MACA;QACA;QACA,iBACA0B,0DADA;MAEA,CAJA,MAIA;QACA;QACA,iBACAA,0DADA;MAEA,CAJA,MAIA;QACA;QACA;MACA,CAfA,CAgBA;;;MACA;;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;QACA;MACA;;MACA;IACA;EAzDA,CA1CA;EAqGAC;IACA3B,KADA,iBACA4B,GADA,EACA;MACA;IACA,CAHA;IAIAxB,OAJA,mBAIAJ,KAJA,EAIA;MACA;IACA;EANA,CArGA;EA6GA6B,OA7GA,qBA6GA;IACA;EACA;AA/GA","names":["name","components","editor","props","value","type","default","data","visible","title","submitLoading","maxHeight","form","keywords","content","good","bad","sortOrder","hot","evaluable","formValidate","required","message","trigger","methods","init","submit","editReply","addReply","setCurrentValue","Number","watch","val","mounted"],"sourceRoot":"src/views/auto-chat/reply","sources":["addEdit.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- Drawer抽屉 -->\r\n    <Drawer\r\n      :title=\"title\"\r\n      v-model=\"visible\"\r\n      width=\"610\"\r\n      draggable\r\n      :mask-closable=\"type == '0'\"\r\n    >\r\n      <div :style=\"{ maxHeight: maxHeight }\" class=\"drawer-content\">\r\n        <Form\r\n          ref=\"form\"\r\n          :model=\"form\"\r\n          :rules=\"formValidate\"\r\n          label-position=\"top\"\r\n        >\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"24\">\r\n              <FormItem label=\"问题标题\" prop=\"title\">\r\n                <Input v-model=\"form.title\" clearable />\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"24\">\r\n              <FormItem\r\n                label=\"关键词（额外触发词 若问题中已包含可无需填写 多个以任意符号分隔）\"\r\n                prop=\"keywords\"\r\n              >\r\n                <Input\r\n                  v-model=\"form.keywords\"\r\n                  type=\"textarea\"\r\n                  :rows=\"4\"\r\n                  clearable\r\n                />\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"24\">\r\n              <FormItem label=\"回答\" prop=\"content\" class=\"form-editor\">\r\n                <editor\r\n                  ref=\"editor\"\r\n                  v-model=\"form.content\"\r\n                  height=\"200\"\r\n                ></editor>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"24\">\r\n              <FormItem\r\n                label=\"权重值（值越大越靠前，支持小数）\"\r\n                prop=\"sortOrder\"\r\n              >\r\n                <InputNumber\r\n                  v-model=\"form.sortOrder\"\r\n                  style=\"width: 100%\"\r\n                ></InputNumber>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"24\">\r\n              <FormItem label=\"热门回答\" prop=\"hot\">\r\n                <div style=\"display: flex; align-items: center\">\r\n                  <i-switch v-model=\"form.hot\">\r\n                    <span slot=\"open\">是</span>\r\n                    <span slot=\"close\">否</span>\r\n                  </i-switch>\r\n                  <Tooltip\r\n                    content=\"开启后将在“猜你想问”中显示热门hot标记\"\r\n                    placement=\"right\"\r\n                    transfer\r\n                    max-width=\"280\"\r\n                    style=\"display: inline-block !important\"\r\n                  >\r\n                    <Icon\r\n                      type=\"md-help-circle\"\r\n                      size=\"20\"\r\n                      color=\"#c5c5c5\"\r\n                      style=\"margin-left: 10px; cursor: pointer\"\r\n                    />\r\n                  </Tooltip>\r\n                </div>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"24\">\r\n              <FormItem label=\"启用反馈（允许赞踩）\" prop=\"evaluable\">\r\n                <i-switch v-model=\"form.evaluable\">\r\n                  <span slot=\"open\">开</span>\r\n                  <span slot=\"close\">关</span>\r\n                </i-switch>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\" v-show=\"form.evaluable\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"点赞数\" prop=\"good\">\r\n                <InputNumber\r\n                  v-model=\"form.good\"\r\n                  style=\"width: 100%\"\r\n                ></InputNumber>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"12\">\r\n              <FormItem label=\"踩数\" prop=\"bad\">\r\n                <InputNumber\r\n                  v-model=\"form.bad\"\r\n                  style=\"width: 100%\"\r\n                ></InputNumber>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <!-- <Row :gutter=\"32\" v-show=\"form.evaluable\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"踩数\" prop=\"bad\">\r\n                <InputNumber\r\n                  v-model=\"form.bad\"\r\n                  style=\"width: 50%\"\r\n                ></InputNumber>\r\n              </FormItem>\r\n            </Col>\r\n          </Row> -->\r\n        </Form>\r\n      </div>\r\n      <div class=\"drawer-footer br\" v-show=\"type != '0'\">\r\n        <Button type=\"primary\" :loading=\"submitLoading\" @click=\"submit\"\r\n          >提交</Button\r\n        >\r\n        <Button @click=\"visible = false\">取消</Button>\r\n      </div>\r\n    </Drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 根据你的实际请求api.js位置路径修改\r\nimport { addReply, editReply } from \"@/api/autoChat\";\r\nimport editor from \"@/views/my-components/xboot/editor\";\r\nexport default {\r\n  name: \"addEdit\",\r\n  components: {\r\n    editor,\r\n  },\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    data: {\r\n      type: Object,\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: \"0\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      visible: this.value,\r\n      title: \"\",\r\n      submitLoading: false,\r\n      maxHeight: 510,\r\n      form: {\r\n        // 添加或编辑表单对象初始化数据\r\n        title: \"\",\r\n        keywords: \"\",\r\n        content: \"\",\r\n        good: 0,\r\n        bad: 0,\r\n        sortOrder: 0,\r\n        hot: false,\r\n        evaluable: true,\r\n      },\r\n      // 表单验证规则\r\n      formValidate: {\r\n        title: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\r\n        content: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    init() {},\r\n    submit() {\r\n      this.$refs.form.validate((valid) => {\r\n        if (valid) {\r\n          if (this.type == \"1\") {\r\n            // 编辑\r\n            this.submitLoading = true;\r\n            editReply(this.form).then((res) => {\r\n              this.submitLoading = false;\r\n              if (res.success) {\r\n                this.$Message.success(\"操作成功\");\r\n                this.$emit(\"on-submit\", true);\r\n                this.visible = false;\r\n              }\r\n            });\r\n          } else {\r\n            // 添加\r\n            this.submitLoading = true;\r\n            addReply(this.form).then((res) => {\r\n              this.submitLoading = false;\r\n              if (res.success) {\r\n                this.$Message.success(\"操作成功\");\r\n                this.$emit(\"on-submit\", true);\r\n                this.visible = false;\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    setCurrentValue(value) {\r\n      if (value === this.visible) {\r\n        return;\r\n      }\r\n      if (this.type == \"1\") {\r\n        this.title = \"编辑\";\r\n        this.maxHeight =\r\n          Number(document.documentElement.clientHeight - 121) + \"px\";\r\n      } else if (this.type == \"2\") {\r\n        this.title = \"添加\";\r\n        this.maxHeight =\r\n          Number(document.documentElement.clientHeight - 121) + \"px\";\r\n      } else {\r\n        this.title = \"详细信息\";\r\n        this.maxHeight = \"100%\";\r\n      }\r\n      // 清空数据\r\n      this.$refs.form.resetFields();\r\n      if (this.type == \"0\" || this.type == \"1\") {\r\n        // 回显数据处理\r\n        this.form = this.data;\r\n      } else {\r\n        // 添加\r\n        delete this.form.id;\r\n      }\r\n      this.visible = value;\r\n    },\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.setCurrentValue(val);\r\n    },\r\n    visible(value) {\r\n      this.$emit(\"input\", value);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"@/styles/drawer-common.less\";\r\n</style>"]}]}