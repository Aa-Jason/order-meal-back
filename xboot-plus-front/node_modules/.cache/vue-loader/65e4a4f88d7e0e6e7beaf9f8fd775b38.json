{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\activiti\\todo-manage\\todoManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\activiti\\todo-manage\\todoManage.vue","mtime":1651629755143},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICB0b2RvTGlzdCwNCiAgcGFzcywNCiAgYmFjaywNCiAgZ2V0QmFja0xpc3QsDQogIGJhY2tUb1Rhc2ssDQogIGRlbGVnYXRlLA0KICBnZXROZXh0Tm9kZSwNCiAgZ2V0Tm9kZSwNCiAgcGFzc0FsbCwNCiAgYmFja0FsbCwNCn0gZnJvbSAiQC9hcGkvYWN0aXZpdGkiOw0KaW1wb3J0IHsgc2VhcmNoVXNlckJ5TmFtZSwgZ2V0RGljdERhdGFCeVR5cGUgfSBmcm9tICJAL2FwaS9pbmRleCI7DQppbXBvcnQgaGlzdG9yaWNEZXRhaWwgZnJvbSAiLi4vaGlzdG9yaWMtZGV0YWlsL2hpc3RvcmljRGV0YWlsLnZ1ZSI7DQppbXBvcnQgeyBzaG9ydGN1dHMgfSBmcm9tICJAL2xpYnMvc2hvcnRjdXRzIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogInRvZG8tbWFuYWdlIiwNCiAgY29tcG9uZW50czogew0KICAgIGhpc3RvcmljRGV0YWlsLA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB0YWJsZVNpemU6ICJkZWZhdWx0IiwNCiAgICAgIG1vZGFsVmlzaWJsZTogZmFsc2UsDQogICAgICBtb2RhbFR5cGU6IDAsDQogICAgICBzaG93SGlzdG9yeTogZmFsc2UsDQogICAgICBwcm9jSW5zdElkOiAiIiwNCiAgICAgIG9wZW5TZWFyY2g6IHRydWUsDQogICAgICBvcGVuVGlwOiB0cnVlLA0KICAgICAgbG9hZGluZzogdHJ1ZSwgLy8g6KGo5Y2V5Yqg6L2954q25oCBDQogICAgICBtb2RhbFRhc2tWaXNpYmxlOiBmYWxzZSwNCiAgICAgIHVzZXJMb2FkaW5nOiBmYWxzZSwNCiAgICAgIGJhY2tMb2FkaW5nOiBmYWxzZSwNCiAgICAgIHVzZXJMaXN0OiBbXSwNCiAgICAgIHNlbGVjdExpc3Q6IFtdLCAvLyDlpJrpgInmlbDmja4NCiAgICAgIGFzc2lnbmVlTGlzdDogW10sDQogICAgICBiYWNrTGlzdDogWw0KICAgICAgICB7DQogICAgICAgICAga2V5OiAiLTEiLA0KICAgICAgICAgIG5hbWU6ICLlj5HotbfkuroiLA0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICAgIGVycm9yOiAiIiwNCiAgICAgIHNob3dBc3NpZ246IGZhbHNlLA0KICAgICAgc2VhcmNoRm9ybTogew0KICAgICAgICAvLyDmkJzntKLmoYblr7nlupRkYXRh5a+56LGhDQogICAgICAgIG5hbWU6ICIiLA0KICAgICAgICBwYWdlTnVtYmVyOiAxLCAvLyDlvZPliY3pobXmlbANCiAgICAgICAgcGFnZVNpemU6IDEwLCAvLyDpobXpnaLlpKflsI8NCiAgICAgIH0sDQogICAgICBzZWxlY3REYXRlOiBudWxsLA0KICAgICAgb3B0aW9uczogew0KICAgICAgICBzaG9ydGN1dHM6IHNob3J0Y3V0cywNCiAgICAgIH0sDQogICAgICBtb2RhbFRhc2tUaXRsZTogIiIsDQogICAgICBtb2RhbFRpdGxlOiAiIiwgLy8g5re75Yqg5oiW57yW6L6R5qCH6aKYDQogICAgICBmb3JtOiB7DQogICAgICAgIGlkOiAiIiwNCiAgICAgICAgdXNlcklkOiAiIiwNCiAgICAgICAgcHJvY0luc3RJZDogIiIsDQogICAgICAgIGNvbW1lbnQ6ICIiLA0KICAgICAgICB0eXBlOiAwLA0KICAgICAgICBhc3NpZ25lZXM6IFtdLA0KICAgICAgICBiYWNrVGFza0tleTogIi0xIiwNCiAgICAgICAgc2VuZE1lc3NhZ2U6IHRydWUsDQogICAgICAgIHNlbmRTbXM6IHRydWUsDQogICAgICAgIHNlbmRFbWFpbDogdHJ1ZSwNCiAgICAgIH0sDQogICAgICBmb3JtVmFsaWRhdGU6IHsNCiAgICAgICAgLy8g6KGo5Y2V6aqM6K+B6KeE5YiZDQogICAgICB9LA0KICAgICAgc3VibWl0TG9hZGluZzogZmFsc2UsIC8vIOa3u+WKoOaIlue8lui+keaPkOS6pOeKtuaAgQ0KICAgICAgY29sdW1uczogWw0KICAgICAgICAvLyDooajlpLQNCiAgICAgICAgew0KICAgICAgICAgIHR5cGU6ICJzZWxlY3Rpb24iLA0KICAgICAgICAgIHdpZHRoOiA2MCwNCiAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0eXBlOiAiaW5kZXgiLA0KICAgICAgICAgIHdpZHRoOiA2MCwNCiAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuS7u+WKoeWQjeensCIsDQogICAgICAgICAga2V5OiAibmFtZSIsDQogICAgICAgICAgbWluV2lkdGg6IDE2MCwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5omA5bGe5rWB56iLIiwNCiAgICAgICAgICBrZXk6ICJwcm9jZXNzTmFtZSIsDQogICAgICAgICAgbWluV2lkdGg6IDE1MCwNCiAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsNCiAgICAgICAgICAgIGxldCB0ZXh0ID0gIiI7DQogICAgICAgICAgICBpZiAocGFyYW1zLnJvdy52ZXJzaW9uKSB7DQogICAgICAgICAgICAgIHRleHQgPSBwYXJhbXMucm93LnByb2Nlc3NOYW1lICsgIiAtIHYuIiArIHBhcmFtcy5yb3cudmVyc2lvbjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBoKCJkaXYiLCBbaCgic3BhbiIsIHRleHQpXSk7DQogICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5aeU5omY5Luj5Yqe5Lq6IiwNCiAgICAgICAgICBrZXk6ICJvd25lciIsDQogICAgICAgICAgbWluV2lkdGg6IDEzMCwNCiAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgICAgcmVuZGVyOiAoaCwgcGFyYW1zKSA9PiB7DQogICAgICAgICAgICBpZiAoIXBhcmFtcy5yb3cub3duZXIpIHsNCiAgICAgICAgICAgICAgcmV0dXJuIGgoInNwYW4iLCAiLSIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGgoDQogICAgICAgICAgICAgICJUb29sdGlwIiwNCiAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICJ0b3AiLA0KICAgICAgICAgICAgICAgICAgY29udGVudDogcGFyYW1zLnJvdy5vd25lclVzZXJuYW1lLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIFsNCiAgICAgICAgICAgICAgICBoKA0KICAgICAgICAgICAgICAgICAgIlRhZyIsDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7DQogICAgICAgICAgICAgICAgICAgICAgIm1hcmdpbi1yaWdodCI6ICI4cHgiLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJib3JkZXIiLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIHBhcmFtcy5yb3cub3duZXINCiAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICBdDQogICAgICAgICAgICApOw0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIua1geeoi+WPkei1t+S6uiIsDQogICAgICAgICAga2V5OiAiYXBwbHllciIsDQogICAgICAgICAgbWluV2lkdGg6IDEzMCwNCiAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgICAgcmVuZGVyOiAoaCwgcGFyYW1zKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gaCgNCiAgICAgICAgICAgICAgIlRvb2x0aXAiLA0KICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogInRvcCIsDQogICAgICAgICAgICAgICAgICBjb250ZW50OiBwYXJhbXMucm93LmFwcGx5ZXJVc2VybmFtZSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICBbDQogICAgICAgICAgICAgICAgaCgNCiAgICAgICAgICAgICAgICAgICJUYWciLA0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBzdHlsZTogew0KICAgICAgICAgICAgICAgICAgICAgICJtYXJnaW4tcmlnaHQiOiAiOHB4IiwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiYm9yZGVyIiwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICBwYXJhbXMucm93LmFwcGx5ZXINCiAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICBdDQogICAgICAgICAgICApOw0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuS8mOWFiOe6pyIsDQogICAgICAgICAga2V5OiAicHJpb3JpdHkiLA0KICAgICAgICAgIHdpZHRoOiAxMDAsDQogICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgIHJlbmRlcjogKGgsIHBhcmFtcykgPT4gew0KICAgICAgICAgICAgbGV0IHRleHQgPSAi5pegIiwNCiAgICAgICAgICAgICAgY29sb3IgPSAiIjsNCiAgICAgICAgICAgIGlmIChwYXJhbXMucm93LnByaW9yaXR5ID09IDApIHsNCiAgICAgICAgICAgICAgY29sb3IgPSAiZ3JlZW4iOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMucm93LnByaW9yaXR5ID09IDEpIHsNCiAgICAgICAgICAgICAgY29sb3IgPSAib3JhbmdlIjsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLnJvdy5wcmlvcml0eSA9PSAyKSB7DQogICAgICAgICAgICAgIGNvbG9yID0gInJlZCI7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBjb2xvciA9ICJkZWZhdWx0IjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuZGljdFByaW9yaXR5LmZvckVhY2goKGUpID0+IHsNCiAgICAgICAgICAgICAgaWYgKGUudmFsdWUgPT0gcGFyYW1zLnJvdy5wcmlvcml0eSkgew0KICAgICAgICAgICAgICAgIHRleHQgPSBlLnRpdGxlOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJldHVybiBoKCJkaXYiLCBbDQogICAgICAgICAgICAgIGgoDQogICAgICAgICAgICAgICAgIlRhZyIsDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yLA0KICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHRleHQNCiAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIueKtuaAgSIsDQogICAgICAgICAga2V5OiAiaXNTdXNwZW5kZWQiLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgICB3aWR0aDogMTEwLA0KICAgICAgICAgIHJlbmRlcjogKGgsIHBhcmFtcykgPT4gew0KICAgICAgICAgICAgaWYgKCFwYXJhbXMucm93LmlzU3VzcGVuZGVkKSB7DQogICAgICAgICAgICAgIHJldHVybiBoKCJkaXYiLCBbDQogICAgICAgICAgICAgICAgaCgiQmFkZ2UiLCB7DQogICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICJzdWNjZXNzIiwNCiAgICAgICAgICAgICAgICAgICAgdGV4dDogIuW3sua/gOa0uyIsDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICBdKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLnJvdy5pc1N1c3BlbmRlZCkgew0KICAgICAgICAgICAgICByZXR1cm4gaCgiZGl2IiwgWw0KICAgICAgICAgICAgICAgIGgoIkJhZGdlIiwgew0KICAgICAgICAgICAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAiZXJyb3IiLA0KICAgICAgICAgICAgICAgICAgICB0ZXh0OiAi5bey5oyC6LW3IiwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0sDQogICAgICAgICAgZmlsdGVyczogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBsYWJlbDogIuW3sua/gOa0uyIsDQogICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGxhYmVsOiAi5bey5oyC6LW3IiwNCiAgICAgICAgICAgICAgdmFsdWU6IHRydWUsDQogICAgICAgICAgICB9LA0KICAgICAgICAgIF0sDQogICAgICAgICAgZmlsdGVyTXVsdGlwbGU6IGZhbHNlLA0KICAgICAgICAgIGZpbHRlck1ldGhvZCh2YWx1ZSwgcm93KSB7DQogICAgICAgICAgICByZXR1cm4gcm93LmlzU3VzcGVuZGVkID09IHZhbHVlOw0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuWIm+W7uuaXtumXtCIsDQogICAgICAgICAga2V5OiAiY3JlYXRlVGltZSIsDQogICAgICAgICAgd2lkdGg6IDE4MCwNCiAgICAgICAgICBzb3J0VHlwZTogImRlc2MiLA0KICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLmk43kvZwiLA0KICAgICAgICAgIGtleTogImFjdGlvbiIsDQogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgIHdpZHRoOiAyODAsDQogICAgICAgICAgZml4ZWQ6ICJyaWdodCIsDQogICAgICAgICAgcmVuZGVyOiAoaCwgcGFyYW1zKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gaCgiZGl2IiwgWw0KICAgICAgICAgICAgICBoKA0KICAgICAgICAgICAgICAgICJhIiwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGV0YWlsKHBhcmFtcy5yb3cpOw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICLnlLPor7for6bmg4UiDQogICAgICAgICAgICAgICksDQogICAgICAgICAgICAgIGgoIkRpdmlkZXIiLCB7DQogICAgICAgICAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJ2ZXJ0aWNhbCIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgIGgoDQogICAgICAgICAgICAgICAgImEiLA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXNzVGFzayhwYXJhbXMucm93KTsNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAi6YCa6L+HIg0KICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICBoKCJEaXZpZGVyIiwgew0KICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICB0eXBlOiAidmVydGljYWwiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICBoKA0KICAgICAgICAgICAgICAgICJhIiwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja1Rhc2socGFyYW1zLnJvdyk7DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIumps+WbniINCiAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgaCgiRGl2aWRlciIsIHsNCiAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgdHlwZTogInZlcnRpY2FsIiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgaCgNCiAgICAgICAgICAgICAgICAiYSIsDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgb246IHsNCiAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlVGFzayhwYXJhbXMucm93KTsNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAi6L2s5YqeIg0KICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICBoKCJEaXZpZGVyIiwgew0KICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICB0eXBlOiAidmVydGljYWwiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICBoKA0KICAgICAgICAgICAgICAgICJhIiwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlzdG9yeShwYXJhbXMucm93KTsNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAi5Y6G5Y+yIg0KICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgXSk7DQogICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgIF0sDQogICAgICBkYXRhOiBbXSwgLy8g6KGo5Y2V5pWw5o2uDQogICAgICB0b3RhbDogMCwgLy8g6KGo5Y2V5pWw5o2u5oC75pWwDQogICAgICBkaWN0UHJpb3JpdHk6IFtdLA0KICAgICAgaXNHYXRld2F5OiBmYWxzZSwNCiAgICAgIGlzQ3VzdG9tOiBmYWxzZSwNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdCgpIHsNCiAgICAgIHRoaXMuZ2V0RGljdERhdGFUeXBlKCk7DQogICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgfSwNCiAgICBnZXREaWN0RGF0YVR5cGUoKSB7DQogICAgICBnZXREaWN0RGF0YUJ5VHlwZSgicHJpb3JpdHkiKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgdGhpcy5kaWN0UHJpb3JpdHkgPSByZXMucmVzdWx0Ow0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIHNlYXJjaFVzZXIodikgew0KICAgICAgaWYgKCF2KSB7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIHRoaXMudXNlckxvYWRpbmcgPSB0cnVlOw0KICAgICAgc2VhcmNoVXNlckJ5TmFtZSh2KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy51c2VyTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLnVzZXJMaXN0ID0gcmVzLnJlc3VsdDsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBjaGFuZ2VTb3J0KGUpIHsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5zb3J0ID0gZS5rZXk7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ub3JkZXIgPSBlLm9yZGVyOw0KICAgICAgaWYgKGUub3JkZXIgPT0gIm5vcm1hbCIpIHsNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLm9yZGVyID0gIiI7DQogICAgICB9DQogICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgfSwNCiAgICBjaGFuZ2VQYWdlKHYpIHsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlTnVtYmVyID0gdjsNCiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICAgIHRoaXMuY2xlYXJTZWxlY3RBbGwoKTsNCiAgICB9LA0KICAgIGNoYW5nZVBhZ2VTaXplKHYpIHsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlU2l6ZSA9IHY7DQogICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgfSwNCiAgICBzZWxlY3REYXRlUmFuZ2Uodikgew0KICAgICAgaWYgKHYpIHsNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnN0YXJ0RGF0ZSA9IHZbMF07DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybS5lbmREYXRlID0gdlsxXTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGNoYW5nZVRhYmxlU2l6ZSh2KSB7DQogICAgICB0aGlzLnRhYmxlU2l6ZSA9IHY7DQogICAgfSwNCiAgICBleHBvcnREYXRhKCkgew0KICAgICAgdGhpcy4kcmVmcy50YWJsZS5leHBvcnRDc3Yoew0KICAgICAgICBmaWxlbmFtZTogIuaVsOaNriIsDQogICAgICB9KTsNCiAgICB9LA0KICAgIGdldERhdGFMaXN0KCkgew0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIHRvZG9MaXN0KHRoaXMuc2VhcmNoRm9ybSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLmRhdGEgPSByZXMucmVzdWx0LmNvbnRlbnQ7DQogICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5yZXN1bHQudG90YWxFbGVtZW50czsNCiAgICAgICAgICBpZiAodGhpcy5kYXRhLmxlbmd0aCA9PSAwICYmIHRoaXMuc2VhcmNoRm9ybS5wYWdlTnVtYmVyID4gMSkgew0KICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VOdW1iZXIgLT0gMTsNCiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlU2VhcmNoKCkgew0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VOdW1iZXIgPSAxOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VTaXplID0gMTA7DQogICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgfSwNCiAgICBoYW5kbGVSZXNldCgpIHsNCiAgICAgIHRoaXMuJHJlZnMuc2VhcmNoRm9ybS5yZXNldEZpZWxkcygpOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VOdW1iZXIgPSAxOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VTaXplID0gMTA7DQogICAgICB0aGlzLnNlbGVjdERhdGUgPSBudWxsOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnN0YXJ0RGF0ZSA9ICIiOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLmVuZERhdGUgPSAiIjsNCiAgICAgIC8vIOmHjeaWsOWKoOi9veaVsOaNrg0KICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgIH0sDQogICAgc2hvd1NlbGVjdChlKSB7DQogICAgICB0aGlzLnNlbGVjdExpc3QgPSBlOw0KICAgIH0sDQogICAgY2xlYXJTZWxlY3RBbGwoKSB7DQogICAgICB0aGlzLiRyZWZzLnRhYmxlLnNlbGVjdEFsbChmYWxzZSk7DQogICAgfSwNCiAgICBoYW5kZWxTdWJtaXQoKSB7DQogICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSB0cnVlOw0KICAgICAgaWYgKHRoaXMuZm9ybS50eXBlID09IDApIHsNCiAgICAgICAgLy8g6YCa6L+HDQogICAgICAgIGlmICgNCiAgICAgICAgICAodGhpcy5zaG93QXNzaWduIHx8IHRoaXMuaXNDdXN0b20pICYmDQogICAgICAgICAgdGhpcy5mb3JtLmFzc2lnbmVlcy5sZW5ndGggPCAxDQogICAgICAgICkgew0KICAgICAgICAgIHRoaXMuZXJyb3IgPSAi6K+36Iez5bCR6YCJ5oup5LiA5Liq5a6h5om55Lq6IjsNCiAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5lcnJvciA9ICIiOw0KICAgICAgICB9DQogICAgICAgIHBhc3ModGhpcy5mb3JtKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7DQogICAgICAgICAgICB0aGlzLm1vZGFsVGFza1Zpc2libGUgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIGlmICh0aGlzLmZvcm0udHlwZSA9PSAxKSB7DQogICAgICAgIC8vIOmps+Wbng0KICAgICAgICBpZiAodGhpcy5mb3JtLmJhY2tUYXNrS2V5ID09ICItMSIpIHsNCiAgICAgICAgICAvLyDpqbPlm57oh7Plj5HotbfkuroNCiAgICAgICAgICBiYWNrKHRoaXMuZm9ybSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuaTjeS9nOaIkOWKnyIpOw0KICAgICAgICAgICAgICB0aGlzLm1vZGFsVGFza1Zpc2libGUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIC8vIOiHquWumuS5iemps+Wbng0KICAgICAgICAgIGlmICh0aGlzLmZvcm0uYmFja1Rhc2tLZXkgIT0gIi0xIiAmJiB0aGlzLmZvcm0uYXNzaWduZWVzLmxlbmd0aCA8IDEpIHsNCiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSAi6K+36Iez5bCR6YCJ5oup5LiA5Liq5a6h5om55Lq6IjsNCiAgICAgICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLmVycm9yID0gIiI7DQogICAgICAgICAgfQ0KICAgICAgICAgIGJhY2tUb1Rhc2sodGhpcy5mb3JtKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7DQogICAgICAgICAgICAgIHRoaXMubW9kYWxUYXNrVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICAgICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSBpZiAodGhpcy5mb3JtLnR5cGUgPT0gMikgew0KICAgICAgICAvLyDovazlip4NCiAgICAgICAgaWYgKCF0aGlzLmZvcm0udXNlcklkKSB7DQogICAgICAgICAgdGhpcy5lcnJvciA9ICLor7fmkJzntKLpgInmi6nkuIDovazlip7kuroiOw0KICAgICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmVycm9yID0gIiI7DQogICAgICAgIH0NCiAgICAgICAgZGVsZWdhdGUodGhpcy5mb3JtKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7DQogICAgICAgICAgICB0aGlzLm1vZGFsVGFza1Zpc2libGUgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQogICAgZGV0YWlsKHYpIHsNCiAgICAgIGxldCBxdWVyeSA9IHsNCiAgICAgICAgaWQ6IHYudGFibGVJZCwNCiAgICAgICAgdHlwZTogMywNCiAgICAgICAgYmFja1JvdXRlOiB0aGlzLiRyb3V0ZS5uYW1lLA0KICAgICAgfTsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgbmFtZTogdi5yb3V0ZU5hbWUsDQogICAgICAgIHF1ZXJ5OiBxdWVyeSwNCiAgICAgIH0pOw0KICAgIH0sDQogICAgcGFzc1Rhc2sodikgew0KICAgICAgdGhpcy5tb2RhbFRhc2tUaXRsZSA9ICLlrqHmibnpgJrov4ciOw0KICAgICAgdGhpcy5mb3JtLmlkID0gdi5pZDsNCiAgICAgIHRoaXMuZm9ybS5wcm9jSW5zdElkID0gdi5wcm9jSW5zdElkOw0KICAgICAgdGhpcy5mb3JtLnByaW9yaXR5ID0gdi5wcmlvcml0eTsNCiAgICAgIHRoaXMuZm9ybS50eXBlID0gMDsNCiAgICAgIHRoaXMubW9kYWxUYXNrVmlzaWJsZSA9IHRydWU7DQogICAgICB0aGlzLnVzZXJMb2FkaW5nID0gdHJ1ZTsNCiAgICAgIGdldE5leHROb2RlKHYucHJvY0RlZklkLCB2LmtleSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMudXNlckxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgdGhpcy5lcnJvciA9ICIiOw0KICAgICAgICAgIGlmIChyZXMucmVzdWx0LnR5cGUgPT0gMikgew0KICAgICAgICAgICAgdGhpcy5pc0dhdGV3YXkgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMuc2hvd0Fzc2lnbiA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy5pc0N1c3RvbSA9IGZhbHNlOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAocmVzLnJlc3VsdC50eXBlID09IDMgfHwgcmVzLnJlc3VsdC50eXBlID09IDQpIHsNCiAgICAgICAgICAgIHRoaXMuaXNHYXRld2F5ID0gdHJ1ZTsNCiAgICAgICAgICAgIHRoaXMuc2hvd0Fzc2lnbiA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy5pc0N1c3RvbSA9IGZhbHNlOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAocmVzLnJlc3VsdC50eXBlID09IDUpIHsNCiAgICAgICAgICAgIHRoaXMuaXNDdXN0b20gPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5pc0dhdGV3YXkgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMuc2hvd0Fzc2lnbiA9IGZhbHNlOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAocmVzLnJlc3VsdC50eXBlID09IDEpIHsNCiAgICAgICAgICAgIHRoaXMuc2hvd0Fzc2lnbiA9IHRydWU7DQogICAgICAgICAgICB0aGlzLmlzR2F0ZXdheSA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy5pc0N1c3RvbSA9IGZhbHNlOw0KICAgICAgICAgICAgaWYgKHJlcy5yZXN1bHQudXNlcnMgJiYgcmVzLnJlc3VsdC51c2Vycy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgIHRoaXMuYXNzaWduZWVMaXN0ID0gcmVzLnJlc3VsdC51c2VyczsNCiAgICAgICAgICAgICAgLy8g6buY6K6k5Yu+6YCJDQogICAgICAgICAgICAgIGxldCBpZHMgPSBbXTsNCiAgICAgICAgICAgICAgcmVzLnJlc3VsdC51c2Vycy5mb3JFYWNoKChlKSA9PiB7DQogICAgICAgICAgICAgICAgaWRzLnB1c2goZS5pZCk7DQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB0aGlzLmZvcm0uYXNzaWduZWVzID0gaWRzOw0KICAgICAgICAgICAgICB0aGlzLnNob3dBc3NpZ24gPSB0cnVlOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy5mb3JtLmFzc2lnbmVlcyA9IFtdOw0KICAgICAgICAgICAgICB0aGlzLnNob3dBc3NpZ24gPSBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgY2hhbmdlQmFja1Rhc2sodikgew0KICAgICAgaWYgKHYgPT0gIi0xIikgew0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICB0aGlzLnVzZXJMb2FkaW5nID0gdHJ1ZTsNCiAgICAgIGxldCBoaXNUYXNrSWQgPSAiIjsNCiAgICAgIHRoaXMuYmFja0xpc3QuZm9yRWFjaCgoZSkgPT4gew0KICAgICAgICBpZiAoZS5rZXkgPT0gdikgew0KICAgICAgICAgIGhpc1Rhc2tJZCA9IGUuaWQ7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgZ2V0Tm9kZSh2LCB7IHRhc2tJZDogdGhpcy5mb3JtLmlkLCBoaXNUYXNrSWQ6IGhpc1Rhc2tJZCB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy51c2VyTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICBpZiAocmVzLnJlc3VsdC51c2VycyAmJiByZXMucmVzdWx0LnVzZXJzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIHRoaXMuYXNzaWduZWVMaXN0ID0gcmVzLnJlc3VsdC51c2VyczsNCiAgICAgICAgICAgIC8vIOm7mOiupOWLvumAiQ0KICAgICAgICAgICAgbGV0IGlkcyA9IFtdOw0KICAgICAgICAgICAgcmVzLnJlc3VsdC51c2Vycy5mb3JFYWNoKChlKSA9PiB7DQogICAgICAgICAgICAgIGlkcy5wdXNoKGUuaWQpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0aGlzLmZvcm0uYXNzaWduZWVzID0gaWRzOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBiYWNrVGFzayh2KSB7DQogICAgICB0aGlzLm1vZGFsVGFza1RpdGxlID0gIuWuoeaJuemps+WbniI7DQogICAgICB0aGlzLmZvcm0uaWQgPSB2LmlkOw0KICAgICAgdGhpcy5mb3JtLnByb2NJbnN0SWQgPSB2LnByb2NJbnN0SWQ7DQogICAgICB0aGlzLmZvcm0ucHJvY0RlZklkID0gdi5wcm9jRGVmSWQ7DQogICAgICB0aGlzLmZvcm0ucHJpb3JpdHkgPSB2LnByaW9yaXR5Ow0KICAgICAgdGhpcy5mb3JtLnR5cGUgPSAxOw0KICAgICAgdGhpcy5zaG93QXNzaWduID0gZmFsc2U7DQogICAgICB0aGlzLmlzQ3VzdG9tID0gZmFsc2U7DQogICAgICB0aGlzLm1vZGFsVGFza1Zpc2libGUgPSB0cnVlOw0KICAgICAgLy8g6I635Y+W5Y+v6amz5Zue6IqC54K5DQogICAgICB0aGlzLmJhY2tMaXN0ID0gWw0KICAgICAgICB7DQogICAgICAgICAga2V5OiAiLTEiLA0KICAgICAgICAgIG5hbWU6ICLlj5HotbfkuroiLA0KICAgICAgICB9LA0KICAgICAgXTsNCiAgICAgIHRoaXMuZm9ybS5iYWNrVGFza0tleSA9ICItMSI7DQogICAgICB0aGlzLmJhY2tMb2FkaW5nID0gdHJ1ZTsNCiAgICAgIGdldEJhY2tMaXN0KHYucHJvY0luc3RJZCkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMuYmFja0xvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgcmVzLnJlc3VsdC5mb3JFYWNoKChlKSA9PiB7DQogICAgICAgICAgICB0aGlzLmJhY2tMaXN0LnB1c2goZSk7DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgZGVsZWdhdGVUYXNrKHYpIHsNCiAgICAgIHRoaXMubW9kYWxUYXNrVGl0bGUgPSAi5aeU5omY5LuW5Lq65Luj5YqeIjsNCiAgICAgIHRoaXMuZm9ybS5pZCA9IHYuaWQ7DQogICAgICB0aGlzLmZvcm0ucHJvY0luc3RJZCA9IHYucHJvY0luc3RJZDsNCiAgICAgIHRoaXMuZm9ybS50eXBlID0gMjsNCiAgICAgIHRoaXMuc2hvd0Fzc2lnbiA9IGZhbHNlOw0KICAgICAgdGhpcy5pc0N1c3RvbSA9IGZhbHNlOw0KICAgICAgdGhpcy5tb2RhbFRhc2tWaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICAgIGhpc3Rvcnkodikgew0KICAgICAgaWYgKCF2LnByb2NJbnN0SWQpIHsNCiAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcigi5rWB56iL5a6e5L6LSUTkuI3lrZjlnKgiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdGhpcy5wcm9jSW5zdElkID0gdi5wcm9jSW5zdElkOw0KICAgICAgdGhpcy5zaG93SGlzdG9yeSA9IHRydWU7DQogICAgfSwNCiAgICBwYXNzQWxsVGFzaygpIHsNCiAgICAgIGlmICh0aGlzLnNlbGVjdExpc3QubGVuZ3RoIDw9IDApIHsNCiAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCLmgqjov5jmnKrpgInmi6nopoHpgJrov4fnmoTmlbDmja4iKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgLy8g5om56YeP6YCa6L+HDQogICAgICB0aGlzLm1vZGFsVmlzaWJsZSA9IHRydWU7DQogICAgICB0aGlzLm1vZGFsVHlwZSA9IDA7DQogICAgICB0aGlzLm1vZGFsVGl0bGUgPSAi5om56YeP6YCa6L+HICIgKyB0aGlzLnNlbGVjdExpc3QubGVuZ3RoICsgIiDmnaHmlbDmja4iOw0KICAgIH0sDQogICAgYmFja0FsbFRhc2soKSB7DQogICAgICBpZiAodGhpcy5zZWxlY3RMaXN0Lmxlbmd0aCA8PSAwKSB7DQogICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygi5oKo6L+Y5pyq6YCJ5oup6KaB6amz5Zue55qE5pWw5o2uIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIC8vIOaJuemHj+mps+Wbng0KICAgICAgdGhpcy5tb2RhbFZpc2libGUgPSB0cnVlOw0KICAgICAgdGhpcy5tb2RhbFR5cGUgPSAxOw0KICAgICAgdGhpcy5tb2RhbFRpdGxlID0gIuaJuemHj+mps+WbniAiICsgdGhpcy5zZWxlY3RMaXN0Lmxlbmd0aCArICIg5p2h5pWw5o2uIjsNCiAgICB9LA0KICAgIGhhbmRlbFN1Ym1pdEFsbCgpIHsNCiAgICAgIGlmICh0aGlzLm1vZGFsVHlwZSA9PSAwKSB7DQogICAgICAgIGxldCBpZHMgPSAiIiwNCiAgICAgICAgICBwYXJhbXMgPSB7fTsNCiAgICAgICAgdGhpcy5zZWxlY3RMaXN0LmZvckVhY2goZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgICBpZHMgKz0gZS5pZCArICIsIjsNCiAgICAgICAgfSk7DQogICAgICAgIGlkcyA9IGlkcy5zdWJzdHJpbmcoMCwgaWRzLmxlbmd0aCAtIDEpOw0KICAgICAgICBwYXJhbXMgPSB7DQogICAgICAgICAgaWRzOiBpZHMsDQogICAgICAgICAgY29tbWVudDogdGhpcy5mb3JtLmNvbW1lbnQsDQogICAgICAgICAgc2VuZE1lc3NhZ2U6IHRoaXMuZm9ybS5zZW5kTWVzc2FnZSwNCiAgICAgICAgICBzZW5kU21zOiB0aGlzLmZvcm0uc2VuZFNtcywNCiAgICAgICAgICBzZW5kRW1haWw6IHRoaXMuZm9ybS5zZW5kRW1haWwsDQogICAgICAgIH07DQogICAgICAgIHBhc3NBbGwocGFyYW1zKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICB0aGlzLiRNb2RhbC5yZW1vdmUoKTsNCiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuaW5mbyhyZXMubWVzc2FnZSk7DQogICAgICAgICAgICB0aGlzLm1vZGFsVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy5jbGVhclNlbGVjdEFsbCgpOw0KICAgICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBsZXQgcHJvY0luc3RJZHMgPSAiIiwNCiAgICAgICAgICBwYXJhbXMgPSB7fTsNCiAgICAgICAgdGhpcy5zZWxlY3RMaXN0LmZvckVhY2goZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgICBwcm9jSW5zdElkcyArPSBlLnByb2NJbnN0SWQgKyAiLCI7DQogICAgICAgIH0pOw0KICAgICAgICBwcm9jSW5zdElkcyA9IHByb2NJbnN0SWRzLnN1YnN0cmluZygwLCBwcm9jSW5zdElkcy5sZW5ndGggLSAxKTsNCiAgICAgICAgcGFyYW1zID0gew0KICAgICAgICAgIHByb2NJbnN0SWRzOiBwcm9jSW5zdElkcywNCiAgICAgICAgICBjb21tZW50OiB0aGlzLmZvcm0uY29tbWVudCwNCiAgICAgICAgICBzZW5kTWVzc2FnZTogdGhpcy5mb3JtLnNlbmRNZXNzYWdlLA0KICAgICAgICAgIHNlbmRTbXM6IHRoaXMuZm9ybS5zZW5kU21zLA0KICAgICAgICAgIHNlbmRFbWFpbDogdGhpcy5mb3JtLnNlbmRFbWFpbCwNCiAgICAgICAgfTsNCiAgICAgICAgYmFja0FsbChwYXJhbXMpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIHRoaXMuJE1vZGFsLnJlbW92ZSgpOw0KICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip8iKTsNCiAgICAgICAgICAgIHRoaXMubW9kYWxWaXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0QWxsKCk7DQogICAgICAgICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuaW5pdCgpOw0KICB9LA0KICB3YXRjaDogew0KICAgIC8vIOebkeWQrOi3r+eUseWPmOWMlg0KICAgICRyb3V0ZSh0bywgZnJvbSkgew0KICAgICAgaWYgKHRvLm5hbWUgPT0gInRvZG8tbWFuYWdlIikgew0KICAgICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgICB9DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["todoManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"todoManage.vue","sourceRoot":"src/views/activiti/todo-manage","sourcesContent":["<style lang=\"less\">\r\n@import \"@/styles/table-common.less\";\r\n@import \"./todoManage.less\";\r\n</style>\r\n<template>\r\n  <div class=\"search\">\r\n    <historicDetail\r\n      v-if=\"showHistory\"\r\n      @close=\"showHistory = false\"\r\n      :procInstId=\"procInstId\"\r\n    />\r\n    <Card v-show=\"!showHistory\">\r\n      <Row v-show=\"openSearch\" @keydown.enter.native=\"handleSearch\">\r\n        <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"70\">\r\n          <FormItem label=\"任务名称\" prop=\"name\">\r\n            <Input\r\n              type=\"text\"\r\n              v-model=\"searchForm.name\"\r\n              placeholder=\"请输入\"\r\n              clearable\r\n              style=\"width: 200px\"\r\n            />\r\n          </FormItem>\r\n          <FormItem label=\"创建时间\">\r\n            <DatePicker\r\n              :options=\"options\"\r\n              v-model=\"selectDate\"\r\n              type=\"daterange\"\r\n              format=\"yyyy-MM-dd\"\r\n              clearable\r\n              @on-change=\"selectDateRange\"\r\n              placeholder=\"选择起始时间\"\r\n              style=\"width: 200px\"\r\n            ></DatePicker>\r\n          </FormItem>\r\n          <FormItem style=\"margin-left: -35px\" class=\"br\">\r\n            <Button @click=\"handleSearch\" type=\"primary\" icon=\"ios-search\"\r\n              >搜索</Button\r\n            >\r\n            <Button @click=\"handleReset\">重置</Button>\r\n          </FormItem>\r\n        </Form>\r\n      </Row>\r\n      <Row align=\"middle\" justify=\"space-between\" class=\"operation\">\r\n        <div>\r\n          <Button @click=\"passAllTask\" icon=\"md-checkmark-circle-outline\"\r\n            >批量通过</Button\r\n          >\r\n          <Button @click=\"backAllTask\" icon=\"md-close\">批量驳回</Button>\r\n        </div>\r\n        <div class=\"icons\">\r\n          <Tooltip content=\"刷新\" placement=\"top\" transfer>\r\n            <Icon\r\n              type=\"md-refresh\"\r\n              size=\"18\"\r\n              class=\"item\"\r\n              @click=\"getDataList\"\r\n            />\r\n          </Tooltip>\r\n          <Tooltip\r\n            :content=\"openSearch ? '关闭搜索' : '开启搜索'\"\r\n            placement=\"top\"\r\n            transfer\r\n          >\r\n            <Icon\r\n              type=\"ios-search\"\r\n              size=\"18\"\r\n              class=\"item tip\"\r\n              @click=\"openSearch = !openSearch\"\r\n            />\r\n          </Tooltip>\r\n          <Tooltip\r\n            :content=\"openTip ? '关闭提示' : '开启提示'\"\r\n            placement=\"top\"\r\n            transfer\r\n          >\r\n            <Icon\r\n              type=\"md-bulb\"\r\n              size=\"18\"\r\n              class=\"item tip\"\r\n              @click=\"openTip = !openTip\"\r\n            />\r\n          </Tooltip>\r\n          <Tooltip content=\"表格密度\" placement=\"top\" transfer>\r\n            <Dropdown @on-click=\"changeTableSize\" trigger=\"click\">\r\n              <Icon type=\"md-list\" size=\"18\" class=\"item\" />\r\n              <DropdownMenu slot=\"list\">\r\n                <DropdownItem :selected=\"tableSize == 'default'\" name=\"default\"\r\n                  >默认</DropdownItem\r\n                >\r\n                <DropdownItem :selected=\"tableSize == 'large'\" name=\"large\"\r\n                  >宽松</DropdownItem\r\n                >\r\n                <DropdownItem :selected=\"tableSize == 'small'\" name=\"small\"\r\n                  >紧密</DropdownItem\r\n                >\r\n              </DropdownMenu>\r\n            </Dropdown>\r\n          </Tooltip>\r\n          <Tooltip content=\"导出数据\" placement=\"top\" transfer>\r\n            <Icon\r\n              type=\"md-download\"\r\n              size=\"18\"\r\n              class=\"item\"\r\n              @click=\"exportData\"\r\n            />\r\n          </Tooltip>\r\n        </div>\r\n      </Row>\r\n      <Alert show-icon v-show=\"openTip\">\r\n        已选择\r\n        <span class=\"select-count\">{{ selectList.length }}</span> 项\r\n        <a class=\"select-clear\" @click=\"clearSelectAll\">清空</a>\r\n      </Alert>\r\n      <Table\r\n        :loading=\"loading\"\r\n        border\r\n        :columns=\"columns\"\r\n        sortable=\"custom\"\r\n        :data=\"data\"\r\n        :size=\"tableSize\"\r\n        @on-sort-change=\"changeSort\"\r\n        @on-selection-change=\"showSelect\"\r\n        ref=\"table\"\r\n      ></Table>\r\n      <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n        <Page\r\n          :current=\"searchForm.pageNumber\"\r\n          :total=\"total\"\r\n          :page-size=\"searchForm.pageSize\"\r\n          @on-change=\"changePage\"\r\n          @on-page-size-change=\"changePageSize\"\r\n          :page-size-opts=\"[10, 20, 50]\"\r\n          size=\"small\"\r\n          show-total\r\n          show-elevator\r\n          show-sizer\r\n        ></Page>\r\n      </Row>\r\n    </Card>\r\n\r\n    <!-- 审批操作 -->\r\n    <Modal\r\n      :title=\"modalTaskTitle\"\r\n      v-model=\"modalTaskVisible\"\r\n      :mask-closable=\"false\"\r\n      :width=\"500\"\r\n    >\r\n      <Form ref=\"form\" :model=\"form\" :label-width=\"85\" :rules=\"formValidate\">\r\n        <FormItem label=\"审批意见\" prop=\"reason\">\r\n          <Input type=\"textarea\" v-model=\"form.comment\" :rows=\"4\" />\r\n        </FormItem>\r\n        <FormItem\r\n          label=\"下一审批人\"\r\n          prop=\"assignees\"\r\n          v-show=\"showAssign\"\r\n          :error=\"error\"\r\n        >\r\n          <Select\r\n            v-model=\"form.assignees\"\r\n            placeholder=\"请选择或输入搜索\"\r\n            filterable\r\n            clearable\r\n            multiple\r\n            :loading=\"userLoading\"\r\n          >\r\n            <Option\r\n              v-for=\"(item, i) in assigneeList\"\r\n              :key=\"i\"\r\n              :value=\"item.id\"\r\n              :label=\"item.nickname\"\r\n            >\r\n              <span style=\"margin-right: 10px\">{{ item.nickname }}</span>\r\n              <span style=\"color: #ccc\">{{ item.username }}</span>\r\n            </Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem\r\n          label=\"自定义搜索选择审批人\"\r\n          prop=\"assignees\"\r\n          v-show=\"isCustom\"\r\n          :error=\"error\"\r\n        >\r\n          <Select\r\n            v-model=\"form.assignees\"\r\n            placeholder=\"请输入用户名搜索选择用户\"\r\n            filterable\r\n            remote\r\n            multiple\r\n            :remote-method=\"searchUser\"\r\n            :loading=\"userLoading\"\r\n          >\r\n            <Option\r\n              v-for=\"(item, i) in userList\"\r\n              :value=\"item.id\"\r\n              :key=\"i\"\r\n              :label=\"item.nickname\"\r\n            >\r\n              <span style=\"margin-right: 10px\">{{ item.nickname }}</span>\r\n              <span style=\"color: #ccc\">{{ item.username }}</span>\r\n            </Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem label=\"下一审批人\" v-show=\"isGateway\">\r\n          <span\r\n            >分支网关处暂不支持自定义选择下一审批人，将发送给下一节点所有人</span\r\n          >\r\n        </FormItem>\r\n        <div v-show=\"form.type == 1\">\r\n          <FormItem label=\"驳回至\">\r\n            <Select\r\n              v-model=\"form.backTaskKey\"\r\n              filterable\r\n              :loading=\"backLoading\"\r\n              @on-change=\"changeBackTask\"\r\n            >\r\n              <Option\r\n                v-for=\"(item, i) in backList\"\r\n                :key=\"i\"\r\n                :value=\"item.key\"\r\n                >{{ item.name }}</Option\r\n              >\r\n            </Select>\r\n          </FormItem>\r\n          <FormItem\r\n            label=\"指定原节点审批人\"\r\n            prop=\"assignees\"\r\n            v-show=\"form.backTaskKey != -1\"\r\n            :error=\"error\"\r\n          >\r\n            <Select\r\n              v-model=\"form.assignees\"\r\n              placeholder=\"请选择或输入搜索\"\r\n              filterable\r\n              clearable\r\n              multiple\r\n              :loading=\"userLoading\"\r\n            >\r\n              <Option\r\n                v-for=\"(item, i) in assigneeList\"\r\n                :key=\"i\"\r\n                :value=\"item.id\"\r\n                :label=\"item.nickname\"\r\n              >\r\n                <span style=\"margin-right: 10px\">{{ item.nickname }}</span>\r\n                <span style=\"color: #ccc\">{{ item.username }}</span>\r\n              </Option>\r\n            </Select>\r\n          </FormItem>\r\n        </div>\r\n        <FormItem\r\n          label=\"选择转办人\"\r\n          prop=\"userId\"\r\n          :error=\"error\"\r\n          v-show=\"form.type == 2\"\r\n        >\r\n          <Select\r\n            v-model=\"form.userId\"\r\n            placeholder=\"请输入用户名搜索选择用户\"\r\n            filterable\r\n            remote\r\n            :remote-method=\"searchUser\"\r\n            :loading=\"userLoading\"\r\n          >\r\n            <Option\r\n              v-for=\"(item, i) in userList\"\r\n              :value=\"item.id\"\r\n              :key=\"i\"\r\n              :label=\"item.nickname\"\r\n            >\r\n              <span style=\"margin-right: 10px\">{{ item.nickname }}</span>\r\n              <span style=\"color: #ccc\">{{ item.username }}</span>\r\n            </Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem label=\"消息通知\">\r\n          <Checkbox v-model=\"form.sendMessage\">站内消息通知</Checkbox>\r\n          <Checkbox v-model=\"form.sendSms\">短信通知</Checkbox>\r\n          <Checkbox v-model=\"form.sendEmail\">邮件通知</Checkbox>\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"modalTaskVisible = false\">取消</Button>\r\n        <Button type=\"primary\" :loading=\"submitLoading\" @click=\"handelSubmit\"\r\n          >提交</Button\r\n        >\r\n      </div>\r\n    </Modal>\r\n\r\n    <!-- 批量审批操作 -->\r\n    <Modal\r\n      :title=\"modalTitle\"\r\n      v-model=\"modalVisible\"\r\n      :mask-closable=\"false\"\r\n      :width=\"500\"\r\n    >\r\n      <Alert show-icon>{{\r\n        modalType == 0\r\n          ? \"注意：将默认分配给节点设定的所有可审批用户\"\r\n          : \"注意：所有流程将驳回至发起人\"\r\n      }}</Alert>\r\n      <Form ref=\"form\" :model=\"form\" :label-width=\"85\" :rules=\"formValidate\">\r\n        <FormItem label=\"审批意见\" prop=\"reason\">\r\n          <Input type=\"textarea\" v-model=\"form.comment\" :rows=\"4\" />\r\n        </FormItem>\r\n        <FormItem label=\"消息通知\">\r\n          <Checkbox v-model=\"form.sendMessage\">站内消息通知</Checkbox>\r\n          <Checkbox v-model=\"form.sendSms\">短信通知</Checkbox>\r\n          <Checkbox v-model=\"form.sendEmail\">邮件通知</Checkbox>\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"modalVisible = false\">取消</Button>\r\n        <Button type=\"primary\" :loading=\"submitLoading\" @click=\"handelSubmitAll\"\r\n          >提交</Button\r\n        >\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  todoList,\r\n  pass,\r\n  back,\r\n  getBackList,\r\n  backToTask,\r\n  delegate,\r\n  getNextNode,\r\n  getNode,\r\n  passAll,\r\n  backAll,\r\n} from \"@/api/activiti\";\r\nimport { searchUserByName, getDictDataByType } from \"@/api/index\";\r\nimport historicDetail from \"../historic-detail/historicDetail.vue\";\r\nimport { shortcuts } from \"@/libs/shortcuts\";\r\nexport default {\r\n  name: \"todo-manage\",\r\n  components: {\r\n    historicDetail,\r\n  },\r\n  data() {\r\n    return {\r\n      tableSize: \"default\",\r\n      modalVisible: false,\r\n      modalType: 0,\r\n      showHistory: false,\r\n      procInstId: \"\",\r\n      openSearch: true,\r\n      openTip: true,\r\n      loading: true, // 表单加载状态\r\n      modalTaskVisible: false,\r\n      userLoading: false,\r\n      backLoading: false,\r\n      userList: [],\r\n      selectList: [], // 多选数据\r\n      assigneeList: [],\r\n      backList: [\r\n        {\r\n          key: \"-1\",\r\n          name: \"发起人\",\r\n        },\r\n      ],\r\n      error: \"\",\r\n      showAssign: false,\r\n      searchForm: {\r\n        // 搜索框对应data对象\r\n        name: \"\",\r\n        pageNumber: 1, // 当前页数\r\n        pageSize: 10, // 页面大小\r\n      },\r\n      selectDate: null,\r\n      options: {\r\n        shortcuts: shortcuts,\r\n      },\r\n      modalTaskTitle: \"\",\r\n      modalTitle: \"\", // 添加或编辑标题\r\n      form: {\r\n        id: \"\",\r\n        userId: \"\",\r\n        procInstId: \"\",\r\n        comment: \"\",\r\n        type: 0,\r\n        assignees: [],\r\n        backTaskKey: \"-1\",\r\n        sendMessage: true,\r\n        sendSms: true,\r\n        sendEmail: true,\r\n      },\r\n      formValidate: {\r\n        // 表单验证规则\r\n      },\r\n      submitLoading: false, // 添加或编辑提交状态\r\n      columns: [\r\n        // 表头\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"任务名称\",\r\n          key: \"name\",\r\n          minWidth: 160,\r\n        },\r\n        {\r\n          title: \"所属流程\",\r\n          key: \"processName\",\r\n          minWidth: 150,\r\n          render: (h, params) => {\r\n            let text = \"\";\r\n            if (params.row.version) {\r\n              text = params.row.processName + \" - v.\" + params.row.version;\r\n            }\r\n            return h(\"div\", [h(\"span\", text)]);\r\n          },\r\n        },\r\n        {\r\n          title: \"委托代办人\",\r\n          key: \"owner\",\r\n          minWidth: 130,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            if (!params.row.owner) {\r\n              return h(\"span\", \"-\");\r\n            }\r\n            return h(\r\n              \"Tooltip\",\r\n              {\r\n                props: {\r\n                  placement: \"top\",\r\n                  content: params.row.ownerUsername,\r\n                },\r\n              },\r\n              [\r\n                h(\r\n                  \"Tag\",\r\n                  {\r\n                    style: {\r\n                      \"margin-right\": \"8px\",\r\n                    },\r\n                    props: {\r\n                      type: \"border\",\r\n                    },\r\n                  },\r\n                  params.row.owner\r\n                ),\r\n              ]\r\n            );\r\n          },\r\n        },\r\n        {\r\n          title: \"流程发起人\",\r\n          key: \"applyer\",\r\n          minWidth: 130,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\r\n              \"Tooltip\",\r\n              {\r\n                props: {\r\n                  placement: \"top\",\r\n                  content: params.row.applyerUsername,\r\n                },\r\n              },\r\n              [\r\n                h(\r\n                  \"Tag\",\r\n                  {\r\n                    style: {\r\n                      \"margin-right\": \"8px\",\r\n                    },\r\n                    props: {\r\n                      type: \"border\",\r\n                    },\r\n                  },\r\n                  params.row.applyer\r\n                ),\r\n              ]\r\n            );\r\n          },\r\n        },\r\n        {\r\n          title: \"优先级\",\r\n          key: \"priority\",\r\n          width: 100,\r\n          sortable: true,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            let text = \"无\",\r\n              color = \"\";\r\n            if (params.row.priority == 0) {\r\n              color = \"green\";\r\n            } else if (params.row.priority == 1) {\r\n              color = \"orange\";\r\n            } else if (params.row.priority == 2) {\r\n              color = \"red\";\r\n            } else {\r\n              color = \"default\";\r\n            }\r\n            this.dictPriority.forEach((e) => {\r\n              if (e.value == params.row.priority) {\r\n                text = e.title;\r\n              }\r\n            });\r\n            return h(\"div\", [\r\n              h(\r\n                \"Tag\",\r\n                {\r\n                  props: {\r\n                    color: color,\r\n                  },\r\n                },\r\n                text\r\n              ),\r\n            ]);\r\n          },\r\n        },\r\n        {\r\n          title: \"状态\",\r\n          key: \"isSuspended\",\r\n          align: \"center\",\r\n          width: 110,\r\n          render: (h, params) => {\r\n            if (!params.row.isSuspended) {\r\n              return h(\"div\", [\r\n                h(\"Badge\", {\r\n                  props: {\r\n                    status: \"success\",\r\n                    text: \"已激活\",\r\n                  },\r\n                }),\r\n              ]);\r\n            } else if (params.row.isSuspended) {\r\n              return h(\"div\", [\r\n                h(\"Badge\", {\r\n                  props: {\r\n                    status: \"error\",\r\n                    text: \"已挂起\",\r\n                  },\r\n                }),\r\n              ]);\r\n            }\r\n          },\r\n          filters: [\r\n            {\r\n              label: \"已激活\",\r\n              value: false,\r\n            },\r\n            {\r\n              label: \"已挂起\",\r\n              value: true,\r\n            },\r\n          ],\r\n          filterMultiple: false,\r\n          filterMethod(value, row) {\r\n            return row.isSuspended == value;\r\n          },\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          key: \"createTime\",\r\n          width: 180,\r\n          sortType: \"desc\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          align: \"center\",\r\n          width: 280,\r\n          fixed: \"right\",\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\r\n                \"a\",\r\n                {\r\n                  on: {\r\n                    click: () => {\r\n                      this.detail(params.row);\r\n                    },\r\n                  },\r\n                },\r\n                \"申请详情\"\r\n              ),\r\n              h(\"Divider\", {\r\n                props: {\r\n                  type: \"vertical\",\r\n                },\r\n              }),\r\n              h(\r\n                \"a\",\r\n                {\r\n                  on: {\r\n                    click: () => {\r\n                      this.passTask(params.row);\r\n                    },\r\n                  },\r\n                },\r\n                \"通过\"\r\n              ),\r\n              h(\"Divider\", {\r\n                props: {\r\n                  type: \"vertical\",\r\n                },\r\n              }),\r\n              h(\r\n                \"a\",\r\n                {\r\n                  on: {\r\n                    click: () => {\r\n                      this.backTask(params.row);\r\n                    },\r\n                  },\r\n                },\r\n                \"驳回\"\r\n              ),\r\n              h(\"Divider\", {\r\n                props: {\r\n                  type: \"vertical\",\r\n                },\r\n              }),\r\n              h(\r\n                \"a\",\r\n                {\r\n                  on: {\r\n                    click: () => {\r\n                      this.delegateTask(params.row);\r\n                    },\r\n                  },\r\n                },\r\n                \"转办\"\r\n              ),\r\n              h(\"Divider\", {\r\n                props: {\r\n                  type: \"vertical\",\r\n                },\r\n              }),\r\n              h(\r\n                \"a\",\r\n                {\r\n                  on: {\r\n                    click: () => {\r\n                      this.history(params.row);\r\n                    },\r\n                  },\r\n                },\r\n                \"历史\"\r\n              ),\r\n            ]);\r\n          },\r\n        },\r\n      ],\r\n      data: [], // 表单数据\r\n      total: 0, // 表单数据总数\r\n      dictPriority: [],\r\n      isGateway: false,\r\n      isCustom: false,\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getDictDataType();\r\n      this.getDataList();\r\n    },\r\n    getDictDataType() {\r\n      getDictDataByType(\"priority\").then((res) => {\r\n        if (res.success) {\r\n          this.dictPriority = res.result;\r\n        }\r\n      });\r\n    },\r\n    searchUser(v) {\r\n      if (!v) {\r\n        return;\r\n      }\r\n      this.userLoading = true;\r\n      searchUserByName(v).then((res) => {\r\n        this.userLoading = false;\r\n        if (res.success) {\r\n          this.userList = res.result;\r\n        }\r\n      });\r\n    },\r\n    changeSort(e) {\r\n      this.searchForm.sort = e.key;\r\n      this.searchForm.order = e.order;\r\n      if (e.order == \"normal\") {\r\n        this.searchForm.order = \"\";\r\n      }\r\n      this.getDataList();\r\n    },\r\n    changePage(v) {\r\n      this.searchForm.pageNumber = v;\r\n      this.getDataList();\r\n      this.clearSelectAll();\r\n    },\r\n    changePageSize(v) {\r\n      this.searchForm.pageSize = v;\r\n      this.getDataList();\r\n    },\r\n    selectDateRange(v) {\r\n      if (v) {\r\n        this.searchForm.startDate = v[0];\r\n        this.searchForm.endDate = v[1];\r\n      }\r\n    },\r\n    changeTableSize(v) {\r\n      this.tableSize = v;\r\n    },\r\n    exportData() {\r\n      this.$refs.table.exportCsv({\r\n        filename: \"数据\",\r\n      });\r\n    },\r\n    getDataList() {\r\n      this.loading = true;\r\n      todoList(this.searchForm).then((res) => {\r\n        this.loading = false;\r\n        if (res.success) {\r\n          this.data = res.result.content;\r\n          this.total = res.result.totalElements;\r\n          if (this.data.length == 0 && this.searchForm.pageNumber > 1) {\r\n            this.searchForm.pageNumber -= 1;\r\n            this.getDataList();\r\n          }\r\n        }\r\n      });\r\n    },\r\n    handleSearch() {\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.getDataList();\r\n    },\r\n    handleReset() {\r\n      this.$refs.searchForm.resetFields();\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.selectDate = null;\r\n      this.searchForm.startDate = \"\";\r\n      this.searchForm.endDate = \"\";\r\n      // 重新加载数据\r\n      this.getDataList();\r\n    },\r\n    showSelect(e) {\r\n      this.selectList = e;\r\n    },\r\n    clearSelectAll() {\r\n      this.$refs.table.selectAll(false);\r\n    },\r\n    handelSubmit() {\r\n      this.submitLoading = true;\r\n      if (this.form.type == 0) {\r\n        // 通过\r\n        if (\r\n          (this.showAssign || this.isCustom) &&\r\n          this.form.assignees.length < 1\r\n        ) {\r\n          this.error = \"请至少选择一个审批人\";\r\n          this.submitLoading = false;\r\n          return;\r\n        } else {\r\n          this.error = \"\";\r\n        }\r\n        pass(this.form).then((res) => {\r\n          this.submitLoading = false;\r\n          if (res.success) {\r\n            this.$Message.success(\"操作成功\");\r\n            this.modalTaskVisible = false;\r\n            this.getDataList();\r\n          }\r\n        });\r\n      } else if (this.form.type == 1) {\r\n        // 驳回\r\n        if (this.form.backTaskKey == \"-1\") {\r\n          // 驳回至发起人\r\n          back(this.form).then((res) => {\r\n            this.submitLoading = false;\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.modalTaskVisible = false;\r\n              this.getDataList();\r\n            }\r\n          });\r\n        } else {\r\n          // 自定义驳回\r\n          if (this.form.backTaskKey != \"-1\" && this.form.assignees.length < 1) {\r\n            this.error = \"请至少选择一个审批人\";\r\n            this.submitLoading = false;\r\n            return;\r\n          } else {\r\n            this.error = \"\";\r\n          }\r\n          backToTask(this.form).then((res) => {\r\n            this.submitLoading = false;\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.modalTaskVisible = false;\r\n              this.getDataList();\r\n            }\r\n          });\r\n        }\r\n      } else if (this.form.type == 2) {\r\n        // 转办\r\n        if (!this.form.userId) {\r\n          this.error = \"请搜索选择一转办人\";\r\n          this.submitLoading = false;\r\n          return;\r\n        } else {\r\n          this.error = \"\";\r\n        }\r\n        delegate(this.form).then((res) => {\r\n          this.submitLoading = false;\r\n          if (res.success) {\r\n            this.$Message.success(\"操作成功\");\r\n            this.modalTaskVisible = false;\r\n            this.getDataList();\r\n          }\r\n        });\r\n      }\r\n    },\r\n    detail(v) {\r\n      let query = {\r\n        id: v.tableId,\r\n        type: 3,\r\n        backRoute: this.$route.name,\r\n      };\r\n      this.$router.push({\r\n        name: v.routeName,\r\n        query: query,\r\n      });\r\n    },\r\n    passTask(v) {\r\n      this.modalTaskTitle = \"审批通过\";\r\n      this.form.id = v.id;\r\n      this.form.procInstId = v.procInstId;\r\n      this.form.priority = v.priority;\r\n      this.form.type = 0;\r\n      this.modalTaskVisible = true;\r\n      this.userLoading = true;\r\n      getNextNode(v.procDefId, v.key).then((res) => {\r\n        this.userLoading = false;\r\n        if (res.success) {\r\n          this.error = \"\";\r\n          if (res.result.type == 2) {\r\n            this.isGateway = false;\r\n            this.showAssign = false;\r\n            this.isCustom = false;\r\n            return;\r\n          }\r\n          if (res.result.type == 3 || res.result.type == 4) {\r\n            this.isGateway = true;\r\n            this.showAssign = false;\r\n            this.isCustom = false;\r\n            return;\r\n          }\r\n          if (res.result.type == 5) {\r\n            this.isCustom = true;\r\n            this.isGateway = false;\r\n            this.showAssign = false;\r\n            return;\r\n          }\r\n          if (res.result.type == 1) {\r\n            this.showAssign = true;\r\n            this.isGateway = false;\r\n            this.isCustom = false;\r\n            if (res.result.users && res.result.users.length > 0) {\r\n              this.assigneeList = res.result.users;\r\n              // 默认勾选\r\n              let ids = [];\r\n              res.result.users.forEach((e) => {\r\n                ids.push(e.id);\r\n              });\r\n              this.form.assignees = ids;\r\n              this.showAssign = true;\r\n            } else {\r\n              this.form.assignees = [];\r\n              this.showAssign = false;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n    changeBackTask(v) {\r\n      if (v == \"-1\") {\r\n        return;\r\n      }\r\n      this.userLoading = true;\r\n      let hisTaskId = \"\";\r\n      this.backList.forEach((e) => {\r\n        if (e.key == v) {\r\n          hisTaskId = e.id;\r\n        }\r\n      });\r\n      getNode(v, { taskId: this.form.id, hisTaskId: hisTaskId }).then((res) => {\r\n        this.userLoading = false;\r\n        if (res.success) {\r\n          if (res.result.users && res.result.users.length > 0) {\r\n            this.assigneeList = res.result.users;\r\n            // 默认勾选\r\n            let ids = [];\r\n            res.result.users.forEach((e) => {\r\n              ids.push(e.id);\r\n            });\r\n            this.form.assignees = ids;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    backTask(v) {\r\n      this.modalTaskTitle = \"审批驳回\";\r\n      this.form.id = v.id;\r\n      this.form.procInstId = v.procInstId;\r\n      this.form.procDefId = v.procDefId;\r\n      this.form.priority = v.priority;\r\n      this.form.type = 1;\r\n      this.showAssign = false;\r\n      this.isCustom = false;\r\n      this.modalTaskVisible = true;\r\n      // 获取可驳回节点\r\n      this.backList = [\r\n        {\r\n          key: \"-1\",\r\n          name: \"发起人\",\r\n        },\r\n      ];\r\n      this.form.backTaskKey = \"-1\";\r\n      this.backLoading = true;\r\n      getBackList(v.procInstId).then((res) => {\r\n        this.backLoading = false;\r\n        if (res.success) {\r\n          res.result.forEach((e) => {\r\n            this.backList.push(e);\r\n          });\r\n        }\r\n      });\r\n    },\r\n    delegateTask(v) {\r\n      this.modalTaskTitle = \"委托他人代办\";\r\n      this.form.id = v.id;\r\n      this.form.procInstId = v.procInstId;\r\n      this.form.type = 2;\r\n      this.showAssign = false;\r\n      this.isCustom = false;\r\n      this.modalTaskVisible = true;\r\n    },\r\n    history(v) {\r\n      if (!v.procInstId) {\r\n        this.$Message.error(\"流程实例ID不存在\");\r\n        return;\r\n      }\r\n      this.procInstId = v.procInstId;\r\n      this.showHistory = true;\r\n    },\r\n    passAllTask() {\r\n      if (this.selectList.length <= 0) {\r\n        this.$Message.warning(\"您还未选择要通过的数据\");\r\n        return;\r\n      }\r\n      // 批量通过\r\n      this.modalVisible = true;\r\n      this.modalType = 0;\r\n      this.modalTitle = \"批量通过 \" + this.selectList.length + \" 条数据\";\r\n    },\r\n    backAllTask() {\r\n      if (this.selectList.length <= 0) {\r\n        this.$Message.warning(\"您还未选择要驳回的数据\");\r\n        return;\r\n      }\r\n      // 批量驳回\r\n      this.modalVisible = true;\r\n      this.modalType = 1;\r\n      this.modalTitle = \"批量驳回 \" + this.selectList.length + \" 条数据\";\r\n    },\r\n    handelSubmitAll() {\r\n      if (this.modalType == 0) {\r\n        let ids = \"\",\r\n          params = {};\r\n        this.selectList.forEach(function (e) {\r\n          ids += e.id + \",\";\r\n        });\r\n        ids = ids.substring(0, ids.length - 1);\r\n        params = {\r\n          ids: ids,\r\n          comment: this.form.comment,\r\n          sendMessage: this.form.sendMessage,\r\n          sendSms: this.form.sendSms,\r\n          sendEmail: this.form.sendEmail,\r\n        };\r\n        passAll(params).then((res) => {\r\n          this.$Modal.remove();\r\n          if (res.success) {\r\n            this.$Message.info(res.message);\r\n            this.modalVisible = false;\r\n            this.clearSelectAll();\r\n            this.getDataList();\r\n          }\r\n        });\r\n      } else {\r\n        let procInstIds = \"\",\r\n          params = {};\r\n        this.selectList.forEach(function (e) {\r\n          procInstIds += e.procInstId + \",\";\r\n        });\r\n        procInstIds = procInstIds.substring(0, procInstIds.length - 1);\r\n        params = {\r\n          procInstIds: procInstIds,\r\n          comment: this.form.comment,\r\n          sendMessage: this.form.sendMessage,\r\n          sendSms: this.form.sendSms,\r\n          sendEmail: this.form.sendEmail,\r\n        };\r\n        backAll(params).then((res) => {\r\n          this.$Modal.remove();\r\n          if (res.success) {\r\n            this.$Message.success(\"操作成功\");\r\n            this.modalVisible = false;\r\n            this.clearSelectAll();\r\n            this.getDataList();\r\n          }\r\n        });\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  watch: {\r\n    // 监听路由变化\r\n    $route(to, from) {\r\n      if (to.name == \"todo-manage\") {\r\n        this.getDataList();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>"]}]}