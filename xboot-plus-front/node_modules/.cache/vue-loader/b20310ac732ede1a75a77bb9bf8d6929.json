{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\sys\\redis\\redis.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\sys\\redis\\redis.vue","mtime":1651629755227},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBnZXRSZWRpc0RhdGEsDQogIHNhdmVSZWRpcywNCiAgZGVsZXRlUmVkaXMsDQogIGRlbGV0ZUFsbFJlZGlzLA0KICBnZXRSZWRpc0J5S2V5LA0KICBnZXRSZWRpc0tleVNpemUsDQp9IGZyb20gIkAvYXBpL2luZGV4IjsNCmltcG9ydCByZWRpc01vbml0b3IgZnJvbSAiLi9yZWRpc01vbml0b3IudnVlIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogInJlZGlzLW5vdENhY2hlIiwNCiAgY29tcG9uZW50czogew0KICAgIHJlZGlzTW9uaXRvciwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGFiTmFtZTogInJlZGlzIiwNCiAgICAgIHNlYXJjaEtleTogIiIsDQogICAgICB0YWJsZVNpemU6ICJkZWZhdWx0IiwNCiAgICAgIG9wZW5UaXA6IHRydWUsDQogICAgICBsb2FkaW5nOiB0cnVlLCAvLyDooajljZXliqDovb3nirbmgIENCiAgICAgIG1vZGFsVHlwZTogMCwgLy8g5re75Yqg5oiW57yW6L6R5qCH6K+GDQogICAgICBtb2RhbFZpc2libGU6IGZhbHNlLCAvLyDmt7vliqDmiJbnvJbovpHmmL7npLoNCiAgICAgIG1vZGFsVGl0bGU6ICIiLCAvLyDmt7vliqDmiJbnvJbovpHmoIfpopgNCiAgICAgIHNlYXJjaEZvcm06IHsNCiAgICAgICAgLy8g5pCc57Si5qGG5Yid5aeL5YyW5a+56LGhDQogICAgICAgIHBhZ2VOdW1iZXI6IDEsIC8vIOW9k+WJjemhteaVsA0KICAgICAgICBwYWdlU2l6ZTogMTAsIC8vIOmhtemdouWkp+Wwjw0KICAgICAgfSwNCiAgICAgIGZvcm06IHsNCiAgICAgICAgLy8g5re75Yqg5oiW57yW6L6R6KGo5Y2V5a+56LGh5Yid5aeL5YyW5pWw5o2uDQogICAgICAgIGtleTogIiIsDQogICAgICAgIHZhbHVlOiAiIiwNCiAgICAgICAgZXhwaXJlVGltZTogbnVsbCwNCiAgICAgIH0sDQogICAgICAvLyDooajljZXpqozor4Hop4TliJkNCiAgICAgIGZvcm1WYWxpZGF0ZTogew0KICAgICAgICBrZXk6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImNoYW5nZSIgfV0sDQogICAgICAgIHZhbHVlOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJjaGFuZ2UiIH1dLA0KICAgICAgICBleHBpcmVUaW1lOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICB0eXBlOiAibnVtYmVyIiwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICLkuI3og73kuLrnqboiLA0KICAgICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIsDQogICAgICAgICAgfSwNCiAgICAgICAgXSwNCiAgICAgIH0sDQogICAgICBzdWJtaXRMb2FkaW5nOiBmYWxzZSwgLy8g5re75Yqg5oiW57yW6L6R5o+Q5Lqk54q25oCBDQogICAgICBzZWxlY3RMaXN0OiBbXSwgLy8g5aSa6YCJ5pWw5o2uDQogICAgICBjb2x1bW5zOiBbDQogICAgICAgIC8vIOihqOWktA0KICAgICAgICB7DQogICAgICAgICAgdHlwZTogInNlbGVjdGlvbiIsDQogICAgICAgICAgd2lkdGg6IDYwLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHR5cGU6ICJpbmRleCIsDQogICAgICAgICAgd2lkdGg6IDYwLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAiS2V5IiwNCiAgICAgICAgICBrZXk6ICJrZXkiLA0KICAgICAgICAgIG1pbldpZHRoOiAyMDAsDQogICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIlZhbHVlIiwNCiAgICAgICAgICBrZXk6ICJ2YWx1ZSIsDQogICAgICAgICAgbWluV2lkdGg6IDQwMCwNCiAgICAgICAgICBlbGxpcHNpczogdHJ1ZSwNCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi6L+H5pyf5pe26Ze0KOenkikiLA0KICAgICAgICAgIGtleTogImV4cGlyZVRpbWUiLA0KICAgICAgICAgIHdpZHRoOiAxNTAsDQogICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuaTjeS9nCIsDQogICAgICAgICAga2V5OiAiYWN0aW9uIiwNCiAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgICAgZml4ZWQ6ICJyaWdodCIsDQogICAgICAgICAgd2lkdGg6IDE1MCwNCiAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsNCiAgICAgICAgICAgIHJldHVybiBoKCJkaXYiLCBbDQogICAgICAgICAgICAgIGgoDQogICAgICAgICAgICAgICAgImEiLA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0KHBhcmFtcy5yb3cpOw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICLnvJbovpEiDQogICAgICAgICAgICAgICksDQogICAgICAgICAgICAgIGgoIkRpdmlkZXIiLCB7DQogICAgICAgICAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJ2ZXJ0aWNhbCIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgIGgoDQogICAgICAgICAgICAgICAgImEiLA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUocGFyYW1zLnJvdyk7DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIuWIoOmZpCINCiAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgZGF0YTogW10sIC8vIOihqOWNleaVsOaNrg0KICAgICAgcGFnZU51bWJlcjogMSwgLy8g5b2T5YmN6aG15pWwDQogICAgICBwYWdlU2l6ZTogMTAsIC8vIOmhtemdouWkp+Wwjw0KICAgICAgdG90YWw6IDAsIC8vIOihqOWNleaVsOaNruaAu+aVsA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpbml0KCkgew0KICAgICAgLy8g6ZSu5YC8DQogICAgICBnZXRSZWRpc0tleVNpemUoKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgbGV0IHNpemUgPSByZXMucmVzdWx0LmtleVNpemU7DQogICAgICAgIGlmIChzaXplID4gMTAwMDAwKSB7DQogICAgICAgICAgdGhpcy4kTm90aWNlLmluZm8oew0KICAgICAgICAgICAgdGl0bGU6ICLmj5DnpLoiLA0KICAgICAgICAgICAgZGVzYzogIuajgOa1i+WIsOWtmOWCqOeahOaVsOaNruW3sui2hei/hzEw5LiH5p2h77yM5Li66YG/5YWN5Yqg6L296L+H5aSa5pWw5o2u5b2T5YmN5LuF5pi+56S65YmNMTDkuIfmnaHmlbDmja4iLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICB9LA0KICAgIGhhbmRsZUNsaWNrVGFiKG5hbWUpIHsNCiAgICAgIGlmIChuYW1lID09ICJtb25pdG9yIikgew0KICAgICAgICB0aGlzLiRNZXNzYWdlLmluZm8oIuavj+malDXnp5LliLfmlrDkuIDmrKHmlbDmja7vvIzor7fogJDlv4PnrYnlvoXlm77ooajnu5jliLYiKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGhhbmRsZURyb3Bkb3duKHYpIHsNCiAgICAgIGlmICh2ID09ICJkZWxBbGwiKSB7DQogICAgICAgIHRoaXMuZGVsQWxsKCk7DQogICAgICB9IGVsc2UgaWYgKHYgPT0gImNsZWFyIikgew0KICAgICAgICB0aGlzLmNsZWFyKCk7DQogICAgICB9DQogICAgfSwNCiAgICBjaGFuZ2VUYWJsZVNpemUodikgew0KICAgICAgdGhpcy50YWJsZVNpemUgPSB2Ow0KICAgIH0sDQogICAgZXhwb3J0RGF0YSgpIHsNCiAgICAgIHRoaXMuJHJlZnMudGFibGUuZXhwb3J0Q3N2KHsNCiAgICAgICAgZmlsZW5hbWU6ICLmlbDmja4iLA0KICAgICAgfSk7DQogICAgfSwNCiAgICBjaGFuZ2VQYWdlKHYpIHsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlTnVtYmVyID0gdjsNCiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICAgIHRoaXMuY2xlYXJTZWxlY3RBbGwoKTsNCiAgICB9LA0KICAgIGNoYW5nZVBhZ2VTaXplKHYpIHsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlU2l6ZSA9IHY7DQogICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgfSwNCiAgICBzZWFyY2goKSB7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ua2V5ID0gdGhpcy5zZWFyY2hLZXk7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZU51bWJlciA9IDE7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZVNpemUgPSAxMDsNCiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICB9LA0KICAgIGNsZWFyU2VsZWN0QWxsKCkgew0KICAgICAgdGhpcy4kcmVmcy50YWJsZS5zZWxlY3RBbGwoZmFsc2UpOw0KICAgIH0sDQogICAgY2hhbmdlU2VsZWN0KGUpIHsNCiAgICAgIHRoaXMuc2VsZWN0TGlzdCA9IGU7DQogICAgfSwNCiAgICBnZXREYXRhTGlzdCgpIHsNCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7DQogICAgICBnZXRSZWRpc0RhdGEodGhpcy5zZWFyY2hGb3JtKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcy5yZXN1bHQuY29udGVudDsNCiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnJlc3VsdC50b3RhbEVsZW1lbnRzOw0KICAgICAgICAgIGlmICh0aGlzLmRhdGEubGVuZ3RoID09IDAgJiYgdGhpcy5zZWFyY2hGb3JtLnBhZ2VOdW1iZXIgPiAxKSB7DQogICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZU51bWJlciAtPSAxOw0KICAgICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBoYW5kbGVTdWJtaXQoKSB7DQogICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IHRydWU7DQogICAgICAgICAgLy8g5re75Yqg5oiW57yW6L6RDQogICAgICAgICAgc2F2ZVJlZGlzKHRoaXMuZm9ybSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuaTjeS9nOaIkOWKnyIpOw0KICAgICAgICAgICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgICAgICAgICAgIHRoaXMubW9kYWxWaXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgYWRkKCkgew0KICAgICAgdGhpcy5tb2RhbFR5cGUgPSAwOw0KICAgICAgdGhpcy5tb2RhbFRpdGxlID0gIua3u+WKoCI7DQogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRGaWVsZHMoKTsNCiAgICAgIGRlbGV0ZSB0aGlzLmZvcm0uaWQ7DQogICAgICB0aGlzLm1vZGFsVmlzaWJsZSA9IHRydWU7DQogICAgfSwNCiAgICBlZGl0KHYpIHsNCiAgICAgIGlmICh2LnZhbHVlLmluZGV4T2YoIumdnuWtl+espiIpID4gLTEpIHsNCiAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCLpnZ7lrZfnrKbmoLzlvI/mlbDmja7mmoLkuI3mlK/mjIHnvJbovpEiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdGhpcy5tb2RhbFR5cGUgPSAxOw0KICAgICAgdGhpcy5tb2RhbFRpdGxlID0gIue8lui+kSI7DQogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRGaWVsZHMoKTsNCiAgICAgIC8vIOi9rOaNom51bGzkuLoiIg0KICAgICAgZm9yIChsZXQgYXR0ciBpbiB2KSB7DQogICAgICAgIGlmICh2W2F0dHJdID09IG51bGwpIHsNCiAgICAgICAgICB2W2F0dHJdID0gIiI7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGxldCBzdHIgPSBKU09OLnN0cmluZ2lmeSh2KTsNCiAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShzdHIpOw0KICAgICAgdGhpcy5mb3JtLnZhbHVlID0gIuivu+WPluS4rS4uLiI7DQogICAgICB0aGlzLmZvcm0uZXhwaXJlVGltZSA9IG51bGw7DQogICAgICBnZXRSZWRpc0J5S2V5KGRhdGEua2V5KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy5mb3JtLnZhbHVlID0gIiI7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIGRhdGEudmFsdWUgPSByZXMucmVzdWx0LnZhbHVlOw0KICAgICAgICAgIGRhdGEuZXhwaXJlVGltZSA9IHJlcy5yZXN1bHQuZXhwaXJlVGltZTsNCiAgICAgICAgICB0aGlzLmZvcm0gPSBkYXRhOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIHRoaXMubW9kYWxWaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICAgIGNsZWFyKCkgew0KICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7DQogICAgICAgIHRpdGxlOiAi6K+36LCo5oWO6L+b6KGM5q2k5pON5L2c77yBIiwNCiAgICAgICAgY29udGVudDogIuaCqOehruiupOimgeW9u+W6lea4heepuuWIoOmZpOaJgOacieaVsOaNrj8iLA0KICAgICAgICBsb2FkaW5nOiB0cnVlLA0KICAgICAgICBvbk9rOiAoKSA9PiB7DQogICAgICAgICAgLy8g5Yig6ZmkDQogICAgICAgICAgZGVsZXRlQWxsUmVkaXMoKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIHRoaXMuJE1vZGFsLnJlbW92ZSgpOw0KICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7DQogICAgICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgIH0pOw0KICAgIH0sDQogICAgcmVtb3ZlKHYpIHsNCiAgICAgIHRoaXMuJE1vZGFsLmNvbmZpcm0oew0KICAgICAgICB0aXRsZTogIuehruiupOWIoOmZpCIsDQogICAgICAgIC8vIOiusOW+l+ehruiupOS/ruaUueatpOWkhA0KICAgICAgICBjb250ZW50OiAi5oKo56Gu6K6k6KaB5Yig6ZmkICIgKyB2LmtleSArICIgPyIsDQogICAgICAgIGxvYWRpbmc6IHRydWUsDQogICAgICAgIG9uT2s6ICgpID0+IHsNCiAgICAgICAgICAvLyDliKDpmaQNCiAgICAgICAgICBkZWxldGVSZWRpcyh7IGtleXM6IHYua2V5IH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgdGhpcy4kTW9kYWwucmVtb3ZlKCk7DQogICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip8iKTsNCiAgICAgICAgICAgICAgdGhpcy5jbGVhclNlbGVjdEFsbCgpOw0KICAgICAgICAgICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICB9KTsNCiAgICB9LA0KICAgIGRlbEFsbCgpIHsNCiAgICAgIGlmICh0aGlzLnNlbGVjdExpc3QubGVuZ3RoIDw9IDApIHsNCiAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCLmgqjov5jmnKrpgInmi6nopoHliKDpmaTnmoTmlbDmja4iKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7DQogICAgICAgIHRpdGxlOiAi56Gu6K6k5Yig6ZmkIiwNCiAgICAgICAgY29udGVudDogIuaCqOehruiupOimgeWIoOmZpOaJgOmAieeahCAiICsgdGhpcy5zZWxlY3RMaXN0Lmxlbmd0aCArICIg5p2h5pWw5o2uPyIsDQogICAgICAgIGxvYWRpbmc6IHRydWUsDQogICAgICAgIG9uT2s6ICgpID0+IHsNCiAgICAgICAgICBsZXQga2V5cyA9ICIiOw0KICAgICAgICAgIHRoaXMuc2VsZWN0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7DQogICAgICAgICAgICBrZXlzICs9IGUua2V5ICsgIiwiOw0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGtleXMgPSBrZXlzLnN1YnN0cmluZygwLCBrZXlzLmxlbmd0aCAtIDEpOw0KICAgICAgICAgIC8vIOaJuemHj+WIoOmZpA0KICAgICAgICAgIGRlbGV0ZVJlZGlzKHsga2V5czoga2V5cyB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIHRoaXMuJE1vZGFsLnJlbW92ZSgpOw0KICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7DQogICAgICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3RBbGwoKTsNCiAgICAgICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgfSk7DQogICAgfSwNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmluaXQoKTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["redis.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"redis.vue","sourceRoot":"src/views/sys/redis","sourcesContent":["<template>\r\n  <div class=\"search\">\r\n    <Card>\r\n      <Tabs v-model=\"tabName\" :animated=\"false\" @on-click=\"handleClickTab\">\r\n        <TabPane name=\"redis\" label=\"Redis管理\">\r\n          <Row align=\"middle\" justify=\"space-between\" class=\"operation\">\r\n            <div>\r\n              <Button @click=\"add\" type=\"primary\" icon=\"md-add\">添加</Button>\r\n              <Dropdown @on-click=\"handleDropdown\">\r\n                <Button>\r\n                  更多操作\r\n                  <Icon type=\"md-arrow-dropdown\" />\r\n                </Button>\r\n                <DropdownMenu slot=\"list\">\r\n                  <DropdownItem name=\"delAll\">批量删除</DropdownItem>\r\n                  <DropdownItem name=\"clear\">清空全部</DropdownItem>\r\n                </DropdownMenu>\r\n              </Dropdown>\r\n              <Input\r\n                v-model=\"searchKey\"\r\n                suffix=\"ios-search\"\r\n                @on-change=\"search\"\r\n                placeholder=\"输入Key搜索\"\r\n                clearable\r\n                style=\"width: 250px\"\r\n              />\r\n            </div>\r\n            <div class=\"icons\">\r\n              <Tooltip content=\"刷新\" placement=\"top\" transfer>\r\n                <Icon\r\n                  type=\"md-refresh\"\r\n                  size=\"18\"\r\n                  class=\"item\"\r\n                  @click=\"getDataList\"\r\n                />\r\n              </Tooltip>\r\n              <Tooltip\r\n                :content=\"openTip ? '关闭提示' : '开启提示'\"\r\n                placement=\"top\"\r\n                transfer\r\n              >\r\n                <Icon\r\n                  type=\"md-bulb\"\r\n                  size=\"18\"\r\n                  class=\"item tip\"\r\n                  @click=\"openTip = !openTip\"\r\n                />\r\n              </Tooltip>\r\n              <Tooltip content=\"表格密度\" placement=\"top\" transfer>\r\n                <Dropdown @on-click=\"changeTableSize\" trigger=\"click\">\r\n                  <Icon type=\"md-list\" size=\"18\" class=\"item\" />\r\n                  <DropdownMenu slot=\"list\">\r\n                    <DropdownItem\r\n                      :selected=\"tableSize == 'default'\"\r\n                      name=\"default\"\r\n                      >默认</DropdownItem\r\n                    >\r\n                    <DropdownItem :selected=\"tableSize == 'large'\" name=\"large\"\r\n                      >宽松</DropdownItem\r\n                    >\r\n                    <DropdownItem :selected=\"tableSize == 'small'\" name=\"small\"\r\n                      >紧密</DropdownItem\r\n                    >\r\n                  </DropdownMenu>\r\n                </Dropdown>\r\n              </Tooltip>\r\n              <Tooltip content=\"导出数据\" placement=\"top\" transfer>\r\n                <Icon\r\n                  type=\"md-download\"\r\n                  size=\"18\"\r\n                  class=\"item\"\r\n                  @click=\"exportData\"\r\n                />\r\n              </Tooltip>\r\n            </div>\r\n          </Row>\r\n          <Alert show-icon v-show=\"openTip\">\r\n            已选择\r\n            <span class=\"select-count\">{{ selectList.length }}</span> 项\r\n            <a class=\"select-clear\" @click=\"clearSelectAll\">清空</a>\r\n          </Alert>\r\n          <Table\r\n            :loading=\"loading\"\r\n            border\r\n            :columns=\"columns\"\r\n            :data=\"data\"\r\n            :size=\"tableSize\"\r\n            ref=\"table\"\r\n            @on-selection-change=\"changeSelect\"\r\n          ></Table>\r\n          <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n            <Page\r\n              :current=\"pageNumber\"\r\n              :total=\"total\"\r\n              :page-size=\"pageSize\"\r\n              @on-change=\"changePage\"\r\n              @on-page-size-change=\"changePageSize\"\r\n              :page-size-opts=\"[10, 20, 50]\"\r\n              size=\"small\"\r\n              show-total\r\n              show-elevator\r\n              show-sizer\r\n            ></Page>\r\n          </Row>\r\n        </TabPane>\r\n        <TabPane name=\"monitor\" label=\"Redis监控\">\r\n          <redis-monitor v-if=\"tabName=='monitor'\"/>\r\n        </TabPane>\r\n      </Tabs>\r\n    </Card>\r\n\r\n    <Modal\r\n      :title=\"modalTitle\"\r\n      v-model=\"modalVisible\"\r\n      :mask-closable=\"false\"\r\n      :width=\"500\"\r\n    >\r\n      <Form ref=\"form\" :model=\"form\" :label-width=\"80\" :rules=\"formValidate\">\r\n        <FormItem label=\"Key\" prop=\"key\">\r\n          <Input v-model=\"form.key\" style=\"width: 100%\" />\r\n        </FormItem>\r\n        <FormItem label=\"Value\" prop=\"value\">\r\n          <Input\r\n            v-model=\"form.value\"\r\n            type=\"textarea\"\r\n            :rows=\"5\"\r\n            style=\"width: 100%\"\r\n          />\r\n        </FormItem>\r\n        <FormItem label=\"过期时间\" prop=\"expireTime\">\r\n          <Tooltip trigger=\"hover\" placement=\"right\" content=\"永久不过期设为-1\">\r\n            <InputNumber :min=\"-1\" v-model=\"form.expireTime\"></InputNumber>\r\n          </Tooltip>\r\n          <span style=\"margin-left: 5px\">秒</span>\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"modalVisible = false\">取消</Button>\r\n        <Button type=\"primary\" :loading=\"submitLoading\" @click=\"handleSubmit\"\r\n          >提交</Button\r\n        >\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getRedisData,\r\n  saveRedis,\r\n  deleteRedis,\r\n  deleteAllRedis,\r\n  getRedisByKey,\r\n  getRedisKeySize,\r\n} from \"@/api/index\";\r\nimport redisMonitor from \"./redisMonitor.vue\";\r\nexport default {\r\n  name: \"redis-notCache\",\r\n  components: {\r\n    redisMonitor,\r\n  },\r\n  data() {\r\n    return {\r\n      tabName: \"redis\",\r\n      searchKey: \"\",\r\n      tableSize: \"default\",\r\n      openTip: true,\r\n      loading: true, // 表单加载状态\r\n      modalType: 0, // 添加或编辑标识\r\n      modalVisible: false, // 添加或编辑显示\r\n      modalTitle: \"\", // 添加或编辑标题\r\n      searchForm: {\r\n        // 搜索框初始化对象\r\n        pageNumber: 1, // 当前页数\r\n        pageSize: 10, // 页面大小\r\n      },\r\n      form: {\r\n        // 添加或编辑表单对象初始化数据\r\n        key: \"\",\r\n        value: \"\",\r\n        expireTime: null,\r\n      },\r\n      // 表单验证规则\r\n      formValidate: {\r\n        key: [{ required: true, message: \"不能为空\", trigger: \"change\" }],\r\n        value: [{ required: true, message: \"不能为空\", trigger: \"change\" }],\r\n        expireTime: [\r\n          {\r\n            required: true,\r\n            type: \"number\",\r\n            message: \"不能为空\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n      submitLoading: false, // 添加或编辑提交状态\r\n      selectList: [], // 多选数据\r\n      columns: [\r\n        // 表头\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"Key\",\r\n          key: \"key\",\r\n          minWidth: 200,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"Value\",\r\n          key: \"value\",\r\n          minWidth: 400,\r\n          ellipsis: true,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"过期时间(秒)\",\r\n          key: \"expireTime\",\r\n          width: 150,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          align: \"center\",\r\n          fixed: \"right\",\r\n          width: 150,\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\r\n                \"a\",\r\n                {\r\n                  on: {\r\n                    click: () => {\r\n                      this.edit(params.row);\r\n                    },\r\n                  },\r\n                },\r\n                \"编辑\"\r\n              ),\r\n              h(\"Divider\", {\r\n                props: {\r\n                  type: \"vertical\",\r\n                },\r\n              }),\r\n              h(\r\n                \"a\",\r\n                {\r\n                  on: {\r\n                    click: () => {\r\n                      this.remove(params.row);\r\n                    },\r\n                  },\r\n                },\r\n                \"删除\"\r\n              ),\r\n            ]);\r\n          },\r\n        },\r\n      ],\r\n      data: [], // 表单数据\r\n      pageNumber: 1, // 当前页数\r\n      pageSize: 10, // 页面大小\r\n      total: 0, // 表单数据总数\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      // 键值\r\n      getRedisKeySize().then((res) => {\r\n        let size = res.result.keySize;\r\n        if (size > 100000) {\r\n          this.$Notice.info({\r\n            title: \"提示\",\r\n            desc: \"检测到存储的数据已超过10万条，为避免加载过多数据当前仅显示前10万条数据\",\r\n          });\r\n        }\r\n      });\r\n      this.getDataList();\r\n    },\r\n    handleClickTab(name) {\r\n      if (name == \"monitor\") {\r\n        this.$Message.info(\"每隔5秒刷新一次数据，请耐心等待图表绘制\");\r\n      }\r\n    },\r\n    handleDropdown(v) {\r\n      if (v == \"delAll\") {\r\n        this.delAll();\r\n      } else if (v == \"clear\") {\r\n        this.clear();\r\n      }\r\n    },\r\n    changeTableSize(v) {\r\n      this.tableSize = v;\r\n    },\r\n    exportData() {\r\n      this.$refs.table.exportCsv({\r\n        filename: \"数据\",\r\n      });\r\n    },\r\n    changePage(v) {\r\n      this.searchForm.pageNumber = v;\r\n      this.getDataList();\r\n      this.clearSelectAll();\r\n    },\r\n    changePageSize(v) {\r\n      this.searchForm.pageSize = v;\r\n      this.getDataList();\r\n    },\r\n    search() {\r\n      this.searchForm.key = this.searchKey;\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.getDataList();\r\n    },\r\n    clearSelectAll() {\r\n      this.$refs.table.selectAll(false);\r\n    },\r\n    changeSelect(e) {\r\n      this.selectList = e;\r\n    },\r\n    getDataList() {\r\n      this.loading = true;\r\n      getRedisData(this.searchForm).then((res) => {\r\n        this.loading = false;\r\n        if (res.success) {\r\n          this.data = res.result.content;\r\n          this.total = res.result.totalElements;\r\n          if (this.data.length == 0 && this.searchForm.pageNumber > 1) {\r\n            this.searchForm.pageNumber -= 1;\r\n            this.getDataList();\r\n          }\r\n        }\r\n      });\r\n    },\r\n    handleSubmit() {\r\n      this.$refs.form.validate((valid) => {\r\n        if (valid) {\r\n          this.submitLoading = true;\r\n          // 添加或编辑\r\n          saveRedis(this.form).then((res) => {\r\n            this.submitLoading = false;\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.getDataList();\r\n              this.modalVisible = false;\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    add() {\r\n      this.modalType = 0;\r\n      this.modalTitle = \"添加\";\r\n      this.$refs.form.resetFields();\r\n      delete this.form.id;\r\n      this.modalVisible = true;\r\n    },\r\n    edit(v) {\r\n      if (v.value.indexOf(\"非字符\") > -1) {\r\n        this.$Message.warning(\"非字符格式数据暂不支持编辑\");\r\n        return;\r\n      }\r\n      this.modalType = 1;\r\n      this.modalTitle = \"编辑\";\r\n      this.$refs.form.resetFields();\r\n      // 转换null为\"\"\r\n      for (let attr in v) {\r\n        if (v[attr] == null) {\r\n          v[attr] = \"\";\r\n        }\r\n      }\r\n      let str = JSON.stringify(v);\r\n      let data = JSON.parse(str);\r\n      this.form.value = \"读取中...\";\r\n      this.form.expireTime = null;\r\n      getRedisByKey(data.key).then((res) => {\r\n        this.form.value = \"\";\r\n        if (res.success) {\r\n          data.value = res.result.value;\r\n          data.expireTime = res.result.expireTime;\r\n          this.form = data;\r\n        }\r\n      });\r\n      this.modalVisible = true;\r\n    },\r\n    clear() {\r\n      this.$Modal.confirm({\r\n        title: \"请谨慎进行此操作！\",\r\n        content: \"您确认要彻底清空删除所有数据?\",\r\n        loading: true,\r\n        onOk: () => {\r\n          // 删除\r\n          deleteAllRedis().then((res) => {\r\n            this.$Modal.remove();\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.getDataList();\r\n            }\r\n          });\r\n        },\r\n      });\r\n    },\r\n    remove(v) {\r\n      this.$Modal.confirm({\r\n        title: \"确认删除\",\r\n        // 记得确认修改此处\r\n        content: \"您确认要删除 \" + v.key + \" ?\",\r\n        loading: true,\r\n        onOk: () => {\r\n          // 删除\r\n          deleteRedis({ keys: v.key }).then((res) => {\r\n            this.$Modal.remove();\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.clearSelectAll();\r\n              this.getDataList();\r\n            }\r\n          });\r\n        },\r\n      });\r\n    },\r\n    delAll() {\r\n      if (this.selectList.length <= 0) {\r\n        this.$Message.warning(\"您还未选择要删除的数据\");\r\n        return;\r\n      }\r\n      this.$Modal.confirm({\r\n        title: \"确认删除\",\r\n        content: \"您确认要删除所选的 \" + this.selectList.length + \" 条数据?\",\r\n        loading: true,\r\n        onOk: () => {\r\n          let keys = \"\";\r\n          this.selectList.forEach(function (e) {\r\n            keys += e.key + \",\";\r\n          });\r\n          keys = keys.substring(0, keys.length - 1);\r\n          // 批量删除\r\n          deleteRedis({ keys: keys }).then((res) => {\r\n            this.$Modal.remove();\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.clearSelectAll();\r\n              this.getDataList();\r\n            }\r\n          });\r\n        },\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n@import \"@/styles/table-common.less\";\r\n</style>"]}]}