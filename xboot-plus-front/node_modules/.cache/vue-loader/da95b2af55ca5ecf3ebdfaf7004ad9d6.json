{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\my-components\\xboot\\user-choose.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\my-components\\xboot\\user-choose.vue","mtime":1651629755199},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRVc2VyTGlzdERhdGEgfSBmcm9tICJAL2FwaS9pbmRleCI7DQppbXBvcnQgZGVwYXJ0bWVudENob29zZSBmcm9tICIuL2RlcGFydG1lbnQtY2hvb3NlIjsNCmltcG9ydCBkaWN0IGZyb20gIkAvdmlld3MvbXktY29tcG9uZW50cy94Ym9vdC9kaWN0IjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogInVzZXJDaG9vc2UiLA0KICBjb21wb25lbnRzOiB7DQogICAgZGVwYXJ0bWVudENob29zZSwNCiAgICBkaWN0LA0KICB9LA0KICBwcm9wczogew0KICAgIHZhbHVlOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQ6IFtdLA0KICAgIH0sDQogICAgdGV4dDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogIumAieaLqeeUqOaItyIsDQogICAgfSwNCiAgICBpY29uOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAibWQtcGVyc29uLWFkZCIsDQogICAgfSwNCiAgICBzaG93Q2xlYXI6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlLA0KICAgIH0sDQogICAgc2l6ZTogU3RyaW5nLA0KICAgIHR5cGU6IFN0cmluZywNCiAgICBzaGFwZTogU3RyaW5nLA0KICAgIHRyYW5zZmVyOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZSwNCiAgICB9LA0KICAgIG1hc2tTdHlsZTogT2JqZWN0LA0KICAgIGNsYXNzTmFtZTogT2JqZWN0DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHVzZXJMb2FkaW5nOiB0cnVlLA0KICAgICAgdXNlck1vZGFsVmlzaWJsZTogZmFsc2UsDQogICAgICBkcm9wOiBmYWxzZSwNCiAgICAgIGRyb3BEb3duQ29udGVudDogIuWxleW8gCIsDQogICAgICBkcm9wRG93bkljb246ICJpb3MtYXJyb3ctZG93biIsDQogICAgICBzZWxlY3RVc2VyczogdGhpcy52YWx1ZSwNCiAgICAgIHNlYXJjaEZvcm06IHsNCiAgICAgICAgaWQ6ICIiLA0KICAgICAgICBuaWNrbmFtZTogIiIsDQogICAgICAgIHR5cGU6ICIiLA0KICAgICAgICBzdGF0dXM6ICIiLA0KICAgICAgICBwYWdlTnVtYmVyOiAxLCAvLyDlvZPliY3pobXmlbANCiAgICAgICAgcGFnZVNpemU6IDEwLCAvLyDpobXpnaLlpKflsI8NCiAgICAgICAgc29ydDogImNyZWF0ZVRpbWUiLCAvLyDpu5jorqTmjpLluo/lrZfmrrUNCiAgICAgICAgb3JkZXI6ICJkZXNjIiwgLy8g6buY6K6k5o6S5bqP5pa55byPDQogICAgICB9LA0KICAgICAgdXNlckNvbHVtbnM6IFsNCiAgICAgICAgew0KICAgICAgICAgIHR5cGU6ICJpbmRleCIsDQogICAgICAgICAgd2lkdGg6IDYwLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi55So5oi35ZCNIiwNCiAgICAgICAgICBrZXk6ICJuaWNrbmFtZSIsDQogICAgICAgICAgbWluV2lkdGg6IDEzMCwNCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi55m75b2V6LSm5Y+3IiwNCiAgICAgICAgICBrZXk6ICJ1c2VybmFtZSIsDQogICAgICAgICAgbWluV2lkdGg6IDEzMCwNCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5aS05YOPIiwNCiAgICAgICAgICBrZXk6ICJhdmF0YXIiLA0KICAgICAgICAgIHdpZHRoOiA4MCwNCiAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgICAgcmVuZGVyOiAoaCwgcGFyYW1zKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gaCgiQXZhdGFyIiwgew0KICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgIHNyYzogcGFyYW1zLnJvdy5hdmF0YXIsDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9LA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLmiYDlsZ7pg6jpl6giLA0KICAgICAgICAgIGtleTogImRlcGFydG1lbnRUaXRsZSIsDQogICAgICAgICAgd2lkdGg6IDEyMCwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5omL5py6IiwNCiAgICAgICAgICBrZXk6ICJtb2JpbGUiLA0KICAgICAgICAgIHdpZHRoOiAxMjUsDQogICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIumCrueusSIsDQogICAgICAgICAga2V5OiAiZW1haWwiLA0KICAgICAgICAgIHdpZHRoOiAxODAsDQogICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuaAp+WIqyIsDQogICAgICAgICAga2V5OiAic2V4IiwNCiAgICAgICAgICB3aWR0aDogNzAsDQogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLliJvlu7rml7bpl7QiLA0KICAgICAgICAgIGtleTogImNyZWF0ZVRpbWUiLA0KICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICAgIHNvcnRUeXBlOiAiZGVzYyIsDQogICAgICAgICAgd2lkdGg6IDE3MCwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5pON5L2cIiwNCiAgICAgICAgICBrZXk6ICJhY3Rpb24iLA0KICAgICAgICAgIHdpZHRoOiAxMzAsDQogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgIGZpeGVkOiAicmlnaHQiLA0KICAgICAgICAgIHJlbmRlcjogKGgsIHBhcmFtcykgPT4gew0KICAgICAgICAgICAgcmV0dXJuIGgoImRpdiIsIFsNCiAgICAgICAgICAgICAgaCgNCiAgICAgICAgICAgICAgICAiQnV0dG9uIiwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZGVmYXVsdCIsDQogICAgICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIsDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgb246IHsNCiAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNob29zZVVzZXIocGFyYW1zLnJvdyk7DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIua3u+WKoOeUqOaItyINCiAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgdXNlckRhdGE6IFtdLA0KICAgICAgdG90YWxVc2VyOiAwLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kbGVTZWxlY3REZXAodikgew0KICAgICAgdGhpcy5zZWFyY2hGb3JtLmRlcGFydG1lbnRJZCA9IHY7DQogICAgfSwNCiAgICBkcm9wRG93bigpIHsNCiAgICAgIGlmICh0aGlzLmRyb3ApIHsNCiAgICAgICAgdGhpcy5kcm9wRG93bkNvbnRlbnQgPSAi5bGV5byAIjsNCiAgICAgICAgdGhpcy5kcm9wRG93bkljb24gPSAiaW9zLWFycm93LWRvd24iOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5kcm9wRG93bkNvbnRlbnQgPSAi5pS26LW3IjsNCiAgICAgICAgdGhpcy5kcm9wRG93bkljb24gPSAiaW9zLWFycm93LXVwIjsNCiAgICAgIH0NCiAgICAgIHRoaXMuZHJvcCA9ICF0aGlzLmRyb3A7DQogICAgfSwNCiAgICBjaGFuZ2VQYWdlKHYpIHsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlTnVtYmVyID0gdjsNCiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICB9LA0KICAgIGNoYW5nZVBhZ2VTaXplKHYpIHsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlU2l6ZSA9IHY7DQogICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgfSwNCiAgICBnZXREYXRhTGlzdCgpIHsNCiAgICAgIHRoaXMudXNlckxvYWRpbmcgPSB0cnVlOw0KICAgICAgZ2V0VXNlckxpc3REYXRhKHRoaXMuc2VhcmNoRm9ybSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMudXNlckxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgdGhpcy51c2VyRGF0YSA9IHJlcy5yZXN1bHQuY29udGVudDsNCiAgICAgICAgICB0aGlzLnRvdGFsVXNlciA9IHJlcy5yZXN1bHQudG90YWxFbGVtZW50czsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBoYW5kbGVTZWFyY2hVc2VyKCkgew0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VOdW1iZXIgPSAxOw0KICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VTaXplID0gMTA7DQogICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgfSwNCiAgICBoYW5kbGVSZXNldFVzZXIoKSB7DQogICAgICB0aGlzLiRyZWZzLnNlYXJjaEZvcm0ucmVzZXRGaWVsZHMoKTsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlTnVtYmVyID0gMTsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlU2l6ZSA9IDEwOw0KICAgICAgdGhpcy4kcmVmcy5kZXAuY2xlYXJTZWxlY3QoKTsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5kZXBhcnRtZW50SWQgPSAiIjsNCiAgICAgIC8vIOmHjeaWsOWKoOi9veaVsOaNrg0KICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgIH0sDQogICAgc2V0RGF0YSh2KSB7DQogICAgICB0aGlzLnNlbGVjdFVzZXJzID0gdjsNCiAgICAgIHRoaXMuJGVtaXQoIm9uLWNoYW5nZSIsIHRoaXMuc2VsZWN0VXNlcnMpOw0KICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCB0aGlzLnNlbGVjdFVzZXJzKTsNCiAgICB9LA0KICAgIGNob29zZVVzZXIodikgew0KICAgICAgLy8g5Y676YeNDQogICAgICBsZXQgdGhhdCA9IHRoaXM7DQogICAgICBsZXQgZmxhZyA9IHRydWU7DQogICAgICB0aGlzLnNlbGVjdFVzZXJzLmZvckVhY2goKGUpID0+IHsNCiAgICAgICAgaWYgKHYuaWQgPT0gZS5pZCkgew0KICAgICAgICAgIHRoYXQuJE1lc3NhZ2Uud2FybmluZygi5bey57uP5re75Yqg6L+H5ZWm77yM6K+35Yu/6YeN5aSN6YCJ5oupIik7DQogICAgICAgICAgZmxhZyA9IGZhbHNlOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIGlmIChmbGFnKSB7DQogICAgICAgIGxldCB1ID0gew0KICAgICAgICAgIGlkOiB2LmlkLA0KICAgICAgICAgIHVzZXJuYW1lOiB2LnVzZXJuYW1lLA0KICAgICAgICAgIG5pY2tuYW1lOiB2Lm5pY2tuYW1lLA0KICAgICAgICB9Ow0KICAgICAgICB0aGlzLnNlbGVjdFVzZXJzLnB1c2godSk7DQogICAgICAgIHRoaXMuJGVtaXQoIm9uLWNoYW5nZSIsIHRoaXMuc2VsZWN0VXNlcnMpOw0KICAgICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHRoaXMuc2VsZWN0VXNlcnMpOw0KICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoYOa3u+WKoOeUqOaItyAke3Yubmlja25hbWV9IOaIkOWKn2ApOw0KICAgICAgfQ0KICAgIH0sDQogICAgY2xlYXJEYXRhKCkgew0KICAgICAgdGhpcy5zZWxlY3RVc2VycyA9IFtdOw0KICAgICAgdGhpcy4kZW1pdCgib24tY2hhbmdlIiwgdGhpcy5zZWxlY3RVc2Vycyk7DQogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHRoaXMuc2VsZWN0VXNlcnMpOw0KICAgIH0sDQogICAgaGFuZGxlQ2FuY2VsVXNlcihldmVudCwgaWQpIHsNCiAgICAgIC8vIOWIoOmZpOaJgOmAieeUqOaItw0KICAgICAgdGhpcy5zZWxlY3RVc2VycyA9IHRoaXMuc2VsZWN0VXNlcnMuZmlsdGVyKChlKSA9PiB7DQogICAgICAgIHJldHVybiBlLmlkICE9IGlkOw0KICAgICAgfSk7DQogICAgICB0aGlzLiRlbWl0KCJvbi1jaGFuZ2UiLCB0aGlzLnNlbGVjdFVzZXJzKTsNCiAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgdGhpcy5zZWxlY3RVc2Vycyk7DQogICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaJgOmAieeUqOaIt+aIkOWKnyIpOw0KICAgIH0sDQogICAgc2V0Q3VycmVudFZhbHVlKHZhbHVlKSB7DQogICAgICBpZiAodmFsdWUgPT09IHRoaXMuc2VsZWN0VXNlcnMpIHsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdGhpcy5zZWxlY3RVc2VycyA9IHZhbHVlOw0KICAgIH0sDQogIH0sDQogIHdhdGNoOiB7DQogICAgdmFsdWUodmFsKSB7DQogICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh2YWwpOw0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["user-choose.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user-choose.vue","sourceRoot":"src/views/my-components/xboot","sourcesContent":["<template>\r\n  <div class=\"user-choose\">\r\n    <Button\r\n      :size=\"size\"\r\n      :type=\"type\"\r\n      :shape=\"shape\"\r\n      @click=\"userModalVisible = true\"\r\n      :icon=\"icon\"\r\n      >{{ text }}</Button\r\n    >\r\n    <span\r\n      v-show=\"showClear && selectUsers.length > 0\"\r\n      @click=\"clearData\"\r\n      class=\"clear\"\r\n      >清空已选</span\r\n    >\r\n    <Collapse simple class=\"collapse\">\r\n      <Panel name=\"1\">\r\n        已选择\r\n        <span class=\"select-count\">{{ selectUsers.length }}</span> 人\r\n        <p slot=\"content\">\r\n          <Tag\r\n            v-for=\"(item, i) in selectUsers\"\r\n            :key=\"i\"\r\n            :name=\"item.id\"\r\n            color=\"default\"\r\n            closable\r\n            @on-close=\"handleCancelUser\"\r\n          >\r\n            <Tooltip placement=\"top\" :content=\"item.username\">{{\r\n              item.nickname\r\n            }}</Tooltip>\r\n          </Tag>\r\n        </p>\r\n      </Panel>\r\n    </Collapse>\r\n    <Drawer\r\n      title=\"选择用户\"\r\n      closable\r\n      v-model=\"userModalVisible\"\r\n      width=\"815\"\r\n      draggable\r\n      :transfer=\"transfer\"\r\n      :mask-style=\"maskStyle\"\r\n      :class-name=\"className\"\r\n      class=\"user-choose-drawer\"\r\n    >\r\n      <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"70\">\r\n        <FormItem label=\"用户名\" prop=\"nickname\">\r\n          <Input\r\n            type=\"text\"\r\n            v-model=\"searchForm.nickname\"\r\n            clearable\r\n            placeholder=\"请输入用户名\"\r\n            style=\"width: 180px\"\r\n          />\r\n        </FormItem>\r\n        <FormItem label=\"部门\" prop=\"department\">\r\n          <department-choose\r\n            @on-change=\"handleSelectDep\"\r\n            style=\"width: 180px\"\r\n            ref=\"dep\"\r\n          ></department-choose>\r\n        </FormItem>\r\n        <span v-if=\"drop\">\r\n          <FormItem label=\"手机号\" prop=\"mobile\">\r\n            <Input\r\n              type=\"text\"\r\n              v-model=\"searchForm.mobile\"\r\n              clearable\r\n              placeholder=\"请输入手机号\"\r\n              style=\"width: 180px\"\r\n            />\r\n          </FormItem>\r\n          <FormItem label=\"邮箱\" prop=\"email\">\r\n            <Input\r\n              type=\"text\"\r\n              v-model=\"searchForm.email\"\r\n              clearable\r\n              placeholder=\"请输入邮箱\"\r\n              style=\"width: 180px\"\r\n            />\r\n          </FormItem>\r\n          <FormItem label=\"性别\" prop=\"sex\">\r\n            <dict dict=\"sex\" v-model=\"searchForm.sex\" style=\"width: 180px\" />\r\n          </FormItem>\r\n          <FormItem label=\"登录账号\" prop=\"username\">\r\n            <Input\r\n              type=\"text\"\r\n              v-model=\"searchForm.username\"\r\n              clearable\r\n              placeholder=\"请输入登录账号\"\r\n              style=\"width: 180px\"\r\n            />\r\n          </FormItem>\r\n          <FormItem label=\"用户ID\" prop=\"id\">\r\n            <Input\r\n              type=\"text\"\r\n              v-model=\"searchForm.id\"\r\n              clearable\r\n              placeholder=\"请输入用户ID\"\r\n              style=\"width: 180px\"\r\n            />\r\n          </FormItem>\r\n        </span>\r\n        <FormItem style=\"margin-left: -35px\" class=\"br\">\r\n          <Button @click=\"handleSearchUser\" type=\"primary\" icon=\"ios-search\"\r\n            >搜索</Button\r\n          >\r\n          <Button @click=\"handleResetUser\">重置</Button>\r\n          <a class=\"drop-down\" @click=\"dropDown\">\r\n            {{ dropDownContent }}\r\n            <Icon :type=\"dropDownIcon\"></Icon>\r\n          </a>\r\n        </FormItem>\r\n      </Form>\r\n      <Alert show-icon>\r\n        已选择\r\n        <span class=\"select-count\">{{ selectUsers.length }}</span> 项\r\n        <a style=\"margin-left: 10px\" @click=\"clearData\">清空已选</a>\r\n      </Alert>\r\n      <Table\r\n        :loading=\"userLoading\"\r\n        border\r\n        :columns=\"userColumns\"\r\n        :data=\"userData\"\r\n        style=\"margin: 2vh 0\"\r\n      ></Table>\r\n      <Row type=\"flex\" justify=\"end\">\r\n        <Page\r\n          :current=\"searchForm.pageNumber\"\r\n          :total=\"totalUser\"\r\n          :page-size=\"searchForm.pageSize\"\r\n          @on-change=\"changePage\"\r\n          @on-page-size-change=\"changePageSize\"\r\n          :page-size-opts=\"[10, 20, 50]\"\r\n          size=\"small\"\r\n          show-total\r\n          show-elevator\r\n          show-sizer\r\n          transfer\r\n        ></Page>\r\n      </Row>\r\n    </Drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getUserListData } from \"@/api/index\";\r\nimport departmentChoose from \"./department-choose\";\r\nimport dict from \"@/views/my-components/xboot/dict\";\r\nexport default {\r\n  name: \"userChoose\",\r\n  components: {\r\n    departmentChoose,\r\n    dict,\r\n  },\r\n  props: {\r\n    value: {\r\n      type: Array,\r\n      default: [],\r\n    },\r\n    text: {\r\n      type: String,\r\n      default: \"选择用户\",\r\n    },\r\n    icon: {\r\n      type: String,\r\n      default: \"md-person-add\",\r\n    },\r\n    showClear: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    size: String,\r\n    type: String,\r\n    shape: String,\r\n    transfer: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    maskStyle: Object,\r\n    className: Object\r\n  },\r\n  data() {\r\n    return {\r\n      userLoading: true,\r\n      userModalVisible: false,\r\n      drop: false,\r\n      dropDownContent: \"展开\",\r\n      dropDownIcon: \"ios-arrow-down\",\r\n      selectUsers: this.value,\r\n      searchForm: {\r\n        id: \"\",\r\n        nickname: \"\",\r\n        type: \"\",\r\n        status: \"\",\r\n        pageNumber: 1, // 当前页数\r\n        pageSize: 10, // 页面大小\r\n        sort: \"createTime\", // 默认排序字段\r\n        order: \"desc\", // 默认排序方式\r\n      },\r\n      userColumns: [\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"用户名\",\r\n          key: \"nickname\",\r\n          minWidth: 130,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"登录账号\",\r\n          key: \"username\",\r\n          minWidth: 130,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"头像\",\r\n          key: \"avatar\",\r\n          width: 80,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\"Avatar\", {\r\n              props: {\r\n                src: params.row.avatar,\r\n              },\r\n            });\r\n          },\r\n        },\r\n        {\r\n          title: \"所属部门\",\r\n          key: \"departmentTitle\",\r\n          width: 120,\r\n        },\r\n        {\r\n          title: \"手机\",\r\n          key: \"mobile\",\r\n          width: 125,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"邮箱\",\r\n          key: \"email\",\r\n          width: 180,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"性别\",\r\n          key: \"sex\",\r\n          width: 70,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          key: \"createTime\",\r\n          sortable: true,\r\n          sortType: \"desc\",\r\n          width: 170,\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 130,\r\n          align: \"center\",\r\n          fixed: \"right\",\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\r\n                \"Button\",\r\n                {\r\n                  props: {\r\n                    type: \"default\",\r\n                    size: \"small\",\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.chooseUser(params.row);\r\n                    },\r\n                  },\r\n                },\r\n                \"添加用户\"\r\n              ),\r\n            ]);\r\n          },\r\n        },\r\n      ],\r\n      userData: [],\r\n      totalUser: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    handleSelectDep(v) {\r\n      this.searchForm.departmentId = v;\r\n    },\r\n    dropDown() {\r\n      if (this.drop) {\r\n        this.dropDownContent = \"展开\";\r\n        this.dropDownIcon = \"ios-arrow-down\";\r\n      } else {\r\n        this.dropDownContent = \"收起\";\r\n        this.dropDownIcon = \"ios-arrow-up\";\r\n      }\r\n      this.drop = !this.drop;\r\n    },\r\n    changePage(v) {\r\n      this.searchForm.pageNumber = v;\r\n      this.getDataList();\r\n    },\r\n    changePageSize(v) {\r\n      this.searchForm.pageSize = v;\r\n      this.getDataList();\r\n    },\r\n    getDataList() {\r\n      this.userLoading = true;\r\n      getUserListData(this.searchForm).then((res) => {\r\n        this.userLoading = false;\r\n        if (res.success) {\r\n          this.userData = res.result.content;\r\n          this.totalUser = res.result.totalElements;\r\n        }\r\n      });\r\n    },\r\n    handleSearchUser() {\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.getDataList();\r\n    },\r\n    handleResetUser() {\r\n      this.$refs.searchForm.resetFields();\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.$refs.dep.clearSelect();\r\n      this.searchForm.departmentId = \"\";\r\n      // 重新加载数据\r\n      this.getDataList();\r\n    },\r\n    setData(v) {\r\n      this.selectUsers = v;\r\n      this.$emit(\"on-change\", this.selectUsers);\r\n      this.$emit(\"input\", this.selectUsers);\r\n    },\r\n    chooseUser(v) {\r\n      // 去重\r\n      let that = this;\r\n      let flag = true;\r\n      this.selectUsers.forEach((e) => {\r\n        if (v.id == e.id) {\r\n          that.$Message.warning(\"已经添加过啦，请勿重复选择\");\r\n          flag = false;\r\n        }\r\n      });\r\n      if (flag) {\r\n        let u = {\r\n          id: v.id,\r\n          username: v.username,\r\n          nickname: v.nickname,\r\n        };\r\n        this.selectUsers.push(u);\r\n        this.$emit(\"on-change\", this.selectUsers);\r\n        this.$emit(\"input\", this.selectUsers);\r\n        this.$Message.success(`添加用户 ${v.nickname} 成功`);\r\n      }\r\n    },\r\n    clearData() {\r\n      this.selectUsers = [];\r\n      this.$emit(\"on-change\", this.selectUsers);\r\n      this.$emit(\"input\", this.selectUsers);\r\n    },\r\n    handleCancelUser(event, id) {\r\n      // 删除所选用户\r\n      this.selectUsers = this.selectUsers.filter((e) => {\r\n        return e.id != id;\r\n      });\r\n      this.$emit(\"on-change\", this.selectUsers);\r\n      this.$emit(\"input\", this.selectUsers);\r\n      this.$Message.success(\"删除所选用户成功\");\r\n    },\r\n    setCurrentValue(value) {\r\n      if (value === this.selectUsers) {\r\n        return;\r\n      }\r\n      this.selectUsers = value;\r\n    },\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.setCurrentValue(val);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getDataList();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.user-choose {\r\n  .clear {\r\n    font-size: 12px;\r\n    margin-left: 15px;\r\n    color: #40a9ff;\r\n    cursor: pointer;\r\n  }\r\n  .collapse {\r\n    font-size: 12px;\r\n    margin-top: 15px;\r\n    width: 500px;\r\n  }\r\n}\r\n.user-choose-drawer {\r\n  .select-count {\r\n    font-weight: 600;\r\n    color: #40a9ff;\r\n  }\r\n  .drop-down {\r\n    margin-left: 5px;\r\n  }\r\n}\r\n</style>"]}]}