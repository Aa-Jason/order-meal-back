{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\access\\access.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\access\\access.vue","mtime":1651629755124},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJhY2Nlc3NfaW5kZXgiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBwZXJtVHlwZXM6IFtdLA0KICAgICAgcm9sZXM6IFtdLA0KICAgICAgZXhhbXBsZTogIjxCdXR0b24gdi1oYXM9XCInYWRkJ1wiPua3u+WKoOaMiemSrjwvQnV0dG9uPiIsDQogICAgICBleGFtcGxlUm9sZTogIjxCdXR0b24gdi1oYXNSb2xlPVwiJ1JPTEVfQURNSU4nXCI+5re75Yqg5oyJ6ZKuPC9CdXR0b24+IiwNCiAgICAgIGNvbHVtbnM6IFsNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5aeT5ZCNIiwNCiAgICAgICAgICBrZXk6ICJuYW1lIiwNCiAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsNCiAgICAgICAgICAgIHJldHVybiBoKCJkaXYiLCBbDQogICAgICAgICAgICAgIGgoIkljb24iLCB7DQogICAgICAgICAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJpb3MtcGVyc29uIiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHN0eWxlOiB7DQogICAgICAgICAgICAgICAgICBtYXJnaW46ICIwIDVweCAwIDAiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICBoKCJzdHJvbmciLCBwYXJhbXMucm93Lm5hbWUpLA0KICAgICAgICAgICAgXSk7DQogICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5bm06b6EIiwNCiAgICAgICAgICBrZXk6ICJhZ2UiLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLlnLDlnYAiLA0KICAgICAgICAgIGtleTogImFkZHJlc3MiLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLmk43kvZwiLA0KICAgICAgICAgIGtleTogImFjdGlvbiIsDQogICAgICAgICAgd2lkdGg6IDE1MCwNCiAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgICAgcmVuZGVyOiAoaCwgcGFyYW1zKSA9PiB7DQogICAgICAgICAgICBpZiAodGhpcy5wZXJtVHlwZXMuaW5jbHVkZXMoImVkaXQiKSkgew0KICAgICAgICAgICAgICByZXR1cm4gaCgiZGl2IiwgWw0KICAgICAgICAgICAgICAgIGgoDQogICAgICAgICAgICAgICAgICAiQnV0dG9uIiwNCiAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAicHJpbWFyeSIsDQogICAgICAgICAgICAgICAgICAgICAgc2l6ZTogInNtYWxsIiwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogIjVweCIsDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHt9LA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICLnvJbovpEiDQogICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICBoKA0KICAgICAgICAgICAgICAgICAgIkJ1dHRvbiIsDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwNCiAgICAgICAgICAgICAgICAgICAgICBzaXplOiAic21hbGwiLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7fSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAi5Yig6ZmkIg0KICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgcmV0dXJuIGgoImRpdiIsIFsNCiAgICAgICAgICAgICAgICBoKA0KICAgICAgICAgICAgICAgICAgIkJ1dHRvbiIsDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwNCiAgICAgICAgICAgICAgICAgICAgICBzaXplOiAic21hbGwiLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7fSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAi5Yig6ZmkIg0KICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgZGF0YTogWw0KICAgICAgICB7DQogICAgICAgICAgbmFtZTogIkpvaG4gQnJvd24iLA0KICAgICAgICAgIGFnZTogMTgsDQogICAgICAgICAgYWRkcmVzczogIk5ldyBZb3JrIE5vLiAxIExha2UgUGFyayIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBuYW1lOiAiSmltIEdyZWVuIiwNCiAgICAgICAgICBhZ2U6IDI0LA0KICAgICAgICAgIGFkZHJlc3M6ICJMb25kb24gTm8uIDEgTGFrZSBQYXJrIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIG5hbWU6ICJKb2UgQmxhY2siLA0KICAgICAgICAgIGFnZTogMzAsDQogICAgICAgICAgYWRkcmVzczogIlN5ZG5leSBOby4gMSBMYWtlIFBhcmsiLA0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGF2YXRhcigpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmF2YXRhcjsNCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdE1ldGEoKSB7DQogICAgICBpZiAodGhpcy4kcm91dGUubWV0YS5wZXJtVHlwZXMpIHsNCiAgICAgICAgdGhpcy5wZXJtVHlwZXMgPSB0aGlzLiRyb3V0ZS5tZXRhLnBlcm1UeXBlczsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuaW5pdE1ldGEoKTsNCiAgICB0aGlzLnJvbGVzID0gdGhpcy5nZXRTdG9yZSgicm9sZXMiKTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["access.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"access.vue","sourceRoot":"src/views/access","sourcesContent":["<style lang=\"less\">\r\n@import \"./access.less\";\r\n</style>\r\n\r\n<template>\r\n  <div class=\"access\">\r\n    <Row :gutter=\"10\">\r\n      <Col :xs=\"24\" :sm=\"24\" :lg=\"24\" :xl=\"8\" style=\"margin: 0 0 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-contact\" style=\"margin-right: 5px\"></Icon>当前用户\r\n          </p>\r\n          <div class=\"access-user-content access-current-user-content\">\r\n            <Avatar v-if=\"avatar\" :src=\"avatar\" size=\"100\"></Avatar>\r\n            <Avatar v-else icon=\"md-person\" size=\"100\"></Avatar>\r\n            <p>当前用户本页面拥有按钮权限:</p>\r\n            <b>{{ permTypes }}</b>\r\n          </div>\r\n        </Card>\r\n      </Col>\r\n      <Col :lg=\"24\" :xl=\"16\" style=\"margin: 0 0 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-apps\" style=\"margin-right: 5px\"></Icon\r\n            >当前用户本页面拥有的按钮操作\r\n          </p>\r\n          <Row :gutter=\"10\" align=\"middle\" class=\"access-user-content\">\r\n            <Col span=\"6\" class=\"access-buttons\">\r\n              <Button v-has=\"'add'\" type=\"primary\">添加按钮</Button>\r\n              <Button v-has=\"'edit'\">编辑按钮</Button>\r\n              <Button v-has=\"'delete'\" type=\"error\">删除按钮</Button>\r\n            </Col>\r\n            <Col span=\"18\">\r\n              <div>\r\n                您可以通过更换测试用户账号：\r\n                <code>test</code>或 <code>test2</code> 密码：\r\n                <code>123456</code\r\n                >，然后观察该页面按钮以及部门相关数据权限的变化\r\n                <br />\r\n                <br />自定义权限标签： <code>v-has</code>，示例：\r\n                <code>{{ example }}</code>\r\n                <br />\r\n                <br />说明：该Demo大部分页面为演示功能，前端未配置根据权限隐藏按钮\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n    <Row :gutter=\"10\">\r\n      <Col :sm=\"24\" :lg=\"24\" :xl=\"14\" style=\"margin: 0 0 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-grid\" style=\"margin-right: 5px\"></Icon>表格中权限判断\r\n          </p>\r\n          <div class=\"content-table\">\r\n            <Alert show-icon>\r\n              iView Table组件已支持 slot-scope 用法，建议使用该新用法。\r\n              以下为Render函数中权限按钮示例\r\n            </Alert>\r\n            <Table border :columns=\"columns\" :data=\"data\"></Table>\r\n          </div>\r\n        </Card>\r\n      </Col>\r\n      <Col :sm=\"24\" :lg=\"24\" :xl=\"10\" style=\"margin: 0 0 10px 0\">\r\n        <Card>\r\n          <p slot=\"title\">\r\n            <Icon type=\"md-contacts\" style=\"margin-right: 5px\"></Icon\r\n            >通过当前用户角色显示\r\n          </p>\r\n          <p slot=\"extra\">无需配置，全局可用</p>\r\n          <Row class=\"content-role\">\r\n            <div class=\"access-user-roles\">\r\n              <p>当前用户拥有角色:</p>\r\n              <b>{{ roles }}</b>\r\n            </div>\r\n            <div class=\"btns\">\r\n              <Button\r\n                v-hasRole=\"'ROLE_USER'\"\r\n                type=\"primary\"\r\n                style=\"margin-right: 5px\"\r\n                >添加按钮</Button\r\n              >\r\n              <Button v-hasRole=\"'ROLE_TEST'\" type=\"error\">删除按钮</Button>\r\n              <Button v-hasRole=\"'ROLE_ADMIN'\">编辑按钮</Button>\r\n            </div>\r\n            <div class=\"role-demo\">\r\n              自定义角色权限标签：\r\n              <code>v-hasRole</code>\r\n              <br />\r\n              <br />示例：\r\n              <code>{{ exampleRole }}</code>\r\n            </div>\r\n          </Row>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"access_index\",\r\n  data() {\r\n    return {\r\n      permTypes: [],\r\n      roles: [],\r\n      example: \"<Button v-has=\\\"'add'\\\">添加按钮</Button>\",\r\n      exampleRole: \"<Button v-hasRole=\\\"'ROLE_ADMIN'\\\">添加按钮</Button>\",\r\n      columns: [\r\n        {\r\n          title: \"姓名\",\r\n          key: \"name\",\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\"Icon\", {\r\n                props: {\r\n                  type: \"ios-person\",\r\n                },\r\n                style: {\r\n                  margin: \"0 5px 0 0\",\r\n                },\r\n              }),\r\n              h(\"strong\", params.row.name),\r\n            ]);\r\n          },\r\n        },\r\n        {\r\n          title: \"年龄\",\r\n          key: \"age\",\r\n        },\r\n        {\r\n          title: \"地址\",\r\n          key: \"address\",\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 150,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            if (this.permTypes.includes(\"edit\")) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"primary\",\r\n                      size: \"small\",\r\n                    },\r\n                    style: {\r\n                      marginRight: \"5px\",\r\n                    },\r\n                    on: {\r\n                      click: () => {},\r\n                    },\r\n                  },\r\n                  \"编辑\"\r\n                ),\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"error\",\r\n                      size: \"small\",\r\n                    },\r\n                    on: {\r\n                      click: () => {},\r\n                    },\r\n                  },\r\n                  \"删除\"\r\n                ),\r\n              ]);\r\n            } else {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"error\",\r\n                      size: \"small\",\r\n                    },\r\n                    on: {\r\n                      click: () => {},\r\n                    },\r\n                  },\r\n                  \"删除\"\r\n                ),\r\n              ]);\r\n            }\r\n          },\r\n        },\r\n      ],\r\n      data: [\r\n        {\r\n          name: \"John Brown\",\r\n          age: 18,\r\n          address: \"New York No. 1 Lake Park\",\r\n        },\r\n        {\r\n          name: \"Jim Green\",\r\n          age: 24,\r\n          address: \"London No. 1 Lake Park\",\r\n        },\r\n        {\r\n          name: \"Joe Black\",\r\n          age: 30,\r\n          address: \"Sydney No. 1 Lake Park\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    avatar() {\r\n      return this.$store.state.user.avatar;\r\n    },\r\n  },\r\n  methods: {\r\n    initMeta() {\r\n      if (this.$route.meta.permTypes) {\r\n        this.permTypes = this.$route.meta.permTypes;\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.initMeta();\r\n    this.roles = this.getStore(\"roles\");\r\n  },\r\n};\r\n</script>\r\n"]}]}