{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\auto-chat\\reply\\addEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\auto-chat\\reply\\addEdit.vue","mtime":1651629755150},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyDmoLnmja7kvaDnmoTlrp7pmYXor7fmsYJhcGkuanPkvY3nva7ot6/lvoTkv67mlLkNCmltcG9ydCB7IGFkZFJlcGx5LCBlZGl0UmVwbHkgfSBmcm9tICJAL2FwaS9hdXRvQ2hhdCI7DQppbXBvcnQgZWRpdG9yIGZyb20gIkAvdmlld3MvbXktY29tcG9uZW50cy94Ym9vdC9lZGl0b3IiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiYWRkRWRpdCIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBlZGl0b3IsDQogIH0sDQogIHByb3BzOiB7DQogICAgdmFsdWU6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZSwNCiAgICB9LA0KICAgIGRhdGE6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICB9LA0KICAgIHR5cGU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICIwIiwNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB2aXNpYmxlOiB0aGlzLnZhbHVlLA0KICAgICAgdGl0bGU6ICIiLA0KICAgICAgc3VibWl0TG9hZGluZzogZmFsc2UsDQogICAgICBtYXhIZWlnaHQ6IDUxMCwNCiAgICAgIGZvcm06IHsNCiAgICAgICAgLy8g5re75Yqg5oiW57yW6L6R6KGo5Y2V5a+56LGh5Yid5aeL5YyW5pWw5o2uDQogICAgICAgIHRpdGxlOiAiIiwNCiAgICAgICAga2V5d29yZHM6ICIiLA0KICAgICAgICBjb250ZW50OiAiIiwNCiAgICAgICAgZ29vZDogMCwNCiAgICAgICAgYmFkOiAwLA0KICAgICAgICBzb3J0T3JkZXI6IDAsDQogICAgICAgIGhvdDogZmFsc2UsDQogICAgICAgIGV2YWx1YWJsZTogdHJ1ZSwNCiAgICAgIH0sDQogICAgICAvLyDooajljZXpqozor4Hop4TliJkNCiAgICAgIGZvcm1WYWxpZGF0ZTogew0KICAgICAgICB0aXRsZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfV0sDQogICAgICAgIGNvbnRlbnQ6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH1dLA0KICAgICAgfSwNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdCgpIHt9LA0KICAgIHN1Ym1pdCgpIHsNCiAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgodmFsaWQpID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgaWYgKHRoaXMudHlwZSA9PSAiMSIpIHsNCiAgICAgICAgICAgIC8vIOe8lui+kQ0KICAgICAgICAgICAgdGhpcy5zdWJtaXRMb2FkaW5nID0gdHJ1ZTsNCiAgICAgICAgICAgIGVkaXRSZXBseSh0aGlzLmZvcm0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip8iKTsNCiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJvbi1zdWJtaXQiLCB0cnVlKTsNCiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8vIOa3u+WKoA0KICAgICAgICAgICAgdGhpcy5zdWJtaXRMb2FkaW5nID0gdHJ1ZTsNCiAgICAgICAgICAgIGFkZFJlcGx5KHRoaXMuZm9ybSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuaTjeS9nOaIkOWKnyIpOw0KICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoIm9uLXN1Ym1pdCIsIHRydWUpOw0KICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgc2V0Q3VycmVudFZhbHVlKHZhbHVlKSB7DQogICAgICBpZiAodmFsdWUgPT09IHRoaXMudmlzaWJsZSkgew0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICBpZiAodGhpcy50eXBlID09ICIxIikgew0KICAgICAgICB0aGlzLnRpdGxlID0gIue8lui+kSI7DQogICAgICAgIHRoaXMubWF4SGVpZ2h0ID0NCiAgICAgICAgICBOdW1iZXIoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAtIDEyMSkgKyAicHgiOw0KICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT0gIjIiKSB7DQogICAgICAgIHRoaXMudGl0bGUgPSAi5re75YqgIjsNCiAgICAgICAgdGhpcy5tYXhIZWlnaHQgPQ0KICAgICAgICAgIE51bWJlcihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gMTIxKSArICJweCI7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnRpdGxlID0gIuivpue7huS/oeaBryI7DQogICAgICAgIHRoaXMubWF4SGVpZ2h0ID0gIjEwMCUiOw0KICAgICAgfQ0KICAgICAgLy8g5riF56m65pWw5o2uDQogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRGaWVsZHMoKTsNCiAgICAgIGlmICh0aGlzLnR5cGUgPT0gIjAiIHx8IHRoaXMudHlwZSA9PSAiMSIpIHsNCiAgICAgICAgLy8g5Zue5pi+5pWw5o2u5aSE55CGDQogICAgICAgIHRoaXMuZm9ybSA9IHRoaXMuZGF0YTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIOa3u+WKoA0KICAgICAgICBkZWxldGUgdGhpcy5mb3JtLmlkOw0KICAgICAgfQ0KICAgICAgdGhpcy52aXNpYmxlID0gdmFsdWU7DQogICAgfSwNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICB2YWx1ZSh2YWwpIHsNCiAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHZhbCk7DQogICAgfSwNCiAgICB2aXNpYmxlKHZhbHVlKSB7DQogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHZhbHVlKTsNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuaW5pdCgpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["addEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addEdit.vue","sourceRoot":"src/views/auto-chat/reply","sourcesContent":["<template>\r\n  <div>\r\n    <!-- Drawer抽屉 -->\r\n    <Drawer\r\n      :title=\"title\"\r\n      v-model=\"visible\"\r\n      width=\"610\"\r\n      draggable\r\n      :mask-closable=\"type == '0'\"\r\n    >\r\n      <div :style=\"{ maxHeight: maxHeight }\" class=\"drawer-content\">\r\n        <Form\r\n          ref=\"form\"\r\n          :model=\"form\"\r\n          :rules=\"formValidate\"\r\n          label-position=\"top\"\r\n        >\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"24\">\r\n              <FormItem label=\"问题标题\" prop=\"title\">\r\n                <Input v-model=\"form.title\" clearable />\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"24\">\r\n              <FormItem\r\n                label=\"关键词（额外触发词 若问题中已包含可无需填写 多个以任意符号分隔）\"\r\n                prop=\"keywords\"\r\n              >\r\n                <Input\r\n                  v-model=\"form.keywords\"\r\n                  type=\"textarea\"\r\n                  :rows=\"4\"\r\n                  clearable\r\n                />\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"24\">\r\n              <FormItem label=\"回答\" prop=\"content\" class=\"form-editor\">\r\n                <editor\r\n                  ref=\"editor\"\r\n                  v-model=\"form.content\"\r\n                  height=\"200\"\r\n                ></editor>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"24\">\r\n              <FormItem\r\n                label=\"权重值（值越大越靠前，支持小数）\"\r\n                prop=\"sortOrder\"\r\n              >\r\n                <InputNumber\r\n                  v-model=\"form.sortOrder\"\r\n                  style=\"width: 100%\"\r\n                ></InputNumber>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"24\">\r\n              <FormItem label=\"热门回答\" prop=\"hot\">\r\n                <div style=\"display: flex; align-items: center\">\r\n                  <i-switch v-model=\"form.hot\">\r\n                    <span slot=\"open\">是</span>\r\n                    <span slot=\"close\">否</span>\r\n                  </i-switch>\r\n                  <Tooltip\r\n                    content=\"开启后将在“猜你想问”中显示热门hot标记\"\r\n                    placement=\"right\"\r\n                    transfer\r\n                    max-width=\"280\"\r\n                    style=\"display: inline-block !important\"\r\n                  >\r\n                    <Icon\r\n                      type=\"md-help-circle\"\r\n                      size=\"20\"\r\n                      color=\"#c5c5c5\"\r\n                      style=\"margin-left: 10px; cursor: pointer\"\r\n                    />\r\n                  </Tooltip>\r\n                </div>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\">\r\n            <Col span=\"24\">\r\n              <FormItem label=\"启用反馈（允许赞踩）\" prop=\"evaluable\">\r\n                <i-switch v-model=\"form.evaluable\">\r\n                  <span slot=\"open\">开</span>\r\n                  <span slot=\"close\">关</span>\r\n                </i-switch>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"32\" v-show=\"form.evaluable\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"点赞数\" prop=\"good\">\r\n                <InputNumber\r\n                  v-model=\"form.good\"\r\n                  style=\"width: 100%\"\r\n                ></InputNumber>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"12\">\r\n              <FormItem label=\"踩数\" prop=\"bad\">\r\n                <InputNumber\r\n                  v-model=\"form.bad\"\r\n                  style=\"width: 100%\"\r\n                ></InputNumber>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <!-- <Row :gutter=\"32\" v-show=\"form.evaluable\">\r\n            <Col span=\"12\">\r\n              <FormItem label=\"踩数\" prop=\"bad\">\r\n                <InputNumber\r\n                  v-model=\"form.bad\"\r\n                  style=\"width: 50%\"\r\n                ></InputNumber>\r\n              </FormItem>\r\n            </Col>\r\n          </Row> -->\r\n        </Form>\r\n      </div>\r\n      <div class=\"drawer-footer br\" v-show=\"type != '0'\">\r\n        <Button type=\"primary\" :loading=\"submitLoading\" @click=\"submit\"\r\n          >提交</Button\r\n        >\r\n        <Button @click=\"visible = false\">取消</Button>\r\n      </div>\r\n    </Drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 根据你的实际请求api.js位置路径修改\r\nimport { addReply, editReply } from \"@/api/autoChat\";\r\nimport editor from \"@/views/my-components/xboot/editor\";\r\nexport default {\r\n  name: \"addEdit\",\r\n  components: {\r\n    editor,\r\n  },\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    data: {\r\n      type: Object,\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: \"0\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      visible: this.value,\r\n      title: \"\",\r\n      submitLoading: false,\r\n      maxHeight: 510,\r\n      form: {\r\n        // 添加或编辑表单对象初始化数据\r\n        title: \"\",\r\n        keywords: \"\",\r\n        content: \"\",\r\n        good: 0,\r\n        bad: 0,\r\n        sortOrder: 0,\r\n        hot: false,\r\n        evaluable: true,\r\n      },\r\n      // 表单验证规则\r\n      formValidate: {\r\n        title: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\r\n        content: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    init() {},\r\n    submit() {\r\n      this.$refs.form.validate((valid) => {\r\n        if (valid) {\r\n          if (this.type == \"1\") {\r\n            // 编辑\r\n            this.submitLoading = true;\r\n            editReply(this.form).then((res) => {\r\n              this.submitLoading = false;\r\n              if (res.success) {\r\n                this.$Message.success(\"操作成功\");\r\n                this.$emit(\"on-submit\", true);\r\n                this.visible = false;\r\n              }\r\n            });\r\n          } else {\r\n            // 添加\r\n            this.submitLoading = true;\r\n            addReply(this.form).then((res) => {\r\n              this.submitLoading = false;\r\n              if (res.success) {\r\n                this.$Message.success(\"操作成功\");\r\n                this.$emit(\"on-submit\", true);\r\n                this.visible = false;\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    setCurrentValue(value) {\r\n      if (value === this.visible) {\r\n        return;\r\n      }\r\n      if (this.type == \"1\") {\r\n        this.title = \"编辑\";\r\n        this.maxHeight =\r\n          Number(document.documentElement.clientHeight - 121) + \"px\";\r\n      } else if (this.type == \"2\") {\r\n        this.title = \"添加\";\r\n        this.maxHeight =\r\n          Number(document.documentElement.clientHeight - 121) + \"px\";\r\n      } else {\r\n        this.title = \"详细信息\";\r\n        this.maxHeight = \"100%\";\r\n      }\r\n      // 清空数据\r\n      this.$refs.form.resetFields();\r\n      if (this.type == \"0\" || this.type == \"1\") {\r\n        // 回显数据处理\r\n        this.form = this.data;\r\n      } else {\r\n        // 添加\r\n        delete this.form.id;\r\n      }\r\n      this.visible = value;\r\n    },\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.setCurrentValue(val);\r\n    },\r\n    visible(value) {\r\n      this.$emit(\"input\", value);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"@/styles/drawer-common.less\";\r\n</style>"]}]}