{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\my-components\\xboot\\editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\my-components\\xboot\\editor.vue","mtime":1651629755192},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyB1cGxvYWRGaWxlIH0gZnJvbSAiQC9hcGkvaW5kZXgiOw0KaW1wb3J0IEUgZnJvbSAid2FuZ2VkaXRvciI7DQppbXBvcnQgeHNzIGZyb20gInhzcyI7DQppbXBvcnQgbW9uYWNvIGZyb20gIkAvdmlld3MvbXktY29tcG9uZW50cy94Ym9vdC9tb25hY28iOw0KaW1wb3J0IG1hdGVyaWFsQ2VudGVyIGZyb20gIkAvdmlld3MvbXktY29tcG9uZW50cy94Ym9vdC9tYXRlcmlhbC1jZW50ZXIiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgbW9uYWNvLA0KICAgIG1hdGVyaWFsQ2VudGVyLA0KICB9LA0KICBuYW1lOiAiZWRpdG9yIiwNCiAgcHJvcHM6IHsNCiAgICBpZDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogImVkaXRvciIsDQogICAgfSwNCiAgICB2YWx1ZTogU3RyaW5nLA0KICAgIHpJbmRleDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMSwNCiAgICB9LA0KICAgIGhlaWdodDogew0KICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwNCiAgICAgIGRlZmF1bHQ6IDMwMCwNCiAgICB9LA0KICAgIHBsYWNlaG9sZGVyOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAi5Zyo6L+Z6YeM6L6T5YWl5YaF5a65IiwNCiAgICB9LA0KICAgIG1hdGVyaWFsOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgfSwNCiAgICBtYXhTaXplOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiA1LA0KICAgIH0sDQogICAgYmFzZTY0OiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgfSwNCiAgICB1cGxvYWRQaWM6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlLA0KICAgIH0sDQogICAgdXBsb2FkSW1nVGltZW91dDogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMTAwMDAsDQogICAgfSwNCiAgICB1cGxvYWRWaWRlbzogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUsDQogICAgfSwNCiAgICB1cGxvYWRWaWRlb1RpbWVvdXQ6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDMwMDAwMCwNCiAgICB9LA0KICAgIGV4cGFuZEh0bWw6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlLA0KICAgIH0sDQogICAgZXhwYW5kQ2xlYXI6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlLA0KICAgIH0sDQogICAgc2hvd0Z1bGxTY3JlZW46IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlLA0KICAgIH0sDQogICAgb3Blblhzczogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGVkaXRvcjogbnVsbCwNCiAgICAgIGRhdGE6IHRoaXMudmFsdWUsIC8vIOWvjOaWh+acrOaVsOaNrg0KICAgICAgZGF0YUVkaXQ6ICIiLCAvLyDnvJbovpHmlbDmja4NCiAgICAgIHNob3dIVE1MTW9kYWw6IGZhbHNlLCAvLyDmmL7npLpodG1sDQogICAgICBmdWxsOiBmYWxzZSwgLy8gaHRtbOWFqOWxj+W8gOWFsw0KICAgICAgc2hvd0NsZWFyTW9kYWw6IGZhbHNlLA0KICAgICAgbW9uYWNvSGVpZ2h0OiA1MDAsDQogICAgICBmdWxsSGVpZ2h0OiAxMDAsDQogICAgICBzaG93TWF0ZXJpYWxJbWFnZTogZmFsc2UsDQogICAgICBzaG93TWF0ZXJpYWxWaWRlbzogZmFsc2UsDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGluaXRFZGl0b3IoKSB7DQogICAgICBsZXQgdGhhdCA9IHRoaXM7DQogICAgICB0aGlzLmVkaXRvciA9IG5ldyBFKGAjJHt0aGlzLmlkfWApOw0KDQogICAgICBjb25zdCB7ICQsIEJ0bk1lbnUsIERyb3BMaXN0TWVudSwgUGFuZWxNZW51LCBEcm9wTGlzdCwgUGFuZWwsIFRvb2x0aXAgfSA9DQogICAgICAgIEU7DQogICAgICAvLyDmianlsZXoj5zljZUNCiAgICAgIGNsYXNzIEVkaXRIVE1MTWVudSBleHRlbmRzIEJ0bk1lbnUgew0KICAgICAgICBjb25zdHJ1Y3RvcihlZGl0b3IpIHsNCiAgICAgICAgICBjb25zdCAkZWxlbSA9IEUuJCgNCiAgICAgICAgICAgIGA8ZGl2IGNsYXNzPSJ3LWUtbWVudSIgZGF0YS10aXRsZT0i57yW6L6R5rqQ5Luj56CBIj48aSBjbGFzcz0iaXZ1LWljb24gaXZ1LWljb24tbWQtY29kZS13b3JraW5nIiBzdHlsZT0iZm9udC1zaXplOiAyMnB4OyI+PC9pPjwvZGl2PmANCiAgICAgICAgICApOw0KICAgICAgICAgIHN1cGVyKCRlbGVtLCBlZGl0b3IpOw0KICAgICAgICB9DQogICAgICAgIC8vIOiPnOWNleeCueWHu+S6i+S7tg0KICAgICAgICBjbGlja0hhbmRsZXIoKSB7DQogICAgICAgICAgdGhhdC5lZGl0SFRNTCgpOw0KICAgICAgICB9DQogICAgICAgIC8vIOiPnOWNlea/gOa0u+eKtuaAgQ0KICAgICAgICB0cnlDaGFuZ2VBY3RpdmUoKSB7fQ0KICAgICAgfQ0KICAgICAgY2xhc3MgQ2xlYXJNZW51IGV4dGVuZHMgQnRuTWVudSB7DQogICAgICAgIGNvbnN0cnVjdG9yKGVkaXRvcikgew0KICAgICAgICAgIGNvbnN0ICRlbGVtID0gRS4kKA0KICAgICAgICAgICAgYDxkaXYgY2xhc3M9InctZS1tZW51IiBkYXRhLXRpdGxlPSLmuIXnqboiPjxpIGNsYXNzPSJpdnUtaWNvbiBpdnUtaWNvbi1tZC10cmFzaCIgc3R5bGU9ImZvbnQtc2l6ZTogMThweDsiPjwvaT48L2Rpdj5gDQogICAgICAgICAgKTsNCiAgICAgICAgICBzdXBlcigkZWxlbSwgZWRpdG9yKTsNCiAgICAgICAgfQ0KICAgICAgICAvLyDoj5zljZXngrnlh7vkuovku7YNCiAgICAgICAgY2xpY2tIYW5kbGVyKCkgew0KICAgICAgICAgIHRoYXQuc2hvd0NsZWFyTW9kYWwgPSB0cnVlOw0KICAgICAgICB9DQogICAgICAgIC8vIOiPnOWNlea/gOa0u+eKtuaAgQ0KICAgICAgICB0cnlDaGFuZ2VBY3RpdmUoKSB7fQ0KICAgICAgfQ0KICAgICAgY2xhc3MgSW1hZ2VNZW51IGV4dGVuZHMgQnRuTWVudSB7DQogICAgICAgIGNvbnN0cnVjdG9yKGVkaXRvcikgew0KICAgICAgICAgIGNvbnN0ICRlbGVtID0gRS4kKA0KICAgICAgICAgICAgYDxkaXYgY2xhc3M9InctZS1tZW51IiBkYXRhLXRpdGxlPSLlm77niYciPjxpIGNsYXNzPSJ3LWUtaWNvbi1pbWFnZSI+PC9pPjwvZGl2PmANCiAgICAgICAgICApOw0KICAgICAgICAgIHN1cGVyKCRlbGVtLCBlZGl0b3IpOw0KICAgICAgICB9DQogICAgICAgIC8vIOiPnOWNleeCueWHu+S6i+S7tg0KICAgICAgICBjbGlja0hhbmRsZXIoKSB7DQogICAgICAgICAgdGhhdC5zaG93TWF0ZXJpYWxJbWFnZSA9IHRydWU7DQogICAgICAgIH0NCiAgICAgICAgLy8g6I+c5Y2V5r+A5rS754q25oCBDQogICAgICAgIHRyeUNoYW5nZUFjdGl2ZSgpIHt9DQogICAgICB9DQogICAgICBjbGFzcyBWaWRlb01lbnUgZXh0ZW5kcyBCdG5NZW51IHsNCiAgICAgICAgY29uc3RydWN0b3IoZWRpdG9yKSB7DQogICAgICAgICAgY29uc3QgJGVsZW0gPSBFLiQoDQogICAgICAgICAgICBgPGRpdiBjbGFzcz0idy1lLW1lbnUiIGRhdGEtdGl0bGU9IuinhumikSI+PGkgY2xhc3M9InctZS1pY29uLXBsYXkiPjwvaT48L2Rpdj5gDQogICAgICAgICAgKTsNCiAgICAgICAgICBzdXBlcigkZWxlbSwgZWRpdG9yKTsNCiAgICAgICAgfQ0KICAgICAgICAvLyDoj5zljZXngrnlh7vkuovku7YNCiAgICAgICAgY2xpY2tIYW5kbGVyKCkgew0KICAgICAgICAgIHRoYXQuc2hvd01hdGVyaWFsVmlkZW8gPSB0cnVlOw0KICAgICAgICB9DQogICAgICAgIC8vIOiPnOWNlea/gOa0u+eKtuaAgQ0KICAgICAgICB0cnlDaGFuZ2VBY3RpdmUoKSB7fQ0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuZXhwYW5kSHRtbCkgew0KICAgICAgICAvLyDmianlsZXms6jlhozoj5zljZUg5bCG6I+c5Y2V5Yqg5YWl5YiwIGVkaXRvci5jb25maWcubWVudXMg5LitDQogICAgICAgIHRoaXMuZWRpdG9yLm1lbnVzLmV4dGVuZCgiZWRpdEhUTUxNZW51IiwgRWRpdEhUTUxNZW51KTsNCiAgICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLm1lbnVzLnB1c2goImVkaXRIVE1MTWVudSIpOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuZXhwYW5kQ2xlYXIpIHsNCiAgICAgICAgdGhpcy5lZGl0b3IubWVudXMuZXh0ZW5kKCJjbGVhck1lbnUiLCBDbGVhck1lbnUpOw0KICAgICAgICB0aGlzLmVkaXRvci5jb25maWcubWVudXMucHVzaCgiY2xlYXJNZW51Iik7DQogICAgICB9DQoNCiAgICAgIGlmICh0aGlzLm1hdGVyaWFsKSB7DQogICAgICAgIC8vIOenu+mZpOWOn+WbvueJh+inhumikeS4iuS8oOiPnOWNlQ0KICAgICAgICB0aGlzLmVkaXRvci5jb25maWcuZXhjbHVkZU1lbnVzID0gWyJpbWFnZSIsICJ2aWRlbyJdOw0KICAgICAgICAvLyDmt7vliqDmlrDntKDmnZDkuK3lv4PniYgNCiAgICAgICAgaWYgKHRoaXMudXBsb2FkUGljKSB7DQogICAgICAgICAgdGhpcy5lZGl0b3IubWVudXMuZXh0ZW5kKCJpbWFnZU1lbnUiLCBJbWFnZU1lbnUpOw0KICAgICAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5tZW51cy5zcGxpY2UoMTcsIDAsICJpbWFnZU1lbnUiKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy51cGxvYWRWaWRlbykgew0KICAgICAgICAgIHRoaXMuZWRpdG9yLm1lbnVzLmV4dGVuZCgidmlkZW9NZW51IiwgVmlkZW9NZW51KTsNCiAgICAgICAgICB0aGlzLmVkaXRvci5jb25maWcubWVudXMuc3BsaWNlKDE4LCAwLCAidmlkZW9NZW51Iik7DQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgLy8g5YWo5bGPDQogICAgICB0aGlzLmVkaXRvci5jb25maWcuc2hvd0Z1bGxTY3JlZW4gPSB0aGlzLnNob3dGdWxsU2NyZWVuOw0KICAgICAgLy8g57yW6L6R5YaF5a6557uR5a6a5pWw5o2uDQogICAgICB0aGlzLmVkaXRvci5jb25maWcub25jaGFuZ2UgPSAoaHRtbCkgPT4gew0KICAgICAgICBpZiAodGhpcy5vcGVuWHNzKSB7DQogICAgICAgICAgdGhpcy5kYXRhID0geHNzKGh0bWwpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuZGF0YSA9IGh0bWw7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCB0aGlzLmRhdGEpOw0KICAgICAgICB0aGlzLiRlbWl0KCJvbi1jaGFuZ2UiLCB0aGlzLmRhdGEpOw0KICAgICAgfTsNCiAgICAgIC8vIOmrmOW6pg0KICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLmhlaWdodCA9IHRoaXMuaGVpZ2h0Ow0KICAgICAgLy8gei1pbmRleA0KICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLnpJbmRleCA9IHRoaXMuekluZGV4Ow0KICAgICAgLy8gcGxhY2Vob2xkZXINCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5wbGFjZWhvbGRlciA9IHRoaXMucGxhY2Vob2xkZXI7DQogICAgICAvLyDlm77niYfkuIrkvKDotoXml7bml7bpl7QNCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdUaW1lb3V0ID0gdGhpcy51cGxvYWRJbWdUaW1lb3V0Ow0KICAgICAgLy8g6KeG6aKR5LiK5Lyg6LaF5pe25pe26Ze0DQogICAgICB0aGlzLmVkaXRvci5jb25maWcudXBsb2FkVmlkZW9UaW1lb3V0ID0gdGhpcy51cGxvYWRWaWRlb1RpbWVvdXQ7DQogICAgICAvLyDlm77niYfkuIrkvKANCiAgICAgIGlmICh0aGlzLnVwbG9hZFBpYykgew0KICAgICAgICBpZiAodGhpcy5iYXNlNjQpIHsNCiAgICAgICAgICAvLyDkvb/nlKggYmFzZTY0IOS/neWtmOWbvueJhw0KICAgICAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdTaG93QmFzZTY0ID0gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAvLyDphY3nva7kuIrkvKDlm77niYfmnI3liqHlmajnq6/lnLDlnYANCiAgICAgICAgICB0aGlzLmVkaXRvci5jb25maWcudXBsb2FkSW1nU2VydmVyID0gdXBsb2FkRmlsZTsNCiAgICAgICAgICAvLyB4Ym9vdOWmguimgWhlYWRlcuS4reS8oOWFpXRva2Vu6Ym05p2DDQogICAgICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZEltZ0hlYWRlcnMgPSB7DQogICAgICAgICAgICBhY2Nlc3NUb2tlbjogdGhhdC5nZXRTdG9yZSgiYWNjZXNzVG9rZW4iKSwNCiAgICAgICAgICB9Ow0KICAgICAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRGaWxlTmFtZSA9ICJmaWxlIjsNCiAgICAgICAgICB0aGlzLmVkaXRvci5jb25maWcudXBsb2FkSW1nSG9va3MgPSB7DQogICAgICAgICAgICBiZWZvcmU6IGZ1bmN0aW9uICh4aHIsIGVkaXRvciwgZmlsZXMpIHsNCiAgICAgICAgICAgICAgLy8g5Zu+54mH5LiK5Lyg5LmL5YmN6Kem5Y+RDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHhociwgZWRpdG9yLCByZXN1bHQpIHsNCiAgICAgICAgICAgICAgLy8g5Zu+54mH5LiK5Lyg5bm26L+U5Zue57uT5p6c77yM5Zu+54mH5o+S5YWl5oiQ5Yqf5LmL5ZCO6Kem5Y+RDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKHhociwgZWRpdG9yLCByZXN1bHQpIHsNCiAgICAgICAgICAgICAgLy8g5Zu+54mH5LiK5Lyg5bm26L+U5Zue57uT5p6c77yM5L2G5Zu+54mH5o+S5YWl6ZSZ6K+v5pe26Kem5Y+RDQogICAgICAgICAgICAgIHRoYXQuJE1lc3NhZ2UuZXJyb3IoIuS4iuS8oOWbvueJh+Wksei0pSIpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBlZGl0b3IpIHsNCiAgICAgICAgICAgICAgLy8g5Zu+54mH5LiK5Lyg5Ye66ZSZ5pe26Kem5Y+RDQogICAgICAgICAgICAgIHRoYXQuJE1lc3NhZ2UuZXJyb3IoIuS4iuS8oOWbvueJh+WHuumUmSIpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHRpbWVvdXQ6IGZ1bmN0aW9uICh4aHIsIGVkaXRvcikgew0KICAgICAgICAgICAgICAvLyDlm77niYfkuIrkvKDotoXml7bml7bop6blj5ENCiAgICAgICAgICAgICAgdGhhdC4kTWVzc2FnZS5lcnJvcigi5LiK5Lyg5Zu+54mH6LaF5pe2Iik7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgLy8g5aaC5p6c5pyN5Yqh5Zmo56uv6L+U5Zue55qE5LiN5pivIHtlcnJubzowLCBkYXRhOiBbLi4uXX0g6L+Z56eN5qC85byP77yM5Y+v5L2/55So6K+l6YWN572uDQogICAgICAgICAgICBjdXN0b21JbnNlcnQ6IGZ1bmN0aW9uIChpbnNlcnRJbWcsIHJlc3VsdCwgZWRpdG9yKSB7DQogICAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyA9PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgbGV0IHVybCA9IHJlc3VsdC5yZXN1bHQ7DQogICAgICAgICAgICAgICAgaW5zZXJ0SW1nKHVybCk7DQogICAgICAgICAgICAgICAgdGhhdC4kTWVzc2FnZS5zdWNjZXNzKCLkuIrkvKDlm77niYfmiJDlip8iKTsNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGF0LiRNZXNzYWdlLmVycm9yKHJlc3VsdC5tZXNzYWdlKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICB9DQogICAgICAvLyDop4bpopHkuIrkvKANCiAgICAgIGlmICh0aGlzLnVwbG9hZFZpZGVvKSB7DQogICAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRWaWRlb1NlcnZlciA9IHVwbG9hZEZpbGU7DQogICAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRWaWRlb0hlYWRlcnMgPSB7DQogICAgICAgICAgYWNjZXNzVG9rZW46IHRoYXQuZ2V0U3RvcmUoImFjY2Vzc1Rva2VuIiksDQogICAgICAgIH07DQogICAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRWaWRlb05hbWUgPSAiZmlsZSI7DQogICAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRWaWRlb0hvb2tzID0gew0KICAgICAgICAgIGJlZm9yZTogZnVuY3Rpb24gKHhociwgZWRpdG9yLCBmaWxlcykgew0KICAgICAgICAgICAgLy8g6KeG6aKR5LiK5Lyg5LmL5YmN6Kem5Y+RDQogICAgICAgICAgfSwNCiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoeGhyLCBlZGl0b3IsIHJlc3VsdCkgew0KICAgICAgICAgICAgLy8g6KeG6aKR5LiK5Lyg5bm26L+U5Zue57uT5p6c77yM5Zu+54mH5o+S5YWl5oiQ5Yqf5LmL5ZCO6Kem5Y+RDQogICAgICAgICAgfSwNCiAgICAgICAgICBmYWlsOiBmdW5jdGlvbiAoeGhyLCBlZGl0b3IsIHJlc3VsdCkgew0KICAgICAgICAgICAgLy8g6KeG6aKR5LiK5Lyg5bm26L+U5Zue57uT5p6c77yM5L2G5Zu+54mH5o+S5YWl6ZSZ6K+v5pe26Kem5Y+RDQogICAgICAgICAgICB0aGF0LiRNZXNzYWdlLmVycm9yKCLkuIrkvKDop4bpopHlpLHotKUiKTsNCiAgICAgICAgICB9LA0KICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBlZGl0b3IpIHsNCiAgICAgICAgICAgIC8vIOWbvueJh+S4iuS8oOWHuumUmeaXtuinpuWPkQ0KICAgICAgICAgICAgdGhhdC4kTWVzc2FnZS5lcnJvcigi5LiK5Lyg6KeG6aKR5Ye66ZSZIik7DQogICAgICAgICAgfSwNCiAgICAgICAgICB0aW1lb3V0OiBmdW5jdGlvbiAoeGhyLCBlZGl0b3IpIHsNCiAgICAgICAgICAgIC8vIOWbvueJh+S4iuS8oOi2heaXtuaXtuinpuWPkQ0KICAgICAgICAgICAgdGhhdC4kTWVzc2FnZS5lcnJvcigi5LiK5Lyg6KeG6aKR6LaF5pe2Iik7DQogICAgICAgICAgfSwNCiAgICAgICAgICAvLyDlpoLmnpzmnI3liqHlmajnq6/ov5Tlm57nmoTkuI3mmK8ge2Vycm5vOjAsIGRhdGE6IFsuLi5dfSDov5nnp43moLzlvI/vvIzlj6/kvb/nlKjor6XphY3nva4NCiAgICAgICAgICBjdXN0b21JbnNlcnQ6IGZ1bmN0aW9uIChpbnNlcnRWaWRlbywgcmVzdWx0LCBlZGl0b3IpIHsNCiAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyA9PSB0cnVlKSB7DQogICAgICAgICAgICAgIGxldCB1cmwgPSByZXN1bHQucmVzdWx0Ow0KICAgICAgICAgICAgICBpbnNlcnRWaWRlbyh1cmwpOw0KICAgICAgICAgICAgICB0aGF0LiRNZXNzYWdlLnN1Y2Nlc3MoIuS4iuS8oOinhumikeaIkOWKnyIpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhhdC4kTWVzc2FnZS5lcnJvcihyZXN1bHQubWVzc2FnZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSwNCiAgICAgICAgfTsNCiAgICAgIH0NCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5jdXN0b21BbGVydCA9IChpbmZvKSA9PiB7DQogICAgICAgIC8vIGluZm8g5piv6ZyA6KaB5o+Q56S655qE5YaF5a65DQogICAgICAgIC8vIHRoaXMuJE1lc3NhZ2UuaW5mbyhpbmZvKTsNCiAgICAgIH07DQogICAgICB0aGlzLmVkaXRvci5jcmVhdGUoKTsNCiAgICAgIGlmICh0aGlzLnZhbHVlKSB7DQogICAgICAgIGlmICh0aGlzLm9wZW5Yc3MpIHsNCiAgICAgICAgICB0aGlzLmVkaXRvci50eHQuaHRtbCh4c3ModGhpcy52YWx1ZSkpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuZWRpdG9yLnR4dC5odG1sKHRoaXMudmFsdWUpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBzZWxlY3RJbWFnZSh2KSB7DQogICAgICB2LmZvckVhY2goKGUpID0+IHsNCiAgICAgICAgdGhpcy5lZGl0b3IuY21kLmRvKA0KICAgICAgICAgICJpbnNlcnRIVE1MIiwNCiAgICAgICAgICBgPGltZyBzcmM9IiR7ZX0iIGNvbnRlbnRlZGl0YWJsZT0iZmFsc2UiIHN0eWxlPSJtYXgtd2lkdGg6IDEwMCU7Ii8+YA0KICAgICAgICApOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBzZWxlY3RWaWRlbyh2KSB7DQogICAgICB0aGlzLmVkaXRvci5jbWQuZG8oDQogICAgICAgICJpbnNlcnRIVE1MIiwNCiAgICAgICAgYDx2aWRlbyBzcmM9IiR7dn0iICBjb250cm9scz0iY29udHJvbHMiIHN0eWxlPSJtYXgtd2lkdGg6MTAwJSI+PC92aWRlbz5gDQogICAgICApOw0KICAgIH0sDQogICAgaGFuZGxlRnVsbCgpIHsNCiAgICAgIHRoaXMuZnVsbCA9ICF0aGlzLmZ1bGw7DQogICAgICBpZiAodGhpcy5mdWxsKSB7DQogICAgICAgIHRoaXMubW9uYWNvSGVpZ2h0ID0gdGhpcy5mdWxsSGVpZ2h0Ow0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5tb25hY29IZWlnaHQgPSA1MDA7DQogICAgICB9DQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgdGhpcy4kcmVmcy5tb25hY28xLmxheW91dCgpOw0KICAgICAgfSwgMTApOw0KICAgIH0sDQogICAgZWRpdEhUTUwoKSB7DQogICAgICB0aGlzLmRhdGFFZGl0ID0gdGhpcy5kYXRhOw0KICAgICAgdGhpcy5zaG93SFRNTE1vZGFsID0gdHJ1ZTsNCiAgICB9LA0KICAgIGVkaXRIVE1MT2soKSB7DQogICAgICB0aGlzLmVkaXRvci50eHQuaHRtbCh0aGlzLmRhdGFFZGl0KTsNCiAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgdGhpcy5kYXRhRWRpdCk7DQogICAgICB0aGlzLiRlbWl0KCJvbi1jaGFuZ2UiLCB0aGlzLmRhdGFFZGl0KTsNCiAgICAgIHRoaXMuc2hvd0hUTUxNb2RhbCA9IGZhbHNlOw0KICAgIH0sDQogICAgY2xlYXIoKSB7DQogICAgICB0aGlzLmRhdGEgPSAiIjsNCiAgICAgIHRoaXMuZWRpdG9yLnR4dC5odG1sKHRoaXMuZGF0YSk7DQogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHRoaXMuZGF0YSk7DQogICAgICB0aGlzLiRlbWl0KCJvbi1jaGFuZ2UiLCB0aGlzLmRhdGEpOw0KICAgICAgdGhpcy5zaG93Q2xlYXJNb2RhbCA9IGZhbHNlOw0KICAgIH0sDQogICAgc2V0RGF0YSh2YWx1ZSkgew0KICAgICAgaWYgKCF0aGlzLmVkaXRvcikgew0KICAgICAgICB0aGlzLmluaXRFZGl0b3IoKTsNCiAgICAgIH0NCiAgICAgIGlmICh2YWx1ZSAhPSB0aGlzLmRhdGEpIHsNCiAgICAgICAgdGhpcy5kYXRhID0gdmFsdWU7DQogICAgICAgIHRoaXMuZWRpdG9yLnR4dC5odG1sKHRoaXMuZGF0YSk7DQogICAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgdGhpcy5kYXRhKTsNCiAgICAgICAgdGhpcy4kZW1pdCgib24tY2hhbmdlIiwgdGhpcy5kYXRhKTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBiZWZvcmVEZXN0cm95KCkgew0KICAgIC8vIOiwg+eUqOmUgOavgSBBUEkg5a+55b2T5YmN57yW6L6R5Zmo5a6e5L6L6L+b6KGM6ZSA5q+BDQogICAgaWYgKHRoaXMuZWRpdG9yICE9IG51bGwpIHsNCiAgICAgIHRoaXMuZWRpdG9yLmRlc3Ryb3koKTsNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgdmFsdWUodmFsKSB7DQogICAgICB0aGlzLnNldERhdGEodmFsKTsNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuaW5pdEVkaXRvcigpOw0KICAgIHRoaXMuZnVsbEhlaWdodCA9IE51bWJlcihkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCAtIDE0NCk7DQogIH0sDQp9Ow0K"},{"version":3,"sources":["editor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"editor.vue","sourceRoot":"src/views/my-components/xboot","sourcesContent":["<template>\r\n  <div>\r\n    <div :id=\"id\"></div>\r\n\r\n    <Modal\r\n      v-model=\"showHTMLModal\"\r\n      :mask-closable=\"false\"\r\n      :width=\"900\"\r\n      :fullscreen=\"full\"\r\n      :z-index=\"10001\"\r\n      class=\"wangeditor-model\"\r\n    >\r\n      <div slot=\"header\">\r\n        <div class=\"ivu-modal-header-inner\">编辑HTML代码</div>\r\n        <a @click=\"handleFull\" class=\"modal-fullscreen\">\r\n          <Icon\r\n            v-show=\"!full\"\r\n            type=\"ios-expand\"\r\n            class=\"model-fullscreen-icon\"\r\n          />\r\n          <Icon\r\n            v-show=\"full\"\r\n            type=\"ios-contract\"\r\n            class=\"model-fullscreen-icon\"\r\n          />\r\n        </a>\r\n        <a @click=\"showHTMLModal = false\" class=\"ivu-modal-close\">\r\n          <Icon type=\"ios-close\" class=\"ivu-icon-ios-close\" />\r\n        </a>\r\n      </div>\r\n      <monaco\r\n        id=\"monaco1\"\r\n        v-if=\"showHTMLModal\"\r\n        v-model=\"dataEdit\"\r\n        language=\"html\"\r\n        :height=\"monacoHeight\"\r\n        :showFullscreen=\"false\"\r\n        ref=\"monaco1\"\r\n      />\r\n      <div slot=\"footer\">\r\n        <Button @click=\"editHTMLOk\" type=\"primary\">保存提交</Button>\r\n      </div>\r\n    </Modal>\r\n    <Modal\r\n      v-model=\"showClearModal\"\r\n      :closable=\"false\"\r\n      :mask-closable=\"false\"\r\n      :width=\"416\"\r\n      :footer-hide=\"true\"\r\n      :z-index=\"10001\"\r\n    >\r\n      <div class=\"ivu-modal-confirm\">\r\n        <div class=\"ivu-modal-confirm-head\">\r\n          <div\r\n            class=\"\r\n              ivu-modal-confirm-head-icon ivu-modal-confirm-head-icon-confirm\r\n            \"\r\n          >\r\n            <i class=\"ivu-icon ivu-icon-ios-help-circle\"></i>\r\n          </div>\r\n          <div class=\"ivu-modal-confirm-head-title\">确认清空</div>\r\n        </div>\r\n        <div class=\"ivu-modal-confirm-body\">确认要清空编辑器内容？</div>\r\n        <div class=\"ivu-modal-confirm-footer\">\r\n          <Button type=\"text\" @click=\"showClearModal = false\">取消</Button>\r\n          <Button @click=\"clear\" type=\"primary\">确定</Button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n\r\n    <materialCenter\r\n      v-if=\"material\"\r\n      v-model=\"showMaterialImage\"\r\n      @on-change=\"selectImage\"\r\n      :maxSize=\"maxSize\"\r\n      multiple\r\n    />\r\n\r\n    <materialCenter\r\n      v-if=\"material\"\r\n      mode=\"视频\"\r\n      v-model=\"showMaterialVideo\"\r\n      @on-change=\"selectVideo\"\r\n      :maxSize=\"maxSize\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { uploadFile } from \"@/api/index\";\r\nimport E from \"wangeditor\";\r\nimport xss from \"xss\";\r\nimport monaco from \"@/views/my-components/xboot/monaco\";\r\nimport materialCenter from \"@/views/my-components/xboot/material-center\";\r\nexport default {\r\n  components: {\r\n    monaco,\r\n    materialCenter,\r\n  },\r\n  name: \"editor\",\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      default: \"editor\",\r\n    },\r\n    value: String,\r\n    zIndex: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    height: {\r\n      type: [Number, String],\r\n      default: 300,\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: \"在这里输入内容\",\r\n    },\r\n    material: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    maxSize: {\r\n      type: Number,\r\n      default: 5,\r\n    },\r\n    base64: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    uploadPic: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    uploadImgTimeout: {\r\n      type: Number,\r\n      default: 10000,\r\n    },\r\n    uploadVideo: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    uploadVideoTimeout: {\r\n      type: Number,\r\n      default: 300000,\r\n    },\r\n    expandHtml: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    expandClear: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    showFullScreen: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    openXss: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      editor: null,\r\n      data: this.value, // 富文本数据\r\n      dataEdit: \"\", // 编辑数据\r\n      showHTMLModal: false, // 显示html\r\n      full: false, // html全屏开关\r\n      showClearModal: false,\r\n      monacoHeight: 500,\r\n      fullHeight: 100,\r\n      showMaterialImage: false,\r\n      showMaterialVideo: false,\r\n    };\r\n  },\r\n  methods: {\r\n    initEditor() {\r\n      let that = this;\r\n      this.editor = new E(`#${this.id}`);\r\n\r\n      const { $, BtnMenu, DropListMenu, PanelMenu, DropList, Panel, Tooltip } =\r\n        E;\r\n      // 扩展菜单\r\n      class EditHTMLMenu extends BtnMenu {\r\n        constructor(editor) {\r\n          const $elem = E.$(\r\n            `<div class=\"w-e-menu\" data-title=\"编辑源代码\"><i class=\"ivu-icon ivu-icon-md-code-working\" style=\"font-size: 22px;\"></i></div>`\r\n          );\r\n          super($elem, editor);\r\n        }\r\n        // 菜单点击事件\r\n        clickHandler() {\r\n          that.editHTML();\r\n        }\r\n        // 菜单激活状态\r\n        tryChangeActive() {}\r\n      }\r\n      class ClearMenu extends BtnMenu {\r\n        constructor(editor) {\r\n          const $elem = E.$(\r\n            `<div class=\"w-e-menu\" data-title=\"清空\"><i class=\"ivu-icon ivu-icon-md-trash\" style=\"font-size: 18px;\"></i></div>`\r\n          );\r\n          super($elem, editor);\r\n        }\r\n        // 菜单点击事件\r\n        clickHandler() {\r\n          that.showClearModal = true;\r\n        }\r\n        // 菜单激活状态\r\n        tryChangeActive() {}\r\n      }\r\n      class ImageMenu extends BtnMenu {\r\n        constructor(editor) {\r\n          const $elem = E.$(\r\n            `<div class=\"w-e-menu\" data-title=\"图片\"><i class=\"w-e-icon-image\"></i></div>`\r\n          );\r\n          super($elem, editor);\r\n        }\r\n        // 菜单点击事件\r\n        clickHandler() {\r\n          that.showMaterialImage = true;\r\n        }\r\n        // 菜单激活状态\r\n        tryChangeActive() {}\r\n      }\r\n      class VideoMenu extends BtnMenu {\r\n        constructor(editor) {\r\n          const $elem = E.$(\r\n            `<div class=\"w-e-menu\" data-title=\"视频\"><i class=\"w-e-icon-play\"></i></div>`\r\n          );\r\n          super($elem, editor);\r\n        }\r\n        // 菜单点击事件\r\n        clickHandler() {\r\n          that.showMaterialVideo = true;\r\n        }\r\n        // 菜单激活状态\r\n        tryChangeActive() {}\r\n      }\r\n      if (this.expandHtml) {\r\n        // 扩展注册菜单 将菜单加入到 editor.config.menus 中\r\n        this.editor.menus.extend(\"editHTMLMenu\", EditHTMLMenu);\r\n        this.editor.config.menus.push(\"editHTMLMenu\");\r\n      }\r\n      if (this.expandClear) {\r\n        this.editor.menus.extend(\"clearMenu\", ClearMenu);\r\n        this.editor.config.menus.push(\"clearMenu\");\r\n      }\r\n\r\n      if (this.material) {\r\n        // 移除原图片视频上传菜单\r\n        this.editor.config.excludeMenus = [\"image\", \"video\"];\r\n        // 添加新素材中心版\r\n        if (this.uploadPic) {\r\n          this.editor.menus.extend(\"imageMenu\", ImageMenu);\r\n          this.editor.config.menus.splice(17, 0, \"imageMenu\");\r\n        }\r\n        if (this.uploadVideo) {\r\n          this.editor.menus.extend(\"videoMenu\", VideoMenu);\r\n          this.editor.config.menus.splice(18, 0, \"videoMenu\");\r\n        }\r\n      }\r\n\r\n      // 全屏\r\n      this.editor.config.showFullScreen = this.showFullScreen;\r\n      // 编辑内容绑定数据\r\n      this.editor.config.onchange = (html) => {\r\n        if (this.openXss) {\r\n          this.data = xss(html);\r\n        } else {\r\n          this.data = html;\r\n        }\r\n        this.$emit(\"input\", this.data);\r\n        this.$emit(\"on-change\", this.data);\r\n      };\r\n      // 高度\r\n      this.editor.config.height = this.height;\r\n      // z-index\r\n      this.editor.config.zIndex = this.zIndex;\r\n      // placeholder\r\n      this.editor.config.placeholder = this.placeholder;\r\n      // 图片上传超时时间\r\n      this.editor.config.uploadImgTimeout = this.uploadImgTimeout;\r\n      // 视频上传超时时间\r\n      this.editor.config.uploadVideoTimeout = this.uploadVideoTimeout;\r\n      // 图片上传\r\n      if (this.uploadPic) {\r\n        if (this.base64) {\r\n          // 使用 base64 保存图片\r\n          this.editor.config.uploadImgShowBase64 = true;\r\n        } else {\r\n          // 配置上传图片服务器端地址\r\n          this.editor.config.uploadImgServer = uploadFile;\r\n          // xboot如要header中传入token鉴权\r\n          this.editor.config.uploadImgHeaders = {\r\n            accessToken: that.getStore(\"accessToken\"),\r\n          };\r\n          this.editor.config.uploadFileName = \"file\";\r\n          this.editor.config.uploadImgHooks = {\r\n            before: function (xhr, editor, files) {\r\n              // 图片上传之前触发\r\n            },\r\n            success: function (xhr, editor, result) {\r\n              // 图片上传并返回结果，图片插入成功之后触发\r\n            },\r\n            fail: function (xhr, editor, result) {\r\n              // 图片上传并返回结果，但图片插入错误时触发\r\n              that.$Message.error(\"上传图片失败\");\r\n            },\r\n            error: function (xhr, editor) {\r\n              // 图片上传出错时触发\r\n              that.$Message.error(\"上传图片出错\");\r\n            },\r\n            timeout: function (xhr, editor) {\r\n              // 图片上传超时时触发\r\n              that.$Message.error(\"上传图片超时\");\r\n            },\r\n            // 如果服务器端返回的不是 {errno:0, data: [...]} 这种格式，可使用该配置\r\n            customInsert: function (insertImg, result, editor) {\r\n              if (result.success == true) {\r\n                let url = result.result;\r\n                insertImg(url);\r\n                that.$Message.success(\"上传图片成功\");\r\n              } else {\r\n                that.$Message.error(result.message);\r\n              }\r\n            },\r\n          };\r\n        }\r\n      }\r\n      // 视频上传\r\n      if (this.uploadVideo) {\r\n        this.editor.config.uploadVideoServer = uploadFile;\r\n        this.editor.config.uploadVideoHeaders = {\r\n          accessToken: that.getStore(\"accessToken\"),\r\n        };\r\n        this.editor.config.uploadVideoName = \"file\";\r\n        this.editor.config.uploadVideoHooks = {\r\n          before: function (xhr, editor, files) {\r\n            // 视频上传之前触发\r\n          },\r\n          success: function (xhr, editor, result) {\r\n            // 视频上传并返回结果，图片插入成功之后触发\r\n          },\r\n          fail: function (xhr, editor, result) {\r\n            // 视频上传并返回结果，但图片插入错误时触发\r\n            that.$Message.error(\"上传视频失败\");\r\n          },\r\n          error: function (xhr, editor) {\r\n            // 图片上传出错时触发\r\n            that.$Message.error(\"上传视频出错\");\r\n          },\r\n          timeout: function (xhr, editor) {\r\n            // 图片上传超时时触发\r\n            that.$Message.error(\"上传视频超时\");\r\n          },\r\n          // 如果服务器端返回的不是 {errno:0, data: [...]} 这种格式，可使用该配置\r\n          customInsert: function (insertVideo, result, editor) {\r\n            if (result.success == true) {\r\n              let url = result.result;\r\n              insertVideo(url);\r\n              that.$Message.success(\"上传视频成功\");\r\n            } else {\r\n              that.$Message.error(result.message);\r\n            }\r\n          },\r\n        };\r\n      }\r\n      this.editor.config.customAlert = (info) => {\r\n        // info 是需要提示的内容\r\n        // this.$Message.info(info);\r\n      };\r\n      this.editor.create();\r\n      if (this.value) {\r\n        if (this.openXss) {\r\n          this.editor.txt.html(xss(this.value));\r\n        } else {\r\n          this.editor.txt.html(this.value);\r\n        }\r\n      }\r\n    },\r\n    selectImage(v) {\r\n      v.forEach((e) => {\r\n        this.editor.cmd.do(\r\n          \"insertHTML\",\r\n          `<img src=\"${e}\" contenteditable=\"false\" style=\"max-width: 100%;\"/>`\r\n        );\r\n      });\r\n    },\r\n    selectVideo(v) {\r\n      this.editor.cmd.do(\r\n        \"insertHTML\",\r\n        `<video src=\"${v}\"  controls=\"controls\" style=\"max-width:100%\"></video>`\r\n      );\r\n    },\r\n    handleFull() {\r\n      this.full = !this.full;\r\n      if (this.full) {\r\n        this.monacoHeight = this.fullHeight;\r\n      } else {\r\n        this.monacoHeight = 500;\r\n      }\r\n      setTimeout(() => {\r\n        this.$refs.monaco1.layout();\r\n      }, 10);\r\n    },\r\n    editHTML() {\r\n      this.dataEdit = this.data;\r\n      this.showHTMLModal = true;\r\n    },\r\n    editHTMLOk() {\r\n      this.editor.txt.html(this.dataEdit);\r\n      this.$emit(\"input\", this.dataEdit);\r\n      this.$emit(\"on-change\", this.dataEdit);\r\n      this.showHTMLModal = false;\r\n    },\r\n    clear() {\r\n      this.data = \"\";\r\n      this.editor.txt.html(this.data);\r\n      this.$emit(\"input\", this.data);\r\n      this.$emit(\"on-change\", this.data);\r\n      this.showClearModal = false;\r\n    },\r\n    setData(value) {\r\n      if (!this.editor) {\r\n        this.initEditor();\r\n      }\r\n      if (value != this.data) {\r\n        this.data = value;\r\n        this.editor.txt.html(this.data);\r\n        this.$emit(\"input\", this.data);\r\n        this.$emit(\"on-change\", this.data);\r\n      }\r\n    },\r\n  },\r\n  beforeDestroy() {\r\n    // 调用销毁 API 对当前编辑器实例进行销毁\r\n    if (this.editor != null) {\r\n      this.editor.destroy();\r\n    }\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.setData(val);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.initEditor();\r\n    this.fullHeight = Number(document.body.clientHeight - 144);\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.w-e-toolbar p,\r\n.w-e-text-container p,\r\n.w-e-menu-panel p {\r\n  font-size: 1em !important;\r\n}\r\n.wangeditor-model {\r\n  .ivu-modal-body {\r\n    padding: 0px;\r\n  }\r\n}\r\n</style>\r\n\r\n"]}]}