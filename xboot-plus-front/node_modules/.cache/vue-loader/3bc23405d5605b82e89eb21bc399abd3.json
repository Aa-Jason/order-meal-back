{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\my-components\\xboot\\monaco.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\my-components\\xboot\\monaco.vue","mtime":1651629755196},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgKiBhcyBtb25hY28gZnJvbSAibW9uYWNvLWVkaXRvciI7DQppbXBvcnQgRmlsZVNhdmVyIGZyb20gImZpbGUtc2F2ZXIiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAibW9uYWNvIiwNCiAgcHJvcHM6IHsNCiAgICBpZDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogIm1vbmFjbyIsDQogICAgfSwNCiAgICBoZWlnaHQ6IHsNCiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sDQogICAgICBkZWZhdWx0OiA1MDAsDQogICAgfSwNCiAgICB2YWx1ZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogIiIsDQogICAgfSwNCiAgICBsYW5ndWFnZTogU3RyaW5nLA0KICAgIGxpbmVOdW1iZXJzOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAib24iLA0KICAgIH0sDQogICAgcmVhZE9ubHk6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZSwNCiAgICB9LA0KICAgIGN1cnNvclN0eWxlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAibGluZSIsDQogICAgfSwNCiAgICBmb250U2l6ZTogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMTQsDQogICAgfSwNCiAgICBjb250ZXh0bWVudTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUsDQogICAgfSwNCiAgICBkZWZhdWx0VGhlbWU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICJ2cyIsDQogICAgfSwNCiAgICBhdXRvRm9ybWF0OiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgfSwNCiAgICBzaG93SGVhZGVyOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZSwNCiAgICB9LA0KICAgIHRpdGxlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgfSwNCiAgICBzaG93VGl0bGU6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlLA0KICAgIH0sDQogICAgc2hvd1VuZG86IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlLA0KICAgIH0sDQogICAgc2hvd1JlZG86IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlLA0KICAgIH0sDQogICAgc2hvd0NvcHk6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlLA0KICAgIH0sDQogICAgc2hvd0Rvd25sb2FkOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZSwNCiAgICB9LA0KICAgIGRvd25sb2FkU3VmZml4OiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAiLnR4dCIsDQogICAgfSwNCiAgICBzaG93Rm9ybWF0OiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZSwNCiAgICB9LA0KICAgIHNob3dTZWFyY2g6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlLA0KICAgIH0sDQogICAgc2hvd0Z1bGxzY3JlZW46IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlLA0KICAgIH0sDQogICAgc2hvd1RoZW1lOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZSwNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkYXRhOiB0aGlzLnZhbHVlLA0KICAgICAgbW9uYWNvRWRpdG9yOiBudWxsLA0KICAgICAgdGhlbWVEYXJrOiB0aGlzLmRlZmF1bHRUaGVtZSA9PSAidnMtZGFyayIgPyB0cnVlIDogZmFsc2UsDQogICAgICB0aGVtZTogdGhpcy5kZWZhdWx0VGhlbWUsDQogICAgICByZWFsSGVpZ2h0OiB0aGlzLmhlaWdodCArICJweCIsDQogICAgICBvcGVuRnVsbDogZmFsc2UsDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGluaXQoKSB7DQogICAgICB0aGlzLm1vbmFjb0VkaXRvciA9IG1vbmFjby5lZGl0b3IuY3JlYXRlKA0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLA0KICAgICAgICAgIGxhbmd1YWdlOiB0aGlzLmxhbmd1YWdlLA0KICAgICAgICAgIHRoZW1lOiB0aGlzLnRoZW1lLCAvLyDkuLvpopgndnMnIChkZWZhdWx0KSwgJ3ZzLWRhcmsnLCAnaGMtYmxhY2snDQogICAgICAgICAgbGluZU51bWJlcnM6IHRoaXMubGluZU51bWJlcnMsIC8vIOaYvuekuuihjOWPtw0KICAgICAgICAgIHJlYWRPbmx5OiB0aGlzLnJlYWRPbmx5LCAvLyDmmK/lkKblj6ror7sNCiAgICAgICAgICBjdXJzb3JTdHlsZTogdGhpcy5jdXJzb3JTdHlsZSwgLy8g5YWJ5qCHDQogICAgICAgICAgZm9udFNpemU6IHRoaXMuZm9udFNpemUsIC8vIOWtl+S9k+Wkp+Wwjw0KICAgICAgICAgIGNvbnRleHRtZW51OiB0aGlzLmNvbnRleHRtZW51LCAvLyDlj7PplK7oj5zljZUNCiAgICAgICAgICBmb3JtYXRPblBhc3RlOiB0cnVlLA0KICAgICAgICAgIGZvcm1hdE9uVHlwZTogdHJ1ZSwNCiAgICAgICAgfQ0KICAgICAgKTsNCiAgICAgIC8vIOagvOW8j+WMluS7o+eggQ0KICAgICAgaWYgKHRoaXMuYXV0b0Zvcm1hdCkgew0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICBpZiAoIXRoaXMubW9uYWNvRWRpdG9yKSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMubW9uYWNvRWRpdG9yLmdldEFjdGlvbihbImVkaXRvci5hY3Rpb24uZm9ybWF0RG9jdW1lbnQiXSkuX3J1bigpOw0KICAgICAgICB9LCAyMDApOw0KICAgICAgfQ0KICAgICAgLy8g55uR5ZCs5LqL5Lu2DQogICAgICB0aGlzLm1vbmFjb0VkaXRvci5vbkRpZENoYW5nZU1vZGVsQ29udGVudCgoZSkgPT4gew0KICAgICAgICBsZXQgdiA9IHRoaXMubW9uYWNvRWRpdG9yLmdldFZhbHVlKCk7DQogICAgICAgIHRoaXMuZGF0YSA9IHY7DQogICAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgdGhpcy5kYXRhKTsNCiAgICAgICAgdGhpcy4kZW1pdCgib24tY2hhbmdlIiwgdGhpcy5kYXRhKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgY2hhbmdlVGhlbWUoKSB7DQogICAgICB0aGlzLnRoZW1lRGFyayA9ICF0aGlzLnRoZW1lRGFyazsNCiAgICAgIGxldCB0aGVtZSA9ICJ2cyI7DQogICAgICBpZiAodGhpcy50aGVtZURhcmspIHsNCiAgICAgICAgdGhlbWUgPSAidnMtZGFyayI7DQogICAgICB9DQogICAgICB0aGlzLm1vbmFjb0VkaXRvci51cGRhdGVPcHRpb25zKHsNCiAgICAgICAgdGhlbWU6IHRoZW1lLA0KICAgICAgfSk7DQogICAgfSwNCiAgICBzZXREYXRhKHZhbHVlKSB7DQogICAgICBpZiAoIXRoaXMubW9uYWNvRWRpdG9yKSB7DQogICAgICAgIHRoaXMuaW5pdCgpOw0KICAgICAgfQ0KICAgICAgaWYgKHZhbHVlICE9IHRoaXMuZGF0YSkgew0KICAgICAgICB0aGlzLmRhdGEgPSB2YWx1ZTsNCiAgICAgICAgdGhpcy5tb25hY29FZGl0b3Iuc2V0VmFsdWUodGhpcy5kYXRhKTsNCiAgICAgICAgLy8g5qC85byP5YyW5Luj56CBDQogICAgICAgIGlmICh0aGlzLmF1dG9Gb3JtYXQpIHsNCiAgICAgICAgICB0aGlzLm1vbmFjb0VkaXRvci5nZXRBY3Rpb24oWyJlZGl0b3IuYWN0aW9uLmZvcm1hdERvY3VtZW50Il0pLl9ydW4oKTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHRoaXMuZGF0YSk7DQogICAgICAgIHRoaXMuJGVtaXQoIm9uLWNoYW5nZSIsIHRoaXMuZGF0YSk7DQogICAgICB9DQogICAgfSwNCiAgICBsYXlvdXQoKSB7DQogICAgICB0aGlzLnJlYWxIZWlnaHQgPSB0aGlzLmhlaWdodCArICJweCI7DQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgdGhpcy5tb25hY29FZGl0b3IubGF5b3V0KCk7DQogICAgICB9LCAxMCk7DQogICAgfSwNCiAgICB1bmRvKCkgew0KICAgICAgdGhpcy5tb25hY29FZGl0b3IuZ2V0TW9kZWwoKT8udW5kbygpOw0KICAgIH0sDQogICAgcmVkbygpIHsNCiAgICAgIHRoaXMubW9uYWNvRWRpdG9yLmdldE1vZGVsKCk/LnJlZG8oKTsNCiAgICB9LA0KICAgIGNvcHkoKSB7DQogICAgICB0aGlzLiRjb3B5VGV4dCh0aGlzLmRhdGEpLnRoZW4oKGUpID0+IHsNCiAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLlpI3liLbmiJDlip8iKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgZG93bmxvYWQoKSB7DQogICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFt0aGlzLmRhdGFdLCB7DQogICAgICAgIHR5cGU6ICJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgiLA0KICAgICAgfSk7DQogICAgICBsZXQgdGl0bGUgPSB0aGlzLnRpdGxlOw0KICAgICAgaWYgKCF0aXRsZSkgew0KICAgICAgICB0aXRsZSA9ICLmlofku7YiOw0KICAgICAgfQ0KICAgICAgdGl0bGUgKz0gdGhpcy5kb3dubG9hZFN1ZmZpeDsNCiAgICAgIEZpbGVTYXZlci5zYXZlQXMoYmxvYiwgdGl0bGUpOw0KICAgIH0sDQogICAgZm9ybWF0KCkgew0KICAgICAgdGhpcy5tb25hY29FZGl0b3IuZ2V0QWN0aW9uKFsiZWRpdG9yLmFjdGlvbi5mb3JtYXREb2N1bWVudCJdKS5fcnVuKCk7DQogICAgfSwNCiAgICBmaW5kKCkgew0KICAgICAgdGhpcy5tb25hY29FZGl0b3IuZ2V0QWN0aW9uKFsiYWN0aW9ucy5maW5kIl0pLl9ydW4oKTsNCiAgICB9LA0KICAgIGZ1bGxzY3JlZW4oKSB7DQogICAgICBsZXQgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RoaXMuaWR9LW1vbmFjby1lZGl0b3ItY29udGVudGApOw0KICAgICAgdGhpcy5vcGVuRnVsbCA9ICF0aGlzLm9wZW5GdWxsOw0KICAgICAgaWYgKHRoaXMub3BlbkZ1bGwpIHsNCiAgICAgICAgdGhpcy5yZWFsSGVpZ2h0ID0gIjEwMCUiOw0KICAgICAgICBtYWluLmNsYXNzTGlzdC5hZGQoImVkaXRvci1mdWxsc2NyZWVuIik7DQogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgIHRoaXMubW9uYWNvRWRpdG9yLmxheW91dCgpOw0KICAgICAgICB9LCAxMCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnJlYWxIZWlnaHQgPSB0aGlzLmhlaWdodCArICJweCI7DQogICAgICAgIG1haW4uY2xhc3NMaXN0LnJlbW92ZSgiZWRpdG9yLWZ1bGxzY3JlZW4iKTsNCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgdGhpcy5tb25hY29FZGl0b3IubGF5b3V0KCk7DQogICAgICAgIH0sIDEwKTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBiZWZvcmVEZXN0cm95KCkgew0KICAgIC8vIOiwg+eUqOmUgOavgSBBUEkg5a+55b2T5YmN57yW6L6R5Zmo5a6e5L6L6L+b6KGM6ZSA5q+BDQogICAgaWYgKHRoaXMubW9uYWNvRWRpdG9yICE9IG51bGwpIHsNCiAgICAgIHRoaXMubW9uYWNvRWRpdG9yLmRpc3Bvc2UoKTsNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgdmFsdWUodmFsKSB7DQogICAgICB0aGlzLnNldERhdGEodmFsKTsNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgIHRoaXMuaW5pdCgpOw0KICAgIH0pOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["monaco.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"monaco.vue","sourceRoot":"src/views/my-components/xboot","sourcesContent":["<template>\r\n  <div :id=\"`${id}-monaco-editor-content`\" style=\"position: relative\">\r\n    <div :class=\"{ 'header-dark': themeDark, 'monaco-header': true }\" v-if=\"showHeader\">\r\n      <div :class=\"{ 'title-dark': themeDark, title: true }\">\r\n        {{ showTitle ? title : \"\" }}\r\n      </div>\r\n      <div class=\"icons\">\r\n        <div\r\n          :class=\"{ 'btn-dark': themeDark, btn: true }\"\r\n          @click=\"undo\"\r\n          v-if=\"showUndo\"\r\n        >\r\n          <Icon type=\"ios-undo\" class=\"icon\"></Icon>\r\n          撤销\r\n        </div>\r\n        <div\r\n          :class=\"{ 'btn-dark': themeDark, btn: true }\"\r\n          @click=\"redo\"\r\n          v-if=\"showRedo\"\r\n        >\r\n          <Icon type=\"ios-redo\" class=\"icon l\"></Icon>\r\n          恢复\r\n        </div>\r\n        <div\r\n          :class=\"{ 'btn-dark': themeDark, btn: true }\"\r\n          @click=\"copy\"\r\n          v-if=\"showCopy\"\r\n        >\r\n          <Icon type=\"md-copy\" class=\"icon l\"></Icon>\r\n          复制\r\n        </div>\r\n        <div\r\n          :class=\"{ 'btn-dark': themeDark, btn: true }\"\r\n          @click=\"download\"\r\n          v-if=\"showDownload\"\r\n        >\r\n          <Icon type=\"md-download\" class=\"icon l\"></Icon>\r\n          下载\r\n        </div>\r\n        <div\r\n          :class=\"{ 'btn-dark': themeDark, btn: true }\"\r\n          @click=\"format\"\r\n          v-if=\"showFormat\"\r\n        >\r\n          <Icon type=\"md-color-palette\" class=\"icon l\"></Icon>\r\n          美化排版\r\n        </div>\r\n        <div\r\n          :class=\"{ 'btn-dark': themeDark, btn: true }\"\r\n          @click=\"find\"\r\n          v-if=\"showSearch\"\r\n        >\r\n          <Icon type=\"ios-search\" class=\"icon l\"></Icon>\r\n          搜索\r\n        </div>\r\n        <div\r\n          :class=\"{ 'btn-dark': themeDark, 'btn l': true }\"\r\n          @click=\"fullscreen\"\r\n          v-if=\"showFullscreen\"\r\n        >\r\n          <Icon\r\n            :type=\"openFull ? 'md-contract' : 'md-expand'\"\r\n            class=\"icon\"\r\n          ></Icon>\r\n          {{ openFull ? \"退出全屏\" : \"全屏\" }}\r\n        </div>\r\n        <div\r\n          :class=\"{ 'btn-dark': themeDark, 'btn l': true }\"\r\n          @click=\"changeTheme\"\r\n          v-if=\"showTheme\"\r\n        >\r\n          <Icon :type=\"themeDark ? 'md-sunny' : 'md-moon'\" class=\"icon\"></Icon>\r\n          {{ themeDark ? \"明亮主题\" : \"暗黑主题\" }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div :id=\"id\" :style=\"{ overflow: 'hidden', height: realHeight }\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\n// import * as monaco from \"monaco-editor\";\r\nimport FileSaver from \"file-saver\";\r\nexport default {\r\n  name: \"monaco\",\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      default: \"monaco\",\r\n    },\r\n    height: {\r\n      type: [Number, String],\r\n      default: 500,\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    language: String,\r\n    lineNumbers: {\r\n      type: String,\r\n      default: \"on\",\r\n    },\r\n    readOnly: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    cursorStyle: {\r\n      type: String,\r\n      default: \"line\",\r\n    },\r\n    fontSize: {\r\n      type: Number,\r\n      default: 14,\r\n    },\r\n    contextmenu: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    defaultTheme: {\r\n      type: String,\r\n      default: \"vs\",\r\n    },\r\n    autoFormat: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    showHeader: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    title: {\r\n      type: String,\r\n    },\r\n    showTitle: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    showUndo: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    showRedo: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    showCopy: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    showDownload: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    downloadSuffix: {\r\n      type: String,\r\n      default: \".txt\",\r\n    },\r\n    showFormat: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    showSearch: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    showFullscreen: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    showTheme: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      data: this.value,\r\n      monacoEditor: null,\r\n      themeDark: this.defaultTheme == \"vs-dark\" ? true : false,\r\n      theme: this.defaultTheme,\r\n      realHeight: this.height + \"px\",\r\n      openFull: false,\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.monacoEditor = monaco.editor.create(\r\n        document.getElementById(this.id),\r\n        {\r\n          value: this.value,\r\n          language: this.language,\r\n          theme: this.theme, // 主题'vs' (default), 'vs-dark', 'hc-black'\r\n          lineNumbers: this.lineNumbers, // 显示行号\r\n          readOnly: this.readOnly, // 是否只读\r\n          cursorStyle: this.cursorStyle, // 光标\r\n          fontSize: this.fontSize, // 字体大小\r\n          contextmenu: this.contextmenu, // 右键菜单\r\n          formatOnPaste: true,\r\n          formatOnType: true,\r\n        }\r\n      );\r\n      // 格式化代码\r\n      if (this.autoFormat) {\r\n        setTimeout(() => {\r\n          if (!this.monacoEditor) {\r\n            return;\r\n          }\r\n          this.monacoEditor.getAction([\"editor.action.formatDocument\"])._run();\r\n        }, 200);\r\n      }\r\n      // 监听事件\r\n      this.monacoEditor.onDidChangeModelContent((e) => {\r\n        let v = this.monacoEditor.getValue();\r\n        this.data = v;\r\n        this.$emit(\"input\", this.data);\r\n        this.$emit(\"on-change\", this.data);\r\n      });\r\n    },\r\n    changeTheme() {\r\n      this.themeDark = !this.themeDark;\r\n      let theme = \"vs\";\r\n      if (this.themeDark) {\r\n        theme = \"vs-dark\";\r\n      }\r\n      this.monacoEditor.updateOptions({\r\n        theme: theme,\r\n      });\r\n    },\r\n    setData(value) {\r\n      if (!this.monacoEditor) {\r\n        this.init();\r\n      }\r\n      if (value != this.data) {\r\n        this.data = value;\r\n        this.monacoEditor.setValue(this.data);\r\n        // 格式化代码\r\n        if (this.autoFormat) {\r\n          this.monacoEditor.getAction([\"editor.action.formatDocument\"])._run();\r\n        }\r\n        this.$emit(\"input\", this.data);\r\n        this.$emit(\"on-change\", this.data);\r\n      }\r\n    },\r\n    layout() {\r\n      this.realHeight = this.height + \"px\";\r\n      setTimeout(() => {\r\n        this.monacoEditor.layout();\r\n      }, 10);\r\n    },\r\n    undo() {\r\n      this.monacoEditor.getModel()?.undo();\r\n    },\r\n    redo() {\r\n      this.monacoEditor.getModel()?.redo();\r\n    },\r\n    copy() {\r\n      this.$copyText(this.data).then((e) => {\r\n        this.$Message.success(\"复制成功\");\r\n      });\r\n    },\r\n    download() {\r\n      var blob = new Blob([this.data], {\r\n        type: \"text/plain;charset=utf-8\",\r\n      });\r\n      let title = this.title;\r\n      if (!title) {\r\n        title = \"文件\";\r\n      }\r\n      title += this.downloadSuffix;\r\n      FileSaver.saveAs(blob, title);\r\n    },\r\n    format() {\r\n      this.monacoEditor.getAction([\"editor.action.formatDocument\"])._run();\r\n    },\r\n    find() {\r\n      this.monacoEditor.getAction([\"actions.find\"])._run();\r\n    },\r\n    fullscreen() {\r\n      let main = document.getElementById(`${this.id}-monaco-editor-content`);\r\n      this.openFull = !this.openFull;\r\n      if (this.openFull) {\r\n        this.realHeight = \"100%\";\r\n        main.classList.add(\"editor-fullscreen\");\r\n        setTimeout(() => {\r\n          this.monacoEditor.layout();\r\n        }, 10);\r\n      } else {\r\n        this.realHeight = this.height + \"px\";\r\n        main.classList.remove(\"editor-fullscreen\");\r\n        setTimeout(() => {\r\n          this.monacoEditor.layout();\r\n        }, 10);\r\n      }\r\n    },\r\n  },\r\n  beforeDestroy() {\r\n    // 调用销毁 API 对当前编辑器实例进行销毁\r\n    if (this.monacoEditor != null) {\r\n      this.monacoEditor.dispose();\r\n    }\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.setData(val);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.init();\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.monaco-header {\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  background: #f7f8fa;\r\n  padding: 0 16px;\r\n  .title {\r\n    color: #848b96;\r\n    font-weight: 500;\r\n  }\r\n  .icons {\r\n    display: flex;\r\n    align-items: center;\r\n    .btn {\r\n      cursor: pointer;\r\n      height: 100%;\r\n      color: #848b96;\r\n      transition: all 0.2s ease;\r\n      .icon {\r\n        margin-right: 3px;\r\n      }\r\n      &:hover {\r\n        color: #afb4bd;\r\n      }\r\n    }\r\n    .l {\r\n      margin-left: 14px;\r\n    }\r\n  }\r\n}\r\n.header-dark {\r\n  background: #282a2e;\r\n  .title-dark {\r\n    color: #84888e;\r\n  }\r\n  .btn-dark {\r\n    color: #84888e !important;\r\n    &:hover {\r\n      color: #afb4bd !important;\r\n    }\r\n  }\r\n}\r\n.editor-fullscreen {\r\n  position: fixed !important;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  z-index: 1000;\r\n}\r\n</style>"]}]}