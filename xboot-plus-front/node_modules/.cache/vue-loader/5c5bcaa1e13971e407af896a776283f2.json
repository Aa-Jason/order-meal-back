{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\activiti\\apply-manage\\applyManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\activiti\\apply-manage\\applyManage.vue","mtime":1651629755125},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBnZXRQcm9jZXNzRGF0YUxpc3QsDQogIGdldEZpcnN0Tm9kZSwNCiAgZ2V0QnVzaW5lc3NEYXRhTGlzdCwNCiAgYXBwbHlCdXNpbmVzcywNCiAgZGVsZXRlQnVzaW5lc3MsDQogIGNhbmNlbEFwcGx5LA0KICBpbml0QWN0Q2F0ZWdvcnksDQogIGxvYWRBY3RDYXRlZ29yeSwNCn0gZnJvbSAiQC9hcGkvYWN0aXZpdGkiOw0KaW1wb3J0IHsgc2VhcmNoVXNlckJ5TmFtZSB9IGZyb20gIkAvYXBpL2luZGV4IjsNCmltcG9ydCBoaXN0b3JpY0RldGFpbCBmcm9tICIuLi9oaXN0b3JpYy1kZXRhaWwvaGlzdG9yaWNEZXRhaWwudnVlIjsNCmltcG9ydCB7IHNob3J0Y3V0cyB9IGZyb20gIkAvbGlicy9zaG9ydGN1dHMiOw0KaW1wb3J0IGRpY3QgZnJvbSAiQC92aWV3cy9teS1jb21wb25lbnRzL3hib290L2RpY3QiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiYXBwbHktbWFuYWdlIiwNCiAgY29tcG9uZW50czogew0KICAgIGhpc3RvcmljRGV0YWlsLA0KICAgIGRpY3QsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRhYmxlU2l6ZTogImRlZmF1bHQiLA0KICAgICAgc2hvd0hpc3Rvcnk6IGZhbHNlLA0KICAgICAgcHJvY0luc3RJZDogIiIsDQogICAgICBtYXhIZWlnaHQ6IDUxMCwNCiAgICAgIG9wZW5TZWFyY2g6IHRydWUsDQogICAgICBvcGVuVGlwOiB0cnVlLA0KICAgICAgbG9hZGluZzogdHJ1ZSwgLy8g6KGo5Y2V5Yqg6L2954q25oCBDQogICAgICBwcm9jZXNzTW9kYWxWaXNpYmxlOiBmYWxzZSwNCiAgICAgIHNlbGVjdENhdDogW10sDQogICAgICBjYXRlZ29yeTogW10sDQogICAgICBlcnJvcjogIiIsDQogICAgICBzaG93QXNzaWduOiBmYWxzZSwNCiAgICAgIGlzR2F0ZXdheTogZmFsc2UsDQogICAgICBpc0N1c3RvbTogZmFsc2UsDQogICAgICBzZWFyY2hQcm9jZXNzRm9ybTogew0KICAgICAgICBzaG93TGF0ZXN0OiB0cnVlLA0KICAgICAgICBmaWx0ZXI6IHRydWUsDQogICAgICAgIG5hbWU6ICIiLA0KICAgICAgICBzdGF0dXM6ICIxIiwgLy8g5r+A5rS754q25oCBDQogICAgICAgIHBhZ2VOdW1iZXI6IDEsIC8vIOW9k+WJjemhteaVsA0KICAgICAgICBwYWdlU2l6ZTogMTAsIC8vIOmhtemdouWkp+Wwjw0KICAgICAgICBzb3J0OiAiY3JlYXRlVGltZSIsIC8vIOm7mOiupOaOkuW6j+Wtl+autQ0KICAgICAgICBvcmRlcjogImRlc2MiLCAvLyDpu5jorqTmjpLluo/mlrnlvI8NCiAgICAgIH0sDQogICAgICBvcHRpb25zOiB7DQogICAgICAgIHNob3J0Y3V0czogc2hvcnRjdXRzLA0KICAgICAgfSwNCiAgICAgIGNhbmNlbEZvcm06IHsNCiAgICAgICAgcmVhc29uOiAiIiwNCiAgICAgIH0sDQogICAgICBtb2RhbENhbmNlbFZpc2libGU6IGZhbHNlLA0KICAgICAgcHJvY2Vzc0xvYWRpbmc6IGZhbHNlLA0KICAgICAgcHJvY2Vzc0NvbHVtbnM6IFsNCiAgICAgICAgew0KICAgICAgICAgIHR5cGU6ICJpbmRleCIsDQogICAgICAgICAgd2lkdGg6IDYwLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5ZCN56ewIiwNCiAgICAgICAgICBrZXk6ICJuYW1lIiwNCiAgICAgICAgICB3aWR0aDogMTUwLA0KICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLlpIfms6jmj4/ov7AiLA0KICAgICAgICAgIGtleTogImRlc2NyaXB0aW9uIiwNCiAgICAgICAgICB3aWR0aDogMTUwLA0KICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLmiYDlsZ7liIbnsbsiLA0KICAgICAgICAgIGtleTogImNhdGVnb3J5VGl0bGUiLA0KICAgICAgICAgIHdpZHRoOiAxNTAsDQogICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIueJiOacrCIsDQogICAgICAgICAga2V5OiAidmVyc2lvbiIsDQogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICAgIHJlbmRlcjogKGgsIHBhcmFtcykgPT4gew0KICAgICAgICAgICAgbGV0IHJlID0gIiI7DQogICAgICAgICAgICBpZiAocGFyYW1zLnJvdy52ZXJzaW9uKSB7DQogICAgICAgICAgICAgIHJlID0gInYuIiArIHBhcmFtcy5yb3cudmVyc2lvbjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBoKCJkaXYiLCByZSk7DQogICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5pON5L2cIiwNCiAgICAgICAgICBrZXk6ICJhY3Rpb24iLA0KICAgICAgICAgIHdpZHRoOiAxMzAsDQogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgIGZpeGVkOiAicmlnaHQiLA0KICAgICAgICAgIHJlbmRlcjogKGgsIHBhcmFtcykgPT4gew0KICAgICAgICAgICAgcmV0dXJuIGgoImRpdiIsIFsNCiAgICAgICAgICAgICAgaCgNCiAgICAgICAgICAgICAgICAiQnV0dG9uIiwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZGVmYXVsdCIsDQogICAgICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIsDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgb246IHsNCiAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNob29zZVByb2Nlc3MocGFyYW1zLnJvdyk7DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIumAieaLqea1geeoiyINCiAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgcHJvY2Vzc0RhdGE6IFtdLA0KICAgICAgc2hvd1R5cGU6ICJ0aHVtYiIsDQogICAgICBzZWxlY3RMaXN0OiBbXSwgLy8g5aSa6YCJ5pWw5o2uDQogICAgICBkcm9wOiBmYWxzZSwgLy8g5pCc57Si5bGV5byA5qCH6K+GDQogICAgICBkcm9wRG93bkNvbnRlbnQ6ICLlsZXlvIAiLCAvLyDmkJzntKLlsZXlvIDmoIfor4bmloflrZcNCiAgICAgIGRyb3BEb3duSWNvbjogImlvcy1hcnJvdy1kb3duIiwgLy/mkJzntKLlsZXlvIDlm77moIcNCiAgICAgIHNlYXJjaEZvcm06IHsNCiAgICAgICAgLy8g5pCc57Si5qGG5a+55bqUZGF0YeWvueixoQ0KICAgICAgICB0aXRsZTogIiIsDQogICAgICAgIHN0YXR1czogIiIsDQogICAgICAgIHJlc3VsdDogIiIsDQogICAgICAgIHBhZ2VOdW1iZXI6IDEsIC8vIOW9k+WJjemhteaVsA0KICAgICAgICBwYWdlU2l6ZTogMTAsIC8vIOmhtemdouWkp+Wwjw0KICAgICAgICBzdGFydERhdGU6ICIiLA0KICAgICAgICBlbmREYXRlOiAiIiwNCiAgICAgICAgc29ydDogImNyZWF0ZVRpbWUiLCAvLyDpu5jorqTmjpLluo/lrZfmrrUNCiAgICAgICAgb3JkZXI6ICJkZXNjIiwgLy8g6buY6K6k5o6S5bqP5pa55byPDQogICAgICB9LA0KICAgICAgdXNlckxvYWRpbmc6IGZhbHNlLA0KICAgICAgbW9kYWxWaXNpYmxlOiBmYWxzZSwgLy8g5re75Yqg5oiW57yW6L6R5pi+56S6DQogICAgICBzZWxlY3REYXRlOiBudWxsLA0KICAgICAgZm9ybTogew0KICAgICAgICBzZW5kTWVzc2FnZTogdHJ1ZSwNCiAgICAgICAgc2VuZFNtczogdHJ1ZSwNCiAgICAgICAgc2VuZEVtYWlsOiB0cnVlLA0KICAgICAgICBwcm9jRGVmSWQ6ICIiLA0KICAgICAgICBhc3NpZ25lZXM6IFtdLA0KICAgICAgICBwcmlvcml0eTogIjAiLA0KICAgICAgfSwNCiAgICAgIGZvcm1WYWxpZGF0ZTogew0KICAgICAgICAvLyDooajljZXpqozor4Hop4TliJkNCiAgICAgICAgcHJvY0RlZklkOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJjaGFuZ2UiIH1dLA0KICAgICAgICBwcmlvcml0eTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiY2hhbmdlIiB9XSwNCiAgICAgIH0sDQogICAgICBzdWJtaXRMb2FkaW5nOiBmYWxzZSwgLy8g5re75Yqg5oiW57yW6L6R5o+Q5Lqk54q25oCBDQogICAgICBjb2x1bW5zOiBbDQogICAgICAgIC8vIOihqOWktA0KICAgICAgICB7DQogICAgICAgICAgdHlwZTogInNlbGVjdGlvbiIsDQogICAgICAgICAgd2lkdGg6IDYwLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHR5cGU6ICJpbmRleCIsDQogICAgICAgICAgd2lkdGg6IDYwLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5qCH6aKYIiwNCiAgICAgICAgICBrZXk6ICJ0aXRsZSIsDQogICAgICAgICAgbWluV2lkdGg6IDE1MCwNCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5omA5bGe5rWB56iLIiwNCiAgICAgICAgICBrZXk6ICJwcm9jZXNzTmFtZSIsDQogICAgICAgICAgbWluV2lkdGg6IDE1MCwNCiAgICAgICAgICB0b29sdGlwOiB0cnVlLA0KICAgICAgICAgIHJlbmRlcjogKGgsIHBhcmFtcykgPT4gew0KICAgICAgICAgICAgbGV0IHRleHQgPSAiIjsNCiAgICAgICAgICAgIGlmIChwYXJhbXMucm93LnZlcnNpb24pIHsNCiAgICAgICAgICAgICAgdGV4dCA9IHBhcmFtcy5yb3cucHJvY2Vzc05hbWUgKyAiIC0gdi4iICsgcGFyYW1zLnJvdy52ZXJzaW9uOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGgoImRpdiIsIFtoKCJzcGFuIiwgdGV4dCldKTsNCiAgICAgICAgICB9LA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLlvZPliY3lrqHmibnnjq/oioIiLA0KICAgICAgICAgIGtleTogImN1cnJUYXNrTmFtZSIsDQogICAgICAgICAgbWluV2lkdGg6IDE1MCwNCiAgICAgICAgICB0b29sdGlwOiB0cnVlLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLnirbmgIEiLA0KICAgICAgICAgIGtleTogInN0YXR1cyIsDQogICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgIHdpZHRoOiAxMjAsDQogICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgICAgcmVuZGVyOiAoaCwgcGFyYW1zKSA9PiB7DQogICAgICAgICAgICBsZXQgdGV4dCA9ICLmnKrnn6UiLA0KICAgICAgICAgICAgICBjb2xvciA9ICIiOw0KICAgICAgICAgICAgaWYgKHBhcmFtcy5yb3cuc3RhdHVzID09IDApIHsNCiAgICAgICAgICAgICAgdGV4dCA9ICLojYnnqL8iOw0KICAgICAgICAgICAgICBjb2xvciA9ICJkZWZhdWx0IjsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLnJvdy5zdGF0dXMgPT0gMSkgew0KICAgICAgICAgICAgICB0ZXh0ID0gIuWkhOeQhuS4rSI7DQogICAgICAgICAgICAgIGNvbG9yID0gIm9yYW5nZSI7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmFtcy5yb3cuc3RhdHVzID09IDIpIHsNCiAgICAgICAgICAgICAgdGV4dCA9ICLlt7Lnu5PmnZ8iOw0KICAgICAgICAgICAgICBjb2xvciA9ICJibHVlIjsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLnJvdy5zdGF0dXMgPT0gMykgew0KICAgICAgICAgICAgICB0ZXh0ID0gIuW3suaSpOWbniI7DQogICAgICAgICAgICAgIGNvbG9yID0gIm1hZ2VudGEiOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGgoImRpdiIsIFsNCiAgICAgICAgICAgICAgaCgNCiAgICAgICAgICAgICAgICAiVGFnIiwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgdGV4dA0KICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgXSk7DQogICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi57uT5p6cIiwNCiAgICAgICAgICBrZXk6ICJyZXN1bHQiLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgICB3aWR0aDogMTIwLA0KICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICAgIHJlbmRlcjogKGgsIHBhcmFtcykgPT4gew0KICAgICAgICAgICAgbGV0IHRleHQgPSAi5pyq55+lIiwNCiAgICAgICAgICAgICAgY29sb3IgPSAiIjsNCiAgICAgICAgICAgIGlmIChwYXJhbXMucm93LnJlc3VsdCA9PSAwKSB7DQogICAgICAgICAgICAgIHRleHQgPSAi5pyq5o+Q5LqkIjsNCiAgICAgICAgICAgICAgY29sb3IgPSAiZGVmYXVsdCI7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmFtcy5yb3cucmVzdWx0ID09IDEpIHsNCiAgICAgICAgICAgICAgdGV4dCA9ICLlpITnkIbkuK0iOw0KICAgICAgICAgICAgICBjb2xvciA9ICJvcmFuZ2UiOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMucm93LnJlc3VsdCA9PSAyKSB7DQogICAgICAgICAgICAgIHRleHQgPSAi5bey6YCa6L+HIjsNCiAgICAgICAgICAgICAgY29sb3IgPSAiZ3JlZW4iOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMucm93LnJlc3VsdCA9PSAzKSB7DQogICAgICAgICAgICAgIHRleHQgPSAi5bey6amz5ZueIjsNCiAgICAgICAgICAgICAgY29sb3IgPSAicmVkIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBoKCJkaXYiLCBbDQogICAgICAgICAgICAgIGgoDQogICAgICAgICAgICAgICAgIlRhZyIsDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yLA0KICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHRleHQNCiAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuWIm+W7uuaXtumXtCIsDQogICAgICAgICAga2V5OiAiY3JlYXRlVGltZSIsDQogICAgICAgICAgd2lkdGg6IDE4MCwNCiAgICAgICAgICBzb3J0VHlwZTogImRlc2MiLA0KICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLmj5DkuqTnlLPor7fml7bpl7QiLA0KICAgICAgICAgIGtleTogImFwcGx5VGltZSIsDQogICAgICAgICAgd2lkdGg6IDE4MCwNCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi5pON5L2cIiwNCiAgICAgICAgICBrZXk6ICJhY3Rpb24iLA0KICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgICB3aWR0aDogMjUwLA0KICAgICAgICAgIGZpeGVkOiAicmlnaHQiLA0KICAgICAgICAgIHJlbmRlcjogKGgsIHBhcmFtcykgPT4gew0KICAgICAgICAgICAgbGV0IHJlID0gIiI7DQogICAgICAgICAgICBpZiAocGFyYW1zLnJvdy5zdGF0dXMgPT0gMCkgew0KICAgICAgICAgICAgICByZSA9IFsNCiAgICAgICAgICAgICAgICBoKA0KICAgICAgICAgICAgICAgICAgImEiLA0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5KHBhcmFtcy5yb3cpOw0KICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgIuaPkOS6pOeUs+ivtyINCiAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgIGgoIkRpdmlkZXIiLCB7DQogICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAidmVydGljYWwiLA0KICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBoKA0KICAgICAgICAgICAgICAgICAgImEiLA0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXQocGFyYW1zLnJvdyk7DQogICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAi57yW6L6RIg0KICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgaCgiRGl2aWRlciIsIHsNCiAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJ2ZXJ0aWNhbCIsDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgIGgoDQogICAgICAgICAgICAgICAgICAiYSIsDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKHBhcmFtcy5yb3cpOw0KICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgIuWIoOmZpCINCiAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICBdOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMucm93LnN0YXR1cyA9PSAxKSB7DQogICAgICAgICAgICAgIHJlID0gWw0KICAgICAgICAgICAgICAgIGgoDQogICAgICAgICAgICAgICAgICAiYSIsDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsKHBhcmFtcy5yb3cpOw0KICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgIuaSpOWbniINCiAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgIGgoIkRpdmlkZXIiLCB7DQogICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAidmVydGljYWwiLA0KICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBoKA0KICAgICAgICAgICAgICAgICAgImEiLA0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpc3RvcnkocGFyYW1zLnJvdyk7DQogICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAi5p+l55yL6L+b5bqmIg0KICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgaCgiRGl2aWRlciIsIHsNCiAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJ2ZXJ0aWNhbCIsDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgIGgoDQogICAgICAgICAgICAgICAgICAiYSIsDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGV0YWlsKHBhcmFtcy5yb3cpOw0KICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgIuihqOWNleaVsOaNriINCiAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICBdOw0KICAgICAgICAgICAgfSBlbHNlIGlmICgNCiAgICAgICAgICAgICAgKHBhcmFtcy5yb3cuc3RhdHVzID09IDIgJiYgcGFyYW1zLnJvdy5yZXN1bHQgPT0gMykgfHwNCiAgICAgICAgICAgICAgcGFyYW1zLnJvdy5zdGF0dXMgPT0gMw0KICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgIHJlID0gWw0KICAgICAgICAgICAgICAgIGgoDQogICAgICAgICAgICAgICAgICAiYSIsDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHkocGFyYW1zLnJvdyk7DQogICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAi6YeN5paw55Sz6K+3Ig0KICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgaCgiRGl2aWRlciIsIHsNCiAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJ2ZXJ0aWNhbCIsDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgIGgoDQogICAgICAgICAgICAgICAgICAiYSIsDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdChwYXJhbXMucm93KTsNCiAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICLnvJbovpEiDQogICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICBoKCJEaXZpZGVyIiwgew0KICAgICAgICAgICAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInZlcnRpY2FsIiwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgaCgNCiAgICAgICAgICAgICAgICAgICJhIiwNCiAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgb246IHsNCiAgICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaXN0b3J5KHBhcmFtcy5yb3cpOw0KICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgIuWuoeaJueWOhuWPsiINCiAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICBdOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgcmUgPSBbDQogICAgICAgICAgICAgICAgaCgNCiAgICAgICAgICAgICAgICAgICJhIiwNCiAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgb246IHsNCiAgICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXRhaWwocGFyYW1zLnJvdyk7DQogICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAi6KGo5Y2V5pWw5o2uIg0KICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgaCgiRGl2aWRlciIsIHsNCiAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJ2ZXJ0aWNhbCIsDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgIGgoDQogICAgICAgICAgICAgICAgICAiYSIsDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIG9uOiB7DQogICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlzdG9yeShwYXJhbXMucm93KTsNCiAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICLlrqHmibnljoblj7IiDQogICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgXTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcmV0dXJuIGgoImRpdiIsIHJlKTsNCiAgICAgICAgICB9LA0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICAgIGRhdGE6IFtdLCAvLyDooajljZXmlbDmja4NCiAgICAgIHRvdGFsOiAwLCAvLyDooajljZXmlbDmja7mgLvmlbANCiAgICAgIGFzc2lnbmVlTGlzdDogW10sDQogICAgICB1c2VyTGlzdDogW10sDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGluaXQoKSB7DQogICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgICB0aGlzLmdldFByb2Nlc3NMaXN0KCk7DQogICAgICB0aGlzLmluaXRDYXRlZ29yeURhdGEoKTsNCiAgICB9LA0KICAgIGdldFByb2Nlc3NMaXN0KCkgew0KICAgICAgdGhpcy5wcm9jZXNzTG9hZGluZyA9IHRydWU7DQogICAgICBnZXRQcm9jZXNzRGF0YUxpc3QodGhpcy5zZWFyY2hQcm9jZXNzRm9ybSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMucHJvY2Vzc0xvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgdGhpcy5wcm9jZXNzRGF0YSA9IHJlcy5yZXN1bHQuY29udGVudDsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBjaGFuZ2VQcm9jZXNzUGFnZSh2KSB7DQogICAgICB0aGlzLnNlYXJjaFByb2Nlc3NGb3JtLnBhZ2VOdW1iZXIgPSB2Ow0KICAgICAgdGhpcy5nZXRQcm9jZXNzTGlzdCgpOw0KICAgIH0sDQogICAgY2hhbmdlUHJvY2Vzc1BhZ2VTaXplKHYpIHsNCiAgICAgIHRoaXMuc2VhcmNoUHJvY2Vzc0Zvcm0ucGFnZVNpemUgPSB2Ow0KICAgICAgdGhpcy5nZXRQcm9jZXNzTGlzdCgpOw0KICAgIH0sDQogICAgc2VhcmNoUHJvY2VzcygpIHsNCiAgICAgIHRoaXMuc2VhcmNoUHJvY2Vzc0Zvcm0ucGFnZU51bWJlciA9IDE7DQogICAgICB0aGlzLmdldFByb2Nlc3NMaXN0KCk7DQogICAgfSwNCiAgICBzZWFyY2hVc2VyKHYpIHsNCiAgICAgIGlmICghdikgew0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICB0aGlzLnVzZXJMb2FkaW5nID0gdHJ1ZTsNCiAgICAgIHNlYXJjaFVzZXJCeU5hbWUodikudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMudXNlckxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgdGhpcy51c2VyTGlzdCA9IHJlcy5yZXN1bHQ7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgaW5pdENhdGVnb3J5RGF0YSgpIHsNCiAgICAgIGluaXRBY3RDYXRlZ29yeSgpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICByZXMucmVzdWx0LmZvckVhY2goZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgICAgIGlmIChlLmlzUGFyZW50KSB7DQogICAgICAgICAgICAgIGUudmFsdWUgPSBlLmlkOw0KICAgICAgICAgICAgICBlLmxhYmVsID0gZS50aXRsZTsNCiAgICAgICAgICAgICAgZS5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICAgIGUuY2hpbGRyZW4gPSBbXTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIGUudmFsdWUgPSBlLmlkOw0KICAgICAgICAgICAgICBlLmxhYmVsID0gZS50aXRsZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChlLnN0YXR1cyA9PSAtMSkgew0KICAgICAgICAgICAgICBlLmxhYmVsID0gIlvlt7LnpoHnlKhdICIgKyBlLmxhYmVsOw0KICAgICAgICAgICAgICBlLmRpc2FibGVkID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgICB0aGlzLmNhdGVnb3J5ID0gcmVzLnJlc3VsdDsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBsb2FkRGF0YShpdGVtLCBjYWxsYmFjaykgew0KICAgICAgaXRlbS5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIGxvYWRBY3RDYXRlZ29yeShpdGVtLnZhbHVlKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgaXRlbS5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIHJlcy5yZXN1bHQuZm9yRWFjaChmdW5jdGlvbiAoZSkgew0KICAgICAgICAgICAgaWYgKGUuaXNQYXJlbnQpIHsNCiAgICAgICAgICAgICAgZS52YWx1ZSA9IGUuaWQ7DQogICAgICAgICAgICAgIGUubGFiZWwgPSBlLnRpdGxlOw0KICAgICAgICAgICAgICBlLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgZS5jaGlsZHJlbiA9IFtdOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgZS52YWx1ZSA9IGUuaWQ7DQogICAgICAgICAgICAgIGUubGFiZWwgPSBlLnRpdGxlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGUuc3RhdHVzID09IC0xKSB7DQogICAgICAgICAgICAgIGUubGFiZWwgPSAiW+W3suemgeeUqF0gIiArIGUubGFiZWw7DQogICAgICAgICAgICAgIGUuZGlzYWJsZWQgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGl0ZW0uY2hpbGRyZW4gPSByZXMucmVzdWx0Ow0KICAgICAgICAgIGNhbGxiYWNrKCk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlQ2hhbmdlQ2F0KHZhbHVlLCBzZWxlY3RlZERhdGEpIHsNCiAgICAgIGxldCBjYXRlZ29yeUlkID0gIiI7DQogICAgICAvLyDojrflj5bmnIDlkI7kuIDkuKrlgLwNCiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7DQogICAgICAgIGNhdGVnb3J5SWQgPSB2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXTsNCiAgICAgIH0NCiAgICAgIHRoaXMuc2VhcmNoUHJvY2Vzc0Zvcm0uY2F0ZWdvcnlJZCA9IGNhdGVnb3J5SWQ7DQogICAgfSwNCiAgICBkcm9wRG93bigpIHsNCiAgICAgIGlmICh0aGlzLmRyb3ApIHsNCiAgICAgICAgdGhpcy5kcm9wRG93bkNvbnRlbnQgPSAi5bGV5byAIjsNCiAgICAgICAgdGhpcy5kcm9wRG93bkljb24gPSAiaW9zLWFycm93LWRvd24iOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5kcm9wRG93bkNvbnRlbnQgPSAi5pS26LW3IjsNCiAgICAgICAgdGhpcy5kcm9wRG93bkljb24gPSAiaW9zLWFycm93LXVwIjsNCiAgICAgIH0NCiAgICAgIHRoaXMuZHJvcCA9ICF0aGlzLmRyb3A7DQogICAgfSwNCiAgICBjaGFuZ2VTb3J0KGUpIHsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5zb3J0ID0gZS5rZXk7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ub3JkZXIgPSBlLm9yZGVyOw0KICAgICAgaWYgKGUub3JkZXIgPT0gIm5vcm1hbCIpIHsNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLm9yZGVyID0gIiI7DQogICAgICB9DQogICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgfSwNCiAgICBjaGFuZ2VQYWdlKHYpIHsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlTnVtYmVyID0gdjsNCiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICAgIHRoaXMuY2xlYXJTZWxlY3RBbGwoKTsNCiAgICB9LA0KICAgIGNoYW5nZVBhZ2VTaXplKHYpIHsNCiAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlU2l6ZSA9IHY7DQogICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgfSwNCiAgICBzZWxlY3REYXRlUmFuZ2Uodikgew0KICAgICAgaWYgKHYpIHsNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnN0YXJ0RGF0ZSA9IHZbMF07DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybS5lbmREYXRlID0gdlsxXTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGNoYW5nZVRhYmxlU2l6ZSh2KSB7DQogICAgICB0aGlzLnRhYmxlU2l6ZSA9IHY7DQogICAgfSwNCiAgICBleHBvcnREYXRhKCkgew0KICAgICAgdGhpcy4kcmVmcy50YWJsZS5leHBvcnRDc3Yoew0KICAgICAgICBmaWxlbmFtZTogIuaVsOaNriIsDQogICAgICB9KTsNCiAgICB9LA0KICAgIGdldERhdGFMaXN0KCkgew0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIC8vIOmBv+WFjeWQjuerr+m7mOiupOWAvA0KICAgICAgaWYgKCF0aGlzLnNlYXJjaEZvcm0uc3RhdHVzKSB7DQogICAgICAgIHRoaXMuc2VhcmNoRm9ybS5zdGF0dXMgPSAiICI7DQogICAgICB9DQogICAgICBpZiAoIXRoaXMuc2VhcmNoRm9ybS5yZXN1bHQpIHsNCiAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnJlc3VsdCA9ICIgIjsNCiAgICAgIH0NCiAgICAgIGdldEJ1c2luZXNzRGF0YUxpc3QodGhpcy5zZWFyY2hGb3JtKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcy5yZXN1bHQuY29udGVudDsNCiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnJlc3VsdC50b3RhbEVsZW1lbnRzOw0KICAgICAgICAgIGlmICh0aGlzLmRhdGEubGVuZ3RoID09IDAgJiYgdGhpcy5zZWFyY2hGb3JtLnBhZ2VOdW1iZXIgPiAxKSB7DQogICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZU51bWJlciAtPSAxOw0KICAgICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBoYW5kbGVTZWFyY2goKSB7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZU51bWJlciA9IDE7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZVNpemUgPSAxMDsNCiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICB9LA0KICAgIGhhbmRsZVJlc2V0KCkgew0KICAgICAgdGhpcy4kcmVmcy5zZWFyY2hGb3JtLnJlc2V0RmllbGRzKCk7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZU51bWJlciA9IDE7DQogICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZVNpemUgPSAxMDsNCiAgICAgIHRoaXMuc2VsZWN0RGF0ZSA9IG51bGw7DQogICAgICB0aGlzLnNlYXJjaEZvcm0uc3RhcnREYXRlID0gIiI7DQogICAgICB0aGlzLnNlYXJjaEZvcm0uZW5kRGF0ZSA9ICIiOw0KICAgICAgLy8g6YeN5paw5Yqg6L295pWw5o2uDQogICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgfSwNCiAgICBoYW5kZWxDYW5jZWwoKSB7DQogICAgICB0aGlzLm1vZGFsVmlzaWJsZSA9IGZhbHNlOw0KICAgIH0sDQogICAgaGFuZGVsU3VibWl0KCkgew0KICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICBpZiAoDQogICAgICAgICAgICAodGhpcy5zaG93QXNzaWduIHx8IHRoaXMuaXNDdXN0b20pICYmDQogICAgICAgICAgICB0aGlzLmZvcm0uYXNzaWduZWVzLmxlbmd0aCA8IDENCiAgICAgICAgICApIHsNCiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSAi6K+36Iez5bCR6YCJ5oup5LiA5Liq5a6h5om55Lq6IjsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5lcnJvciA9ICIiOw0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSB0cnVlOw0KICAgICAgICAgIGFwcGx5QnVzaW5lc3ModGhpcy5mb3JtKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7DQogICAgICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICAgICAgICAgICAgdGhpcy5tb2RhbFZpc2libGUgPSBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBhZGQoKSB7DQogICAgICB0aGlzLnByb2Nlc3NNb2RhbFZpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgY2hvb3NlUHJvY2Vzcyh2KSB7DQogICAgICBpZiAoIXYucm91dGVOYW1lKSB7DQogICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygNCiAgICAgICAgICAi6K+l5rWB56iL5L+h5oGv5pyq5a6M5ZaE77yM6K+35LqO5rWB56iL566h55CG5Lit57yW6L6R5rWB56iL5a6M5ZaE5L+h5oGvIg0KICAgICAgICApOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICB0aGlzLnByb2Nlc3NNb2RhbFZpc2libGUgPSBmYWxzZTsNCiAgICAgIGxldCBxdWVyeSA9IHsgdHlwZTogMCwgYmFja1JvdXRlOiB0aGlzLiRyb3V0ZS5uYW1lLCBwcm9jRGVmSWQ6IHYuaWQgfTsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgbmFtZTogdi5yb3V0ZU5hbWUsDQogICAgICAgIHF1ZXJ5OiBxdWVyeSwNCiAgICAgIH0pOw0KICAgIH0sDQogICAgZWRpdCh2KSB7DQogICAgICBpZiAoIXYucm91dGVOYW1lKSB7DQogICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoIuihqOWNlei3r+eUseWQjeS4uuepuiIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICBsZXQgcXVlcnkgPSB7IHR5cGU6IDEsIGlkOiB2LnRhYmxlSWQsIGJhY2tSb3V0ZTogdGhpcy4kcm91dGUubmFtZSB9Ow0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBuYW1lOiB2LnJvdXRlTmFtZSwNCiAgICAgICAgcXVlcnk6IHF1ZXJ5LA0KICAgICAgfSk7DQogICAgfSwNCiAgICBkZXRhaWwodikgew0KICAgICAgaWYgKCF2LnJvdXRlTmFtZSkgew0KICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKCLooajljZXot6/nlLHlkI3kuLrnqboiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgbGV0IHF1ZXJ5ID0geyB0eXBlOiAyLCBpZDogdi50YWJsZUlkLCBiYWNrUm91dGU6IHRoaXMuJHJvdXRlLm5hbWUgfTsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgbmFtZTogdi5yb3V0ZU5hbWUsDQogICAgICAgIHF1ZXJ5OiBxdWVyeSwNCiAgICAgIH0pOw0KICAgIH0sDQogICAgYXBwbHkodikgew0KICAgICAgaWYgKCF2LnByb2NEZWZJZCB8fCB2LnByb2NEZWZJZCA9PSAibnVsbCIpIHsNCiAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcigi5rWB56iL5a6a5LmJ5Li656m6Iik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIHRoaXMuZm9ybS5pZCA9IHYuaWQ7DQogICAgICB0aGlzLmZvcm0ucHJvY0RlZklkID0gdi5wcm9jRGVmSWQ7DQogICAgICB0aGlzLmZvcm0udGl0bGUgPSB2LnRpdGxlOw0KICAgICAgLy8g5Yqg6L295a6h5om55Lq6DQogICAgICB0aGlzLnVzZXJMb2FkaW5nID0gdHJ1ZTsNCiAgICAgIGdldEZpcnN0Tm9kZSh2LnByb2NEZWZJZCkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMudXNlckxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgdGhpcy5lcnJvciA9ICIiOw0KICAgICAgICAgIGlmIChyZXMucmVzdWx0LnR5cGUgPT0gMyB8fCByZXMucmVzdWx0LnR5cGUgPT0gNCkgew0KICAgICAgICAgICAgdGhpcy5pc0dhdGV3YXkgPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5mb3JtLmZpcnN0R2F0ZXdheSA9IHRydWU7DQogICAgICAgICAgICB0aGlzLnNob3dBc3NpZ24gPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMuaXNDdXN0b20gPSBmYWxzZTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKHJlcy5yZXN1bHQudHlwZSA9PSA1KSB7DQogICAgICAgICAgICB0aGlzLmlzQ3VzdG9tID0gdHJ1ZTsNCiAgICAgICAgICAgIHRoaXMuaXNHYXRld2F5ID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLmZvcm0uZmlyc3RHYXRld2F5ID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLnNob3dBc3NpZ24gPSBmYWxzZTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKHJlcy5yZXN1bHQudHlwZSA9PSAxKSB7DQogICAgICAgICAgICB0aGlzLnNob3dBc3NpZ24gPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5pc0dhdGV3YXkgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMuZm9ybS5maXJzdEdhdGV3YXkgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMuaXNDdXN0b20gPSBmYWxzZTsNCiAgICAgICAgICAgIGlmIChyZXMucmVzdWx0LnVzZXJzICYmIHJlcy5yZXN1bHQudXNlcnMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICB0aGlzLmFzc2lnbmVlTGlzdCA9IHJlcy5yZXN1bHQudXNlcnM7DQogICAgICAgICAgICAgIC8vIOm7mOiupOWLvumAiQ0KICAgICAgICAgICAgICBsZXQgaWRzID0gW107DQogICAgICAgICAgICAgIHJlcy5yZXN1bHQudXNlcnMuZm9yRWFjaCgoZSkgPT4gew0KICAgICAgICAgICAgICAgIGlkcy5wdXNoKGUuaWQpOw0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgdGhpcy5mb3JtLmFzc2lnbmVlcyA9IGlkczsNCiAgICAgICAgICAgICAgdGhpcy5zaG93QXNzaWduID0gdHJ1ZTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuZm9ybS5hc3NpZ25lZXMgPSBbXTsNCiAgICAgICAgICAgICAgdGhpcy5zaG93QXNzaWduID0gdHJ1ZTsNCiAgICAgICAgICAgICAgdGhpcy5lcnJvciA9ICfor7fov5vlhaUi5rWB56iL566h55CGIuS4uuWuoeaJueiKgueCueWIhumFjeWAmemAieWuoeaJueS6uuWRmCc7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIHRoaXMubW9kYWxWaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICAgIGNhbmNlbCh2KSB7DQogICAgICB0aGlzLmNhbmNlbEZvcm0uaWQgPSB2LmlkOw0KICAgICAgdGhpcy5jYW5jZWxGb3JtLnByb2NJbnN0SWQgPSB2LnByb2NJbnN0SWQ7DQogICAgICB0aGlzLm1vZGFsQ2FuY2VsVmlzaWJsZSA9IHRydWU7DQogICAgfSwNCiAgICBoYW5kZWxTdWJtaXRDYW5jZWwoKSB7DQogICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSB0cnVlOw0KICAgICAgY2FuY2VsQXBwbHkodGhpcy5jYW5jZWxGb3JtKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy5zdWJtaXRMb2FkaW5nID0gZmFsc2U7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7DQogICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgICAgICAgIHRoaXMubW9kYWxDYW5jZWxWaXNpYmxlID0gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgaGlzdG9yeSh2KSB7DQogICAgICBpZiAoIXYucHJvY0luc3RJZCkgew0KICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKCLmtYHnqIvlrp7kvotJROS4jeWtmOWcqCIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICB0aGlzLnByb2NJbnN0SWQgPSB2LnByb2NJbnN0SWQ7DQogICAgICB0aGlzLnNob3dIaXN0b3J5ID0gdHJ1ZTsNCiAgICB9LA0KICAgIHJlbW92ZSh2KSB7DQogICAgICB0aGlzLiRNb2RhbC5jb25maXJtKHsNCiAgICAgICAgdGl0bGU6ICLnoa7orqTliKDpmaQiLA0KICAgICAgICAvLyDorrDlvpfnoa7orqTkv67mlLnmraTlpIQNCiAgICAgICAgY29udGVudDogIuaCqOehruiupOimgeWIoOmZpCAiICsgdi50aXRsZSArICIgPyIsDQogICAgICAgIGxvYWRpbmc6IHRydWUsDQogICAgICAgIG9uT2s6ICgpID0+IHsNCiAgICAgICAgICAvLyDliKDpmaQNCiAgICAgICAgICBkZWxldGVCdXNpbmVzcyh7IGlkczogdi5pZCB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIHRoaXMuJE1vZGFsLnJlbW92ZSgpOw0KICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3RBbGwoKTsNCiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip8iKTsNCiAgICAgICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgfSk7DQogICAgfSwNCiAgICBzaG93U2VsZWN0KGUpIHsNCiAgICAgIHRoaXMuc2VsZWN0TGlzdCA9IGU7DQogICAgfSwNCiAgICBjbGVhclNlbGVjdEFsbCgpIHsNCiAgICAgIHRoaXMuJHJlZnMudGFibGUuc2VsZWN0QWxsKGZhbHNlKTsNCiAgICB9LA0KICAgIGRlbEFsbCgpIHsNCiAgICAgIGlmICh0aGlzLnNlbGVjdExpc3QubGVuZ3RoIDw9IDApIHsNCiAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCLmgqjov5jmnKrpgInmi6nopoHliKDpmaTnmoTmlbDmja4iKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7DQogICAgICAgIHRpdGxlOiAi56Gu6K6k5Yig6ZmkIiwNCiAgICAgICAgY29udGVudDogIuaCqOehruiupOimgeWIoOmZpOaJgOmAieeahCAiICsgdGhpcy5zZWxlY3RMaXN0Lmxlbmd0aCArICIg5p2h5pWw5o2uPyIsDQogICAgICAgIGxvYWRpbmc6IHRydWUsDQogICAgICAgIG9uT2s6ICgpID0+IHsNCiAgICAgICAgICBsZXQgaWRzID0gIiI7DQogICAgICAgICAgdGhpcy5zZWxlY3RMaXN0LmZvckVhY2goZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgICAgIGlkcyArPSBlLmlkICsgIiwiOw0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGlkcyA9IGlkcy5zdWJzdHJpbmcoMCwgaWRzLmxlbmd0aCAtIDEpOw0KICAgICAgICAgIC8vIOaJuemHj+WIoOmZpA0KICAgICAgICAgIGRlbGV0ZUJ1c2luZXNzKHsgaWRzOiBpZHMgfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRNb2RhbC5yZW1vdmUoKTsNCiAgICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuaTjeS9nOaIkOWKnyIpOw0KICAgICAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0QWxsKCk7DQogICAgICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgLy8g6K6h566X6auY5bqmDQogICAgdGhpcy5tYXhIZWlnaHQgPSBOdW1iZXIoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAtIDE4MCk7DQogICAgdGhpcy5pbml0KCk7DQogIH0sDQogIHdhdGNoOiB7DQogICAgLy8g55uR5ZCs6Lev55Sx5Y+Y5YyWDQogICAgJHJvdXRlKHRvLCBmcm9tKSB7DQogICAgICBpZiAodG8ubmFtZSA9PSAiYXBwbHktbWFuYWdlIikgew0KICAgICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgICAgIHRoaXMuZ2V0UHJvY2Vzc0xpc3QoKTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["applyManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"applyManage.vue","sourceRoot":"src/views/activiti/apply-manage","sourcesContent":["<style lang=\"less\">\r\n@import \"@/styles/table-common.less\";\r\n@import \"./applyManage.less\";\r\n</style>\r\n<template>\r\n  <div class=\"search\">\r\n    <historicDetail\r\n      v-if=\"showHistory\"\r\n      @close=\"showHistory = false\"\r\n      :procInstId=\"procInstId\"\r\n    />\r\n    <Card v-show=\"!showHistory\">\r\n      <Row v-show=\"openSearch\" @keydown.enter.native=\"handleSearch\">\r\n        <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"70\">\r\n          <FormItem label=\"标题\" prop=\"title\">\r\n            <Input\r\n              type=\"text\"\r\n              v-model=\"searchForm.title\"\r\n              placeholder=\"请输入\"\r\n              clearable\r\n              style=\"width: 200px\"\r\n            />\r\n          </FormItem>\r\n          <FormItem label=\"状态\" prop=\"status\">\r\n            <Select\r\n              v-model=\"searchForm.status\"\r\n              placeholder=\"请选择\"\r\n              clearable\r\n              style=\"width: 200px\"\r\n            >\r\n              <Option value=\"0\">草稿</Option>\r\n              <Option value=\"1\">处理中</Option>\r\n              <Option value=\"2\">已结束</Option>\r\n              <Option value=\"3\">已撤回</Option>\r\n            </Select>\r\n          </FormItem>\r\n          <span v-if=\"drop\">\r\n            <FormItem label=\"结果\" prop=\"result\">\r\n              <Select\r\n                v-model=\"searchForm.result\"\r\n                placeholder=\"请选择\"\r\n                clearable\r\n                style=\"width: 200px\"\r\n              >\r\n                <Option value=\"0\">未提交</Option>\r\n                <Option value=\"1\">处理中</Option>\r\n                <Option value=\"2\">通过</Option>\r\n                <Option value=\"3\">驳回</Option>\r\n              </Select>\r\n            </FormItem>\r\n            <FormItem label=\"创建时间\">\r\n              <DatePicker\r\n                :options=\"options\"\r\n                v-model=\"selectDate\"\r\n                type=\"daterange\"\r\n                format=\"yyyy-MM-dd\"\r\n                clearable\r\n                @on-change=\"selectDateRange\"\r\n                placeholder=\"选择起始时间\"\r\n                style=\"width: 200px\"\r\n              ></DatePicker>\r\n            </FormItem>\r\n          </span>\r\n          <FormItem style=\"margin-left: -35px\" class=\"br\">\r\n            <Button @click=\"handleSearch\" type=\"primary\" icon=\"ios-search\"\r\n              >搜索</Button\r\n            >\r\n            <Button @click=\"handleReset\">重置</Button>\r\n            <a class=\"drop-down\" @click=\"dropDown\">\r\n              {{ dropDownContent }}\r\n              <Icon :type=\"dropDownIcon\"></Icon>\r\n            </a>\r\n          </FormItem>\r\n        </Form>\r\n      </Row>\r\n      <Row align=\"middle\" justify=\"space-between\" class=\"operation\">\r\n        <div>\r\n          <Button @click=\"add\" type=\"primary\" icon=\"md-add\">新增申请</Button>\r\n          <Button @click=\"delAll\" icon=\"md-trash\">批量删除</Button>\r\n        </div>\r\n        <div class=\"icons\">\r\n          <Tooltip content=\"刷新\" placement=\"top\" transfer>\r\n            <Icon\r\n              type=\"md-refresh\"\r\n              size=\"18\"\r\n              class=\"item\"\r\n              @click=\"getDataList\"\r\n            />\r\n          </Tooltip>\r\n          <Tooltip\r\n            :content=\"openSearch ? '关闭搜索' : '开启搜索'\"\r\n            placement=\"top\"\r\n            transfer\r\n          >\r\n            <Icon\r\n              type=\"ios-search\"\r\n              size=\"18\"\r\n              class=\"item tip\"\r\n              @click=\"openSearch = !openSearch\"\r\n            />\r\n          </Tooltip>\r\n          <Tooltip\r\n            :content=\"openTip ? '关闭提示' : '开启提示'\"\r\n            placement=\"top\"\r\n            transfer\r\n          >\r\n            <Icon\r\n              type=\"md-bulb\"\r\n              size=\"18\"\r\n              class=\"item tip\"\r\n              @click=\"openTip = !openTip\"\r\n            />\r\n          </Tooltip>\r\n          <Tooltip content=\"表格密度\" placement=\"top\" transfer>\r\n            <Dropdown @on-click=\"changeTableSize\" trigger=\"click\">\r\n              <Icon type=\"md-list\" size=\"18\" class=\"item\" />\r\n              <DropdownMenu slot=\"list\">\r\n                <DropdownItem :selected=\"tableSize == 'default'\" name=\"default\"\r\n                  >默认</DropdownItem\r\n                >\r\n                <DropdownItem :selected=\"tableSize == 'large'\" name=\"large\"\r\n                  >宽松</DropdownItem\r\n                >\r\n                <DropdownItem :selected=\"tableSize == 'small'\" name=\"small\"\r\n                  >紧密</DropdownItem\r\n                >\r\n              </DropdownMenu>\r\n            </Dropdown>\r\n          </Tooltip>\r\n          <Tooltip content=\"导出数据\" placement=\"top\" transfer>\r\n            <Icon\r\n              type=\"md-download\"\r\n              size=\"18\"\r\n              class=\"item\"\r\n              @click=\"exportData\"\r\n            />\r\n          </Tooltip>\r\n        </div>\r\n      </Row>\r\n      <Alert show-icon v-show=\"openTip\">\r\n        已选择\r\n        <span class=\"select-count\">{{ selectList.length }}</span> 项\r\n        <a class=\"select-clear\" @click=\"clearSelectAll\">清空</a>\r\n      </Alert>\r\n      <Table\r\n        :loading=\"loading\"\r\n        border\r\n        :columns=\"columns\"\r\n        :data=\"data\"\r\n        :size=\"tableSize\"\r\n        sortable=\"custom\"\r\n        @on-sort-change=\"changeSort\"\r\n        @on-selection-change=\"showSelect\"\r\n        ref=\"table\"\r\n      ></Table>\r\n      <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n        <Page\r\n          :current=\"searchForm.pageNumber\"\r\n          :total=\"total\"\r\n          :page-size=\"searchForm.pageSize\"\r\n          @on-change=\"changePage\"\r\n          @on-page-size-change=\"changePageSize\"\r\n          :page-size-opts=\"[10, 20, 50]\"\r\n          size=\"small\"\r\n          show-total\r\n          show-elevator\r\n          show-sizer\r\n        ></Page>\r\n      </Row>\r\n    </Card>\r\n\r\n    <!-- Drawer抽屉式选择流程 -->\r\n    <Drawer\r\n      title=\"选择流程\"\r\n      closable\r\n      v-model=\"processModalVisible\"\r\n      width=\"780\"\r\n      draggable\r\n    >\r\n      <div class=\"apply-operation\">\r\n        <div>\r\n          <Form\r\n            ref=\"searchProcessForm\"\r\n            :model=\"searchProcessForm\"\r\n            inline\r\n            :label-width=\"70\"\r\n          >\r\n            <FormItem label=\"流程名称\" prop=\"name\">\r\n              <Input\r\n                type=\"text\"\r\n                v-model=\"searchProcessForm.name\"\r\n                clearable\r\n                placeholder=\"请输入流程名\"\r\n                style=\"width: 140px\"\r\n              />\r\n            </FormItem>\r\n            <FormItem label=\"所属分类\" prop=\"category\">\r\n              <Cascader\r\n                v-model=\"selectCat\"\r\n                :data=\"category\"\r\n                :load-data=\"loadData\"\r\n                @on-change=\"handleChangeCat\"\r\n                change-on-select\r\n                filterable\r\n                clearable\r\n                placeholder=\"请选择分类\"\r\n                style=\"width: 140px\"\r\n              ></Cascader>\r\n            </FormItem>\r\n            <FormItem style=\"margin-left: -70px\" class=\"br\">\r\n              <Button @click=\"searchProcess\" icon=\"ios-search\">搜索</Button>\r\n              <i-switch\r\n                size=\"large\"\r\n                v-model=\"searchProcessForm.showLatest\"\r\n                @on-change=\"searchProcess\"\r\n                style=\"margin: 0 5px\"\r\n              >\r\n                <span slot=\"open\">最新</span>\r\n                <span slot=\"close\">全部</span>\r\n              </i-switch>\r\n            </FormItem>\r\n          </Form>\r\n        </div>\r\n        <div>\r\n          <RadioGroup v-model=\"showType\" type=\"button\">\r\n            <Radio title=\"缩略图\" label=\"thumb\">\r\n              <Icon type=\"ios-apps\"></Icon>\r\n            </Radio>\r\n            <Radio title=\"列表\" label=\"list\">\r\n              <Icon type=\"md-list\"></Icon>\r\n            </Radio>\r\n          </RadioGroup>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"process-list-wrapper\"\r\n        v-if=\"showType == 'thumb'\"\r\n        :style=\"{ maxHeight: maxHeight + 'px' }\"\r\n      >\r\n        <Card\r\n          v-for=\"(item, i) in processData\"\r\n          :key=\"i\"\r\n          class=\"process-card\"\r\n          :style=\"{ marginRight: i % 2 == 0 ? '25px' : '0' }\"\r\n        >\r\n          <div class=\"content\" @click=\"chooseProcess(item)\">\r\n            <div class=\"other\">\r\n              <div class=\"name\">{{ i + 1 }}. {{ item.name }}</div>\r\n              <div class=\"key\">{{ item.description }}</div>\r\n              <div class=\"info\">\r\n                版本：v.{{ item.version }}\r\n                <span style=\"margin-left: 10px\"></span>\r\n                所属分类：{{ item.categoryTitle }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n        <Spin fix v-if=\"processLoading\" />\r\n      </div>\r\n      <Table\r\n        :height=\"maxHeight\"\r\n        :loading=\"processLoading\"\r\n        border\r\n        :columns=\"processColumns\"\r\n        :data=\"processData\"\r\n        ref=\"processTable\"\r\n        v-if=\"showType == 'list'\"\r\n      ></Table>\r\n      <Row class=\"process-choose-drawer-footer\">\r\n        <Page\r\n          :current=\"searchProcessForm.pageNumber\"\r\n          :page-size=\"searchProcessForm.pageSize\"\r\n          @on-change=\"changeProcessPage\"\r\n          @on-page-size-change=\"changeProcessPageSize\"\r\n          :page-size-opts=\"[10, 20, 50]\"\r\n          size=\"small\"\r\n          show-elevator\r\n          show-sizer\r\n        ></Page>\r\n      </Row>\r\n    </Drawer>\r\n\r\n    <Modal\r\n      title=\"提交申请\"\r\n      v-model=\"modalVisible\"\r\n      :mask-closable=\"false\"\r\n      :width=\"500\"\r\n    >\r\n      <Form ref=\"form\" :model=\"form\" :label-width=\"85\" :rules=\"formValidate\">\r\n        <FormItem\r\n          label=\"选择审批人\"\r\n          prop=\"assignees\"\r\n          v-show=\"showAssign\"\r\n          :error=\"error\"\r\n        >\r\n          <Select\r\n            v-model=\"form.assignees\"\r\n            placeholder=\"请选择或输入搜索\"\r\n            filterable\r\n            clearable\r\n            multiple\r\n            :loading=\"userLoading\"\r\n          >\r\n            <Option\r\n              v-for=\"(item, i) in assigneeList\"\r\n              :key=\"i\"\r\n              :value=\"item.id\"\r\n              :label=\"item.nickname\"\r\n            >\r\n              <span style=\"margin-right: 10px\">{{ item.nickname }}</span>\r\n              <span style=\"color: #ccc\">{{ item.username }}</span>\r\n            </Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem\r\n          label=\"自定义搜索选择审批人\"\r\n          prop=\"assignees\"\r\n          v-show=\"isCustom\"\r\n          :error=\"error\"\r\n        >\r\n          <Select\r\n            v-model=\"form.assignees\"\r\n            placeholder=\"请输入用户名搜索选择用户\"\r\n            filterable\r\n            remote\r\n            multiple\r\n            :remote-method=\"searchUser\"\r\n            :loading=\"userLoading\"\r\n          >\r\n            <Option\r\n              v-for=\"(item, i) in userList\"\r\n              :value=\"item.id\"\r\n              :key=\"i\"\r\n              :label=\"item.nickname\"\r\n            >\r\n              <span style=\"margin-right: 10px\">{{ item.nickname }}</span>\r\n              <span style=\"color: #ccc\">{{ item.username }}</span>\r\n            </Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem label=\"下一审批人\" v-show=\"isGateway\">\r\n          <span\r\n            >分支网关处暂不支持自定义选择下一审批人，将发送给下一节点所有人</span\r\n          >\r\n        </FormItem>\r\n        <FormItem label=\"优先级\" prop=\"priority\">\r\n          <dict dict=\"priority\" v-model=\"form.priority\" />\r\n        </FormItem>\r\n        <FormItem label=\"消息通知\">\r\n          <Checkbox v-model=\"form.sendMessage\">站内消息通知</Checkbox>\r\n          <Checkbox v-model=\"form.sendSms\">短信通知</Checkbox>\r\n          <Checkbox v-model=\"form.sendEmail\">邮件通知</Checkbox>\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"handelCancel\">取消</Button>\r\n        <Button type=\"primary\" :loading=\"submitLoading\" @click=\"handelSubmit\"\r\n          >提交</Button\r\n        >\r\n      </div>\r\n    </Modal>\r\n\r\n    <Modal\r\n      title=\"确认撤回\"\r\n      v-model=\"modalCancelVisible\"\r\n      :mask-closable=\"false\"\r\n      :width=\"500\"\r\n    >\r\n      <Form ref=\"delForm\" v-model=\"cancelForm\" :label-width=\"70\">\r\n        <FormItem label=\"撤回原因\" prop=\"reason\">\r\n          <Input type=\"textarea\" v-model=\"cancelForm.reason\" :rows=\"4\" />\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"modalCancelVisible = false\">取消</Button>\r\n        <Button\r\n          type=\"primary\"\r\n          :loading=\"submitLoading\"\r\n          @click=\"handelSubmitCancel\"\r\n          >提交</Button\r\n        >\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getProcessDataList,\r\n  getFirstNode,\r\n  getBusinessDataList,\r\n  applyBusiness,\r\n  deleteBusiness,\r\n  cancelApply,\r\n  initActCategory,\r\n  loadActCategory,\r\n} from \"@/api/activiti\";\r\nimport { searchUserByName } from \"@/api/index\";\r\nimport historicDetail from \"../historic-detail/historicDetail.vue\";\r\nimport { shortcuts } from \"@/libs/shortcuts\";\r\nimport dict from \"@/views/my-components/xboot/dict\";\r\nexport default {\r\n  name: \"apply-manage\",\r\n  components: {\r\n    historicDetail,\r\n    dict,\r\n  },\r\n  data() {\r\n    return {\r\n      tableSize: \"default\",\r\n      showHistory: false,\r\n      procInstId: \"\",\r\n      maxHeight: 510,\r\n      openSearch: true,\r\n      openTip: true,\r\n      loading: true, // 表单加载状态\r\n      processModalVisible: false,\r\n      selectCat: [],\r\n      category: [],\r\n      error: \"\",\r\n      showAssign: false,\r\n      isGateway: false,\r\n      isCustom: false,\r\n      searchProcessForm: {\r\n        showLatest: true,\r\n        filter: true,\r\n        name: \"\",\r\n        status: \"1\", // 激活状态\r\n        pageNumber: 1, // 当前页数\r\n        pageSize: 10, // 页面大小\r\n        sort: \"createTime\", // 默认排序字段\r\n        order: \"desc\", // 默认排序方式\r\n      },\r\n      options: {\r\n        shortcuts: shortcuts,\r\n      },\r\n      cancelForm: {\r\n        reason: \"\",\r\n      },\r\n      modalCancelVisible: false,\r\n      processLoading: false,\r\n      processColumns: [\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"名称\",\r\n          key: \"name\",\r\n          width: 150,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"备注描述\",\r\n          key: \"description\",\r\n          width: 150,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"所属分类\",\r\n          key: \"categoryTitle\",\r\n          width: 150,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"版本\",\r\n          key: \"version\",\r\n          align: \"center\",\r\n          sortable: true,\r\n          render: (h, params) => {\r\n            let re = \"\";\r\n            if (params.row.version) {\r\n              re = \"v.\" + params.row.version;\r\n            }\r\n            return h(\"div\", re);\r\n          },\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 130,\r\n          align: \"center\",\r\n          fixed: \"right\",\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\r\n                \"Button\",\r\n                {\r\n                  props: {\r\n                    type: \"default\",\r\n                    size: \"small\",\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.chooseProcess(params.row);\r\n                    },\r\n                  },\r\n                },\r\n                \"选择流程\"\r\n              ),\r\n            ]);\r\n          },\r\n        },\r\n      ],\r\n      processData: [],\r\n      showType: \"thumb\",\r\n      selectList: [], // 多选数据\r\n      drop: false, // 搜索展开标识\r\n      dropDownContent: \"展开\", // 搜索展开标识文字\r\n      dropDownIcon: \"ios-arrow-down\", //搜索展开图标\r\n      searchForm: {\r\n        // 搜索框对应data对象\r\n        title: \"\",\r\n        status: \"\",\r\n        result: \"\",\r\n        pageNumber: 1, // 当前页数\r\n        pageSize: 10, // 页面大小\r\n        startDate: \"\",\r\n        endDate: \"\",\r\n        sort: \"createTime\", // 默认排序字段\r\n        order: \"desc\", // 默认排序方式\r\n      },\r\n      userLoading: false,\r\n      modalVisible: false, // 添加或编辑显示\r\n      selectDate: null,\r\n      form: {\r\n        sendMessage: true,\r\n        sendSms: true,\r\n        sendEmail: true,\r\n        procDefId: \"\",\r\n        assignees: [],\r\n        priority: \"0\",\r\n      },\r\n      formValidate: {\r\n        // 表单验证规则\r\n        procDefId: [{ required: true, message: \"不能为空\", trigger: \"change\" }],\r\n        priority: [{ required: true, message: \"不能为空\", trigger: \"change\" }],\r\n      },\r\n      submitLoading: false, // 添加或编辑提交状态\r\n      columns: [\r\n        // 表头\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\",\r\n        },\r\n        {\r\n          title: \"标题\",\r\n          key: \"title\",\r\n          minWidth: 150,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"所属流程\",\r\n          key: \"processName\",\r\n          minWidth: 150,\r\n          tooltip: true,\r\n          render: (h, params) => {\r\n            let text = \"\";\r\n            if (params.row.version) {\r\n              text = params.row.processName + \" - v.\" + params.row.version;\r\n            }\r\n            return h(\"div\", [h(\"span\", text)]);\r\n          },\r\n        },\r\n        {\r\n          title: \"当前审批环节\",\r\n          key: \"currTaskName\",\r\n          minWidth: 150,\r\n          tooltip: true,\r\n        },\r\n        {\r\n          title: \"状态\",\r\n          key: \"status\",\r\n          align: \"center\",\r\n          width: 120,\r\n          sortable: true,\r\n          render: (h, params) => {\r\n            let text = \"未知\",\r\n              color = \"\";\r\n            if (params.row.status == 0) {\r\n              text = \"草稿\";\r\n              color = \"default\";\r\n            } else if (params.row.status == 1) {\r\n              text = \"处理中\";\r\n              color = \"orange\";\r\n            } else if (params.row.status == 2) {\r\n              text = \"已结束\";\r\n              color = \"blue\";\r\n            } else if (params.row.status == 3) {\r\n              text = \"已撤回\";\r\n              color = \"magenta\";\r\n            }\r\n            return h(\"div\", [\r\n              h(\r\n                \"Tag\",\r\n                {\r\n                  props: {\r\n                    color: color,\r\n                  },\r\n                },\r\n                text\r\n              ),\r\n            ]);\r\n          },\r\n        },\r\n        {\r\n          title: \"结果\",\r\n          key: \"result\",\r\n          align: \"center\",\r\n          width: 120,\r\n          sortable: true,\r\n          render: (h, params) => {\r\n            let text = \"未知\",\r\n              color = \"\";\r\n            if (params.row.result == 0) {\r\n              text = \"未提交\";\r\n              color = \"default\";\r\n            } else if (params.row.result == 1) {\r\n              text = \"处理中\";\r\n              color = \"orange\";\r\n            } else if (params.row.result == 2) {\r\n              text = \"已通过\";\r\n              color = \"green\";\r\n            } else if (params.row.result == 3) {\r\n              text = \"已驳回\";\r\n              color = \"red\";\r\n            }\r\n            return h(\"div\", [\r\n              h(\r\n                \"Tag\",\r\n                {\r\n                  props: {\r\n                    color: color,\r\n                  },\r\n                },\r\n                text\r\n              ),\r\n            ]);\r\n          },\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          key: \"createTime\",\r\n          width: 180,\r\n          sortType: \"desc\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"提交申请时间\",\r\n          key: \"applyTime\",\r\n          width: 180,\r\n          sortable: true,\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          align: \"center\",\r\n          width: 250,\r\n          fixed: \"right\",\r\n          render: (h, params) => {\r\n            let re = \"\";\r\n            if (params.row.status == 0) {\r\n              re = [\r\n                h(\r\n                  \"a\",\r\n                  {\r\n                    on: {\r\n                      click: () => {\r\n                        this.apply(params.row);\r\n                      },\r\n                    },\r\n                  },\r\n                  \"提交申请\"\r\n                ),\r\n                h(\"Divider\", {\r\n                  props: {\r\n                    type: \"vertical\",\r\n                  },\r\n                }),\r\n                h(\r\n                  \"a\",\r\n                  {\r\n                    on: {\r\n                      click: () => {\r\n                        this.edit(params.row);\r\n                      },\r\n                    },\r\n                  },\r\n                  \"编辑\"\r\n                ),\r\n                h(\"Divider\", {\r\n                  props: {\r\n                    type: \"vertical\",\r\n                  },\r\n                }),\r\n                h(\r\n                  \"a\",\r\n                  {\r\n                    on: {\r\n                      click: () => {\r\n                        this.remove(params.row);\r\n                      },\r\n                    },\r\n                  },\r\n                  \"删除\"\r\n                ),\r\n              ];\r\n            } else if (params.row.status == 1) {\r\n              re = [\r\n                h(\r\n                  \"a\",\r\n                  {\r\n                    on: {\r\n                      click: () => {\r\n                        this.cancel(params.row);\r\n                      },\r\n                    },\r\n                  },\r\n                  \"撤回\"\r\n                ),\r\n                h(\"Divider\", {\r\n                  props: {\r\n                    type: \"vertical\",\r\n                  },\r\n                }),\r\n                h(\r\n                  \"a\",\r\n                  {\r\n                    on: {\r\n                      click: () => {\r\n                        this.history(params.row);\r\n                      },\r\n                    },\r\n                  },\r\n                  \"查看进度\"\r\n                ),\r\n                h(\"Divider\", {\r\n                  props: {\r\n                    type: \"vertical\",\r\n                  },\r\n                }),\r\n                h(\r\n                  \"a\",\r\n                  {\r\n                    on: {\r\n                      click: () => {\r\n                        this.detail(params.row);\r\n                      },\r\n                    },\r\n                  },\r\n                  \"表单数据\"\r\n                ),\r\n              ];\r\n            } else if (\r\n              (params.row.status == 2 && params.row.result == 3) ||\r\n              params.row.status == 3\r\n            ) {\r\n              re = [\r\n                h(\r\n                  \"a\",\r\n                  {\r\n                    on: {\r\n                      click: () => {\r\n                        this.apply(params.row);\r\n                      },\r\n                    },\r\n                  },\r\n                  \"重新申请\"\r\n                ),\r\n                h(\"Divider\", {\r\n                  props: {\r\n                    type: \"vertical\",\r\n                  },\r\n                }),\r\n                h(\r\n                  \"a\",\r\n                  {\r\n                    on: {\r\n                      click: () => {\r\n                        this.edit(params.row);\r\n                      },\r\n                    },\r\n                  },\r\n                  \"编辑\"\r\n                ),\r\n                h(\"Divider\", {\r\n                  props: {\r\n                    type: \"vertical\",\r\n                  },\r\n                }),\r\n                h(\r\n                  \"a\",\r\n                  {\r\n                    on: {\r\n                      click: () => {\r\n                        this.history(params.row);\r\n                      },\r\n                    },\r\n                  },\r\n                  \"审批历史\"\r\n                ),\r\n              ];\r\n            } else {\r\n              re = [\r\n                h(\r\n                  \"a\",\r\n                  {\r\n                    on: {\r\n                      click: () => {\r\n                        this.detail(params.row);\r\n                      },\r\n                    },\r\n                  },\r\n                  \"表单数据\"\r\n                ),\r\n                h(\"Divider\", {\r\n                  props: {\r\n                    type: \"vertical\",\r\n                  },\r\n                }),\r\n                h(\r\n                  \"a\",\r\n                  {\r\n                    on: {\r\n                      click: () => {\r\n                        this.history(params.row);\r\n                      },\r\n                    },\r\n                  },\r\n                  \"审批历史\"\r\n                ),\r\n              ];\r\n            }\r\n\r\n            return h(\"div\", re);\r\n          },\r\n        },\r\n      ],\r\n      data: [], // 表单数据\r\n      total: 0, // 表单数据总数\r\n      assigneeList: [],\r\n      userList: [],\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getDataList();\r\n      this.getProcessList();\r\n      this.initCategoryData();\r\n    },\r\n    getProcessList() {\r\n      this.processLoading = true;\r\n      getProcessDataList(this.searchProcessForm).then((res) => {\r\n        this.processLoading = false;\r\n        if (res.success) {\r\n          this.processData = res.result.content;\r\n        }\r\n      });\r\n    },\r\n    changeProcessPage(v) {\r\n      this.searchProcessForm.pageNumber = v;\r\n      this.getProcessList();\r\n    },\r\n    changeProcessPageSize(v) {\r\n      this.searchProcessForm.pageSize = v;\r\n      this.getProcessList();\r\n    },\r\n    searchProcess() {\r\n      this.searchProcessForm.pageNumber = 1;\r\n      this.getProcessList();\r\n    },\r\n    searchUser(v) {\r\n      if (!v) {\r\n        return;\r\n      }\r\n      this.userLoading = true;\r\n      searchUserByName(v).then((res) => {\r\n        this.userLoading = false;\r\n        if (res.success) {\r\n          this.userList = res.result;\r\n        }\r\n      });\r\n    },\r\n    initCategoryData() {\r\n      initActCategory().then((res) => {\r\n        if (res.success) {\r\n          res.result.forEach(function (e) {\r\n            if (e.isParent) {\r\n              e.value = e.id;\r\n              e.label = e.title;\r\n              e.loading = false;\r\n              e.children = [];\r\n            } else {\r\n              e.value = e.id;\r\n              e.label = e.title;\r\n            }\r\n            if (e.status == -1) {\r\n              e.label = \"[已禁用] \" + e.label;\r\n              e.disabled = true;\r\n            }\r\n          });\r\n          this.category = res.result;\r\n        }\r\n      });\r\n    },\r\n    loadData(item, callback) {\r\n      item.loading = true;\r\n      loadActCategory(item.value).then((res) => {\r\n        item.loading = false;\r\n        if (res.success) {\r\n          res.result.forEach(function (e) {\r\n            if (e.isParent) {\r\n              e.value = e.id;\r\n              e.label = e.title;\r\n              e.loading = false;\r\n              e.children = [];\r\n            } else {\r\n              e.value = e.id;\r\n              e.label = e.title;\r\n            }\r\n            if (e.status == -1) {\r\n              e.label = \"[已禁用] \" + e.label;\r\n              e.disabled = true;\r\n            }\r\n          });\r\n          item.children = res.result;\r\n          callback();\r\n        }\r\n      });\r\n    },\r\n    handleChangeCat(value, selectedData) {\r\n      let categoryId = \"\";\r\n      // 获取最后一个值\r\n      if (value && value.length > 0) {\r\n        categoryId = value[value.length - 1];\r\n      }\r\n      this.searchProcessForm.categoryId = categoryId;\r\n    },\r\n    dropDown() {\r\n      if (this.drop) {\r\n        this.dropDownContent = \"展开\";\r\n        this.dropDownIcon = \"ios-arrow-down\";\r\n      } else {\r\n        this.dropDownContent = \"收起\";\r\n        this.dropDownIcon = \"ios-arrow-up\";\r\n      }\r\n      this.drop = !this.drop;\r\n    },\r\n    changeSort(e) {\r\n      this.searchForm.sort = e.key;\r\n      this.searchForm.order = e.order;\r\n      if (e.order == \"normal\") {\r\n        this.searchForm.order = \"\";\r\n      }\r\n      this.getDataList();\r\n    },\r\n    changePage(v) {\r\n      this.searchForm.pageNumber = v;\r\n      this.getDataList();\r\n      this.clearSelectAll();\r\n    },\r\n    changePageSize(v) {\r\n      this.searchForm.pageSize = v;\r\n      this.getDataList();\r\n    },\r\n    selectDateRange(v) {\r\n      if (v) {\r\n        this.searchForm.startDate = v[0];\r\n        this.searchForm.endDate = v[1];\r\n      }\r\n    },\r\n    changeTableSize(v) {\r\n      this.tableSize = v;\r\n    },\r\n    exportData() {\r\n      this.$refs.table.exportCsv({\r\n        filename: \"数据\",\r\n      });\r\n    },\r\n    getDataList() {\r\n      this.loading = true;\r\n      // 避免后端默认值\r\n      if (!this.searchForm.status) {\r\n        this.searchForm.status = \" \";\r\n      }\r\n      if (!this.searchForm.result) {\r\n        this.searchForm.result = \" \";\r\n      }\r\n      getBusinessDataList(this.searchForm).then((res) => {\r\n        this.loading = false;\r\n        if (res.success) {\r\n          this.data = res.result.content;\r\n          this.total = res.result.totalElements;\r\n          if (this.data.length == 0 && this.searchForm.pageNumber > 1) {\r\n            this.searchForm.pageNumber -= 1;\r\n            this.getDataList();\r\n          }\r\n        }\r\n      });\r\n    },\r\n    handleSearch() {\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.getDataList();\r\n    },\r\n    handleReset() {\r\n      this.$refs.searchForm.resetFields();\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.selectDate = null;\r\n      this.searchForm.startDate = \"\";\r\n      this.searchForm.endDate = \"\";\r\n      // 重新加载数据\r\n      this.getDataList();\r\n    },\r\n    handelCancel() {\r\n      this.modalVisible = false;\r\n    },\r\n    handelSubmit() {\r\n      this.$refs.form.validate((valid) => {\r\n        if (valid) {\r\n          if (\r\n            (this.showAssign || this.isCustom) &&\r\n            this.form.assignees.length < 1\r\n          ) {\r\n            this.error = \"请至少选择一个审批人\";\r\n            return;\r\n          } else {\r\n            this.error = \"\";\r\n          }\r\n          this.submitLoading = true;\r\n          applyBusiness(this.form).then((res) => {\r\n            this.submitLoading = false;\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.getDataList();\r\n              this.modalVisible = false;\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    add() {\r\n      this.processModalVisible = true;\r\n    },\r\n    chooseProcess(v) {\r\n      if (!v.routeName) {\r\n        this.$Message.warning(\r\n          \"该流程信息未完善，请于流程管理中编辑流程完善信息\"\r\n        );\r\n        return;\r\n      }\r\n      this.processModalVisible = false;\r\n      let query = { type: 0, backRoute: this.$route.name, procDefId: v.id };\r\n      this.$router.push({\r\n        name: v.routeName,\r\n        query: query,\r\n      });\r\n    },\r\n    edit(v) {\r\n      if (!v.routeName) {\r\n        this.$Message.error(\"表单路由名为空\");\r\n        return;\r\n      }\r\n      let query = { type: 1, id: v.tableId, backRoute: this.$route.name };\r\n      this.$router.push({\r\n        name: v.routeName,\r\n        query: query,\r\n      });\r\n    },\r\n    detail(v) {\r\n      if (!v.routeName) {\r\n        this.$Message.error(\"表单路由名为空\");\r\n        return;\r\n      }\r\n      let query = { type: 2, id: v.tableId, backRoute: this.$route.name };\r\n      this.$router.push({\r\n        name: v.routeName,\r\n        query: query,\r\n      });\r\n    },\r\n    apply(v) {\r\n      if (!v.procDefId || v.procDefId == \"null\") {\r\n        this.$Message.error(\"流程定义为空\");\r\n        return;\r\n      }\r\n      this.form.id = v.id;\r\n      this.form.procDefId = v.procDefId;\r\n      this.form.title = v.title;\r\n      // 加载审批人\r\n      this.userLoading = true;\r\n      getFirstNode(v.procDefId).then((res) => {\r\n        this.userLoading = false;\r\n        if (res.success) {\r\n          this.error = \"\";\r\n          if (res.result.type == 3 || res.result.type == 4) {\r\n            this.isGateway = true;\r\n            this.form.firstGateway = true;\r\n            this.showAssign = false;\r\n            this.isCustom = false;\r\n            return;\r\n          }\r\n          if (res.result.type == 5) {\r\n            this.isCustom = true;\r\n            this.isGateway = false;\r\n            this.form.firstGateway = false;\r\n            this.showAssign = false;\r\n            return;\r\n          }\r\n          if (res.result.type == 1) {\r\n            this.showAssign = true;\r\n            this.isGateway = false;\r\n            this.form.firstGateway = false;\r\n            this.isCustom = false;\r\n            if (res.result.users && res.result.users.length > 0) {\r\n              this.assigneeList = res.result.users;\r\n              // 默认勾选\r\n              let ids = [];\r\n              res.result.users.forEach((e) => {\r\n                ids.push(e.id);\r\n              });\r\n              this.form.assignees = ids;\r\n              this.showAssign = true;\r\n            } else {\r\n              this.form.assignees = [];\r\n              this.showAssign = true;\r\n              this.error = '请进入\"流程管理\"为审批节点分配候选审批人员';\r\n            }\r\n          }\r\n        }\r\n      });\r\n      this.modalVisible = true;\r\n    },\r\n    cancel(v) {\r\n      this.cancelForm.id = v.id;\r\n      this.cancelForm.procInstId = v.procInstId;\r\n      this.modalCancelVisible = true;\r\n    },\r\n    handelSubmitCancel() {\r\n      this.submitLoading = true;\r\n      cancelApply(this.cancelForm).then((res) => {\r\n        this.submitLoading = false;\r\n        if (res.success) {\r\n          this.$Message.success(\"操作成功\");\r\n          this.getDataList();\r\n          this.modalCancelVisible = false;\r\n        }\r\n      });\r\n    },\r\n    history(v) {\r\n      if (!v.procInstId) {\r\n        this.$Message.error(\"流程实例ID不存在\");\r\n        return;\r\n      }\r\n      this.procInstId = v.procInstId;\r\n      this.showHistory = true;\r\n    },\r\n    remove(v) {\r\n      this.$Modal.confirm({\r\n        title: \"确认删除\",\r\n        // 记得确认修改此处\r\n        content: \"您确认要删除 \" + v.title + \" ?\",\r\n        loading: true,\r\n        onOk: () => {\r\n          // 删除\r\n          deleteBusiness({ ids: v.id }).then((res) => {\r\n            this.$Modal.remove();\r\n            if (res.success) {\r\n              this.clearSelectAll();\r\n              this.$Message.success(\"操作成功\");\r\n              this.getDataList();\r\n            }\r\n          });\r\n        },\r\n      });\r\n    },\r\n    showSelect(e) {\r\n      this.selectList = e;\r\n    },\r\n    clearSelectAll() {\r\n      this.$refs.table.selectAll(false);\r\n    },\r\n    delAll() {\r\n      if (this.selectList.length <= 0) {\r\n        this.$Message.warning(\"您还未选择要删除的数据\");\r\n        return;\r\n      }\r\n      this.$Modal.confirm({\r\n        title: \"确认删除\",\r\n        content: \"您确认要删除所选的 \" + this.selectList.length + \" 条数据?\",\r\n        loading: true,\r\n        onOk: () => {\r\n          let ids = \"\";\r\n          this.selectList.forEach(function (e) {\r\n            ids += e.id + \",\";\r\n          });\r\n          ids = ids.substring(0, ids.length - 1);\r\n          // 批量删除\r\n          deleteBusiness({ ids: ids }).then((res) => {\r\n            this.$Modal.remove();\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.clearSelectAll();\r\n              this.getDataList();\r\n            }\r\n          });\r\n        },\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    // 计算高度\r\n    this.maxHeight = Number(document.documentElement.clientHeight - 180);\r\n    this.init();\r\n  },\r\n  watch: {\r\n    // 监听路由变化\r\n    $route(to, from) {\r\n      if (to.name == \"apply-manage\") {\r\n        this.getDataList();\r\n        this.getProcessList();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>"]}]}