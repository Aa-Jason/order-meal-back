{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\main-components\\search.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\main-components\\search.vue","mtime":1651629755170},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\css-loader\\dist\\cjs.js","mtime":1651770028580},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1651770027142},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\postcss-loader\\src\\index.js","mtime":1651770027415},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\less-loader\\dist\\cjs.js","mtime":1651770042155},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnNlYXJjaC1tZW51IHsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICBkaXNwbGF5OiBmbGV4Ow0KICBoZWlnaHQ6IDYwcHg7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIHdpZHRoOiAyMDBweDsNCiAgLml2dS1pY29uIHsNCiAgICBmb250LXNpemU6IDIwcHg7DQogIH0NCiAgLmNsb3NlLWljb24gew0KICAgIGRpc3BsYXk6IG5vbmU7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICBjb2xvcjogIzgwODY5NTsNCiAgICByaWdodDogOHB4Ow0KICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgfQ0KICAmOmhvdmVyIHsNCiAgICAuY2xvc2UtaWNvbiB7DQogICAgICBkaXNwbGF5OiBibG9jazsNCiAgICB9DQogIH0NCiAgLml2dS1zZWxlY3Qtc2VsZWN0aW9uIHsNCiAgICBib3JkZXI6IG5vbmU7DQogICAgYm9yZGVyLWNvbG9yOiBub25lOw0KICAgIG91dGxpbmU6IDA7DQogICAgYm94LXNoYWRvdzogbm9uZTsNCiAgICBoZWlnaHQ6IDYwcHg7DQogIH0NCiAgLml2dS1zZWxlY3QtaGVhZC1mbGV4IHsNCiAgICBoZWlnaHQ6IDYwcHg7DQogIH0NCiAgLml2dS1zZWxlY3QtYXJyb3cgew0KICAgIGRpc3BsYXk6IG5vbmU7DQogIH0NCiAgLml2dS1zZWxlY3Qtc2VsZWN0aW9uLWZvY3VzZWQgLml2dS1zZWxlY3QtYXJyb3csDQogIC5pdnUtc2VsZWN0LXNlbGVjdGlvbjpob3ZlciAuaXZ1LXNlbGVjdC1hcnJvdyB7DQogICAgZGlzcGxheTogbm9uZTsNCiAgfQ0KICBpbnB1dDo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciB7DQogICAgY29sb3I6ICM5OTk7DQogIH0NCiAgaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXIgew0KICAgIGNvbG9yOiAjOTk5Ow0KICB9DQogIGlucHV0OjotbXMtaW5wdXQtcGxhY2Vob2xkZXIgew0KICAgIGNvbG9yOiAjOTk5Ow0KICB9DQp9DQoNCi5zZWFyY2gtbWVudS10aGVtZS1kYXJrYmx1ZSB7DQogIC5pdnUtaWNvbiB7DQogICAgY29sb3I6IGhzbGEoMCwgMCUsIDEwMCUsIDAuNjUpOw0KICB9DQogIC5pdnUtc2VsZWN0LXNlbGVjdGlvbiB7DQogICAgYmFja2dyb3VuZDogIzE3MjMzZDsNCiAgfQ0KICAuaXZ1LXNlbGVjdC1pbnB1dCB7DQogICAgY29sb3I6IGhzbGEoMCwgMCUsIDEwMCUsIDAuNjUpOw0KICB9DQogIGlucHV0Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyIHsNCiAgICBjb2xvcjogIzcwNzc4NjsNCiAgfQ0KICBpbnB1dDo6LW1vei1wbGFjZWhvbGRlciB7DQogICAgY29sb3I6ICM3MDc3ODY7DQogIH0NCiAgaW5wdXQ6Oi1tcy1pbnB1dC1wbGFjZWhvbGRlciB7DQogICAgY29sb3I6ICM3MDc3ODY7DQogIH0NCn0NCg0KLnNlYXJjaC1tZW51LXRoZW1lLXByaW1hcnkgew0KICAuaXZ1LWljb24gew0KICAgIGNvbG9yOiAjZmZmOw0KICB9DQogIC5pdnUtc2VsZWN0LXNlbGVjdGlvbiB7DQogICAgYmFja2dyb3VuZDogIzJkOGNmMDsNCiAgfQ0KICAuaXZ1LXNlbGVjdC1pbnB1dCB7DQogICAgY29sb3I6ICNmZmY7DQogIH0NCiAgaW5wdXQ6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIgew0KICAgIGNvbG9yOiByZ2IoMjMzLCAyMzMsIDIzMyk7DQogIH0NCiAgaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXIgew0KICAgIGNvbG9yOiByZ2IoMjMzLCAyMzMsIDIzMyk7DQogIH0NCiAgaW5wdXQ6Oi1tcy1pbnB1dC1wbGFjZWhvbGRlciB7DQogICAgY29sb3I6IHJnYigyMzMsIDIzMywgMjMzKTsNCiAgfQ0KfQ0KDQouc2VhcmNoLW1lbnUtdGhlbWUtYmxhY2sgew0KICAuaXZ1LWljb24gew0KICAgIGNvbG9yOiBoc2xhKDAsIDAlLCAxMDAlLCAwLjY1KTsNCiAgfQ0KICAuaXZ1LXNlbGVjdC1zZWxlY3Rpb24gew0KICAgIGJhY2tncm91bmQ6ICMxZjFmMWY7DQogIH0NCiAgLml2dS1zZWxlY3QtaW5wdXQgew0KICAgIGNvbG9yOiBoc2xhKDAsIDAlLCAxMDAlLCAwLjY1KTsNCiAgfQ0KICBpbnB1dDo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciB7DQogICAgY29sb3I6ICM3MDc3ODY7DQogIH0NCiAgaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXIgew0KICAgIGNvbG9yOiAjNzA3Nzg2Ow0KICB9DQogIGlucHV0OjotbXMtaW5wdXQtcGxhY2Vob2xkZXIgew0KICAgIGNvbG9yOiAjNzA3Nzg2Ow0KICB9DQp9DQoNCi5zZWFyY2gtZHJvcGRvd24gew0KICAuaXZ1LXNlbGVjdC1kcm9wZG93biB7DQogICAgcGFkZGluZzogOHB4IDE2cHg7DQogIH0NCiAgLnNlYXJjaC1zZWxlY3Qgew0KICAgIHdpZHRoOiAyNjVweDsNCiAgfQ0KfQ0K"},{"version":3,"sources":["search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"search.vue","sourceRoot":"src/views/main-components","sourcesContent":["<template>\r\n  <div>\r\n    <div\r\n      :class=\"`search-menu search-menu-theme-${theme}`\"\r\n      v-if=\"type == 'input'\"\r\n    >\r\n      <Select\r\n        v-model=\"key\"\r\n        prefix=\"ios-search\"\r\n        transfer\r\n        clearable\r\n        filterable\r\n        :placeholder=\"$t('searchMenu')\"\r\n        @on-change=\"changeMenu\"\r\n        ref=\"select\"\r\n      >\r\n        <Option v-for=\"(item, index) in list\" :value=\"item.name\" :key=\"index\">{{\r\n          item.title\r\n        }}</Option>\r\n      </Select>\r\n      <Icon\r\n        v-show=\"key\"\r\n        type=\"ios-close-circle\"\r\n        class=\"close-icon\"\r\n        @click=\"clear\"\r\n      />\r\n    </div>\r\n    <div class=\"search-dropdown\" v-else>\r\n      <Dropdown trigger=\"click\" placement=\"bottom-start\">\r\n        <div style=\"display: inline-block\">\r\n          <div class=\"header-right-icon header-action\">\r\n            <Icon type=\"ios-search\" :size=\"20\" />\r\n          </div>\r\n        </div>\r\n        <div slot=\"list\" class=\"search-select\">\r\n          <Select\r\n            v-model=\"key\"\r\n            prefix=\"ios-search\"\r\n            transfer\r\n            clearable\r\n            filterable\r\n            :placeholder=\"$t('searchMenu')\"\r\n            @on-change=\"changeMenu\"\r\n            ref=\"select\"\r\n          >\r\n            <Option\r\n              v-for=\"(item, index) in list\"\r\n              :value=\"item.name\"\r\n              :key=\"index\"\r\n              >{{ item.title }}</Option\r\n            >\r\n          </Select>\r\n        </div>\r\n      </Dropdown>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { getMenuList } from \"@/api/index\";\r\nexport default {\r\n  name: \"search\",\r\n  props: {\r\n    theme: {\r\n      type: String,\r\n      default: \"darkblue\",\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: \"input\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      key: \"\",\r\n      list: [],\r\n    };\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    init() {\r\n      let menuData = this.getStore(\"menuData\");\r\n      if (!menuData) {\r\n        // 第一次加载 读取数据\r\n        let accessToken = this.getStore(\"accessToken\");\r\n        // 加载菜单\r\n        axios\r\n          .get(getMenuList, { headers: { accessToken: accessToken } })\r\n          .then((res) => {\r\n            menuData = res.result;\r\n            this.list = this.getList(menuData);\r\n          });\r\n      } else {\r\n        menuData = JSON.parse(menuData);\r\n        this.list = this.getList(menuData);\r\n      }\r\n    },\r\n    getList(menuData) {\r\n      let list = [];\r\n      menuData.forEach(function (e) {\r\n        if (e.children && e.children.length > 0) {\r\n          // 1\r\n          e.children.forEach(function (c) {\r\n            if (c.children && c.children.length > 0) {\r\n              // 2\r\n              c.children.forEach(function (b) {\r\n                list.push({\r\n                  title: b.title,\r\n                  name: b.name,\r\n                });\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n      return list;\r\n    },\r\n    changeMenu(name) {\r\n      if (!name) {\r\n        return;\r\n      }\r\n      if (name == this.$route.name) {\r\n        this.$Message.warning(\"当前已在该页面菜单\");\r\n        return;\r\n      }\r\n      this.$router.push({\r\n        name: name,\r\n      });\r\n    },\r\n    clear() {\r\n      this.$refs.select.clearSingleSelect();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.search-menu {\r\n  position: relative;\r\n  display: flex;\r\n  height: 60px;\r\n  align-items: center;\r\n  width: 200px;\r\n  .ivu-icon {\r\n    font-size: 20px;\r\n  }\r\n  .close-icon {\r\n    display: none;\r\n    position: absolute;\r\n    font-size: 14px;\r\n    color: #808695;\r\n    right: 8px;\r\n    cursor: pointer;\r\n  }\r\n  &:hover {\r\n    .close-icon {\r\n      display: block;\r\n    }\r\n  }\r\n  .ivu-select-selection {\r\n    border: none;\r\n    border-color: none;\r\n    outline: 0;\r\n    box-shadow: none;\r\n    height: 60px;\r\n  }\r\n  .ivu-select-head-flex {\r\n    height: 60px;\r\n  }\r\n  .ivu-select-arrow {\r\n    display: none;\r\n  }\r\n  .ivu-select-selection-focused .ivu-select-arrow,\r\n  .ivu-select-selection:hover .ivu-select-arrow {\r\n    display: none;\r\n  }\r\n  input::-webkit-input-placeholder {\r\n    color: #999;\r\n  }\r\n  input::-moz-placeholder {\r\n    color: #999;\r\n  }\r\n  input::-ms-input-placeholder {\r\n    color: #999;\r\n  }\r\n}\r\n\r\n.search-menu-theme-darkblue {\r\n  .ivu-icon {\r\n    color: hsla(0, 0%, 100%, 0.65);\r\n  }\r\n  .ivu-select-selection {\r\n    background: #17233d;\r\n  }\r\n  .ivu-select-input {\r\n    color: hsla(0, 0%, 100%, 0.65);\r\n  }\r\n  input::-webkit-input-placeholder {\r\n    color: #707786;\r\n  }\r\n  input::-moz-placeholder {\r\n    color: #707786;\r\n  }\r\n  input::-ms-input-placeholder {\r\n    color: #707786;\r\n  }\r\n}\r\n\r\n.search-menu-theme-primary {\r\n  .ivu-icon {\r\n    color: #fff;\r\n  }\r\n  .ivu-select-selection {\r\n    background: #2d8cf0;\r\n  }\r\n  .ivu-select-input {\r\n    color: #fff;\r\n  }\r\n  input::-webkit-input-placeholder {\r\n    color: rgb(233, 233, 233);\r\n  }\r\n  input::-moz-placeholder {\r\n    color: rgb(233, 233, 233);\r\n  }\r\n  input::-ms-input-placeholder {\r\n    color: rgb(233, 233, 233);\r\n  }\r\n}\r\n\r\n.search-menu-theme-black {\r\n  .ivu-icon {\r\n    color: hsla(0, 0%, 100%, 0.65);\r\n  }\r\n  .ivu-select-selection {\r\n    background: #1f1f1f;\r\n  }\r\n  .ivu-select-input {\r\n    color: hsla(0, 0%, 100%, 0.65);\r\n  }\r\n  input::-webkit-input-placeholder {\r\n    color: #707786;\r\n  }\r\n  input::-moz-placeholder {\r\n    color: #707786;\r\n  }\r\n  input::-ms-input-placeholder {\r\n    color: #707786;\r\n  }\r\n}\r\n\r\n.search-dropdown {\r\n  .ivu-select-dropdown {\r\n    padding: 8px 16px;\r\n  }\r\n  .search-select {\r\n    width: 265px;\r\n  }\r\n}\r\n</style>\r\n"]}]}