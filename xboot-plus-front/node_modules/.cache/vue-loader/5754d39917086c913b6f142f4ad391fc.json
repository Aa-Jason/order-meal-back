{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\auto-chat\\setting\\setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\auto-chat\\setting\\setting.vue","mtime":1651629755151},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRBdXRvQ2hhdFNldCwgZWRpdEF1dG9DaGF0U2V0LCBnZXRPdGhlclNldCB9IGZyb20gIkAvYXBpL2luZGV4IjsNCmltcG9ydCBlZGl0b3IgZnJvbSAiQC92aWV3cy9teS1jb21wb25lbnRzL3hib290L2VkaXRvciI7DQppbXBvcnQgdXBsb2FkUGljSW5wdXQgZnJvbSAiQC92aWV3cy9teS1jb21wb25lbnRzL3hib290L3VwbG9hZC1waWMtaW5wdXQiOw0KaW1wb3J0IHZ1ZWRyYWdnYWJsZSBmcm9tICJ2dWVkcmFnZ2FibGUiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiY2hhdC1zZXR0aW5nIiwNCiAgY29tcG9uZW50czogew0KICAgIGVkaXRvciwNCiAgICB1cGxvYWRQaWNJbnB1dCwNCiAgICB2dWVkcmFnZ2FibGUsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRhYk5hbWU6ICJiYXNpYyIsDQogICAgICBsb2FkaW5nOiBmYWxzZSwgLy8g6KGo5Y2V5Yqg6L2954q25oCBDQogICAgICBzYXZlTG9hZGluZzogZmFsc2UsDQogICAgICBmb3JtOiB7DQogICAgICAgIG5vdGljZVR5cGU6ICIiDQogICAgICB9LA0KICAgICAgZm9ybVZhbGlkYXRlOiB7fSwNCiAgICAgIG1vZGFsVHlwZTogMCwgLy8g5re75Yqg5oiW57yW6L6R5qCH6K+GDQogICAgICBtb2RhbFZpc2libGU6IGZhbHNlLCAvLyDmt7vliqDmiJbnvJbovpHmmL7npLoNCiAgICAgIG1vZGFsVGl0bGU6ICIiLCAvLyDmt7vliqDmiJbnvJbovpHmoIfpopgNCiAgICAgIHJlcGx5Rm9ybTogew0KICAgICAgICBuYW1lOiAiIiwNCiAgICAgICAgaWNvbjogIiIsDQogICAgICAgIGlzSGlnaGxpZ2h0OiBmYWxzZSwNCiAgICAgICAgaXNOZXc6IGZhbHNlLA0KICAgICAgfSwNCiAgICAgIHJlcGx5Rm9ybVZhbGlkYXRlOiB7DQogICAgICAgIG5hbWU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH1dLA0KICAgICAgfSwNCiAgICAgIHRhZ0xpc3Q6IFtdLA0KICAgICAgZG9tYWluOiAiIiwNCiAgICAgIGRlbW9Vcmw6ICIiLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpbml0KCkgew0KICAgICAgdGhpcy5nZXREYXRhKCk7DQogICAgICB0aGlzLmluaXRVcmwoKTsNCiAgICB9LA0KICAgIGdldERhdGEoKSB7DQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOw0KICAgICAgZ2V0QXV0b0NoYXRTZXQoKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIGlmIChyZXMucmVzdWx0KSB7DQogICAgICAgICAgICAvLyDovazmjaJudWxs5Li6IiINCiAgICAgICAgICAgIGxldCB2ID0gcmVzLnJlc3VsdDsNCiAgICAgICAgICAgIGZvciAobGV0IGF0dHIgaW4gdikgew0KICAgICAgICAgICAgICBpZiAodlthdHRyXSA9PSBudWxsIHx8IHZbYXR0cl0gPT0gIm51bGwiKSB7DQogICAgICAgICAgICAgICAgdlthdHRyXSA9ICIiOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBsZXQgc3RyID0gSlNPTi5zdHJpbmdpZnkodik7DQogICAgICAgICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2Uoc3RyKTsNCiAgICAgICAgICAgIHRoaXMuZm9ybSA9IGRhdGE7DQogICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgIHJlcy5yZXN1bHQucXVpY2tSZXBsaWVzICYmDQogICAgICAgICAgICAgIHJlcy5yZXN1bHQucXVpY2tSZXBsaWVzLmxlbmd0aCA+PSAwICYmDQogICAgICAgICAgICAgIHJlcy5yZXN1bHQucXVpY2tSZXBsaWVzICE9ICJudWxsIg0KICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgIHRoaXMudGFnTGlzdCA9IEpTT04ucGFyc2UocmVzLnJlc3VsdC5xdWlja1JlcGxpZXMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBpbml0VXJsKCkgew0KICAgICAgZ2V0T3RoZXJTZXQoKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgaWYgKHJlcy5yZXN1bHQpIHsNCiAgICAgICAgICB0aGlzLmRvbWFpbiA9IHJlcy5yZXN1bHQuZG9tYWluOw0KICAgICAgICAgIHRoaXMuc2hvd0RlbW8oKTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBzaG93RGVtbyhwcmV2aWV3UEMpIHsNCiAgICAgIGlmICghdGhpcy5kb21haW4pIHsNCiAgICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7DQogICAgICAgICAgdGl0bGU6ICLmgqjov5jmnKrphY3nva7orr/pl67ln5/lkI0iLA0KICAgICAgICAgIGNvbnRlbnQ6DQogICAgICAgICAgICAi5oKo6L+Y5pyq6YWN572u5bqU55So6YOo572y6K6/6Zeu5Z+f5ZCN77yM5piv5ZCm546w5Zyo56uL5Y2z5Y676YWN572uP++8iOmFjee9ruWQjuivt+WIt+aWsOivpemhtemdou+8iSIsDQogICAgICAgICAgb25PazogKCkgPT4gew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgICAgICBuYW1lOiAic2V0dGluZyIsDQogICAgICAgICAgICAgIHF1ZXJ5OiB7IG5hbWU6ICJvdGhlciIgfSwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0sDQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICB0aGlzLmRlbW9VcmwgPSBgJHt0aGlzLmRvbWFpbn0vY2hhdC9jaGF0Lmh0bWw/YWNjZXNzVG9rZW49JHt0aGlzLmdldFN0b3JlKA0KICAgICAgICAiYWNjZXNzVG9rZW4iDQogICAgICApfSZ0aW1lPSR7bmV3IERhdGUoKX1gOw0KICAgICAgaWYgKHByZXZpZXdQQykgew0KICAgICAgICB3aW5kb3cub3Blbih0aGlzLmRlbW9VcmwpOw0KICAgICAgfQ0KICAgIH0sDQogICAgYWRkUXVpY2tSZXBseSgpIHsNCiAgICAgIHRoaXMubW9kYWxUeXBlID0gMDsNCiAgICAgIHRoaXMubW9kYWxUaXRsZSA9ICLmt7vliqDlv6vmjbfnn63or60iOw0KICAgICAgdGhpcy4kcmVmcy5yZXBseUZvcm0ucmVzZXRGaWVsZHMoKTsNCiAgICAgIHRoaXMubW9kYWxWaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICAgIGVkaXRRdWlja1JlcGx5KHYpIHsNCiAgICAgIHRoaXMubW9kYWxUeXBlID0gMTsNCiAgICAgIHRoaXMubW9kYWxUaXRsZSA9ICLnvJbovpHlv6vmjbfnn63or60iOw0KICAgICAgLy8g6L2s5o2ibnVsbOS4uiIiDQogICAgICBmb3IgKGxldCBhdHRyIGluIHYpIHsNCiAgICAgICAgaWYgKHZbYXR0cl0gPT0gbnVsbCkgew0KICAgICAgICAgIHZbYXR0cl0gPSAiIjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgbGV0IHN0ciA9IEpTT04uc3RyaW5naWZ5KHYpOw0KICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHN0cik7DQogICAgICB0aGlzLnJlcGx5Rm9ybSA9IGRhdGE7DQogICAgICB0aGlzLm1vZGFsVmlzaWJsZSA9IHRydWU7DQogICAgfSwNCiAgICBoYW5kbGVEZWxldGUodikgew0KICAgICAgdGhpcy50YWdMaXN0ID0gdGhpcy50YWdMaXN0LmZpbHRlcigoZSkgPT4gew0KICAgICAgICByZXR1cm4gZS5uYW1lICE9IHYubmFtZTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlU3VibWl0KCkgew0KICAgICAgdGhpcy4kcmVmcy5yZXBseUZvcm0udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIGlmICh0aGlzLm1vZGFsVHlwZSA9PSAwKSB7DQogICAgICAgICAgICAvLyDmt7vliqANCiAgICAgICAgICAgIHRoaXMudGFnTGlzdC5wdXNoKHsNCiAgICAgICAgICAgICAgaWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLA0KICAgICAgICAgICAgICBuYW1lOiB0aGlzLnJlcGx5Rm9ybS5uYW1lLA0KICAgICAgICAgICAgICBpY29uOiB0aGlzLnJlcGx5Rm9ybS5pY29uLA0KICAgICAgICAgICAgICBpc0hpZ2hsaWdodDogdGhpcy5yZXBseUZvcm0uaXNIaWdobGlnaHQsDQogICAgICAgICAgICAgIGlzTmV3OiB0aGlzLnJlcGx5Rm9ybS5pc05ldywNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy5tb2RhbFZpc2libGUgPSBmYWxzZTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8g57yW6L6RDQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGFnTGlzdC5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICBpZiAodGhpcy50YWdMaXN0W2ldLmlkID09IHRoaXMucmVwbHlGb3JtLmlkKSB7DQogICAgICAgICAgICAgICAgdGhpcy50YWdMaXN0W2ldID0gdGhpcy5yZXBseUZvcm07DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMubW9kYWxWaXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIHN1Ym1pdCgpIHsNCiAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IHRydWU7DQogICAgICB0aGlzLmZvcm0ucXVpY2tSZXBsaWVzID0gSlNPTi5zdHJpbmdpZnkodGhpcy50YWdMaXN0KTsNCiAgICAgIGVkaXRBdXRvQ2hhdFNldCh0aGlzLmZvcm0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip8iKTsNCiAgICAgICAgICB0aGlzLnNob3dEZW1vKCk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5pbml0KCk7DQogIH0sDQp9Ow0K"},{"version":3,"sources":["setting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"setting.vue","sourceRoot":"src/views/auto-chat/setting","sourcesContent":["<template>\r\n  <div>\r\n    <Card class=\"chat\">\r\n      <Row :gutter=\"20\">\r\n        <Col :md=\"24\" :lg=\"12\">\r\n          <div class=\"setting-content\">\r\n            <div class=\"setting-title\">智能助手页面配置</div>\r\n            <Tabs v-model=\"tabName\">\r\n              <TabPane label=\"基础配置\" name=\"basic\"></TabPane>\r\n              <TabPane label=\"输入框\" name=\"quick\"></TabPane>\r\n              <TabPane label=\"公告\" name=\"notice\"></TabPane>\r\n              <TabPane label=\"反馈\" name=\"feedback\"></TabPane>\r\n              <TabPane label=\"未知答复\" name=\"system\"></TabPane>\r\n            </Tabs>\r\n            <div style=\"position: relative\">\r\n              <Form\r\n                ref=\"emailForm\"\r\n                :model=\"form\"\r\n                :label-width=\"120\"\r\n                label-position=\"left\"\r\n                :rules=\"formValidate\"\r\n              >\r\n                <div v-show=\"tabName == 'basic'\">\r\n                  <FormItem label=\"对话框标题名称\" prop=\"title\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      v-model=\"form.title\"\r\n                      placeholder=\"请输入对话框标题名称\"\r\n                    />\r\n                  </FormItem>\r\n                  <FormItem label=\"机器人头像\" prop=\"avatar\" class=\"form-noheight\">\r\n                    <uploadPicInput v-model=\"form.avatar\" />\r\n                  </FormItem>\r\n                  <FormItem label=\"进入系统提示\" prop=\"sysMessage\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      v-model=\"form.sysMessage\"\r\n                      placeholder=\"请输入进入系统提示\"\r\n                    />\r\n                  </FormItem>\r\n                  <FormItem label=\"初始消息\" prop=\"welcomeMessage\">\r\n                    <Input\r\n                      type=\"textarea\"\r\n                      :rows=\"5\"\r\n                      v-model=\"form.welcomeMessage\"\r\n                      placeholder=\"请输入点踩后显示的文本\"\r\n                    />\r\n                  </FormItem>\r\n                  <FormItem label=\"初始富文本消息\" prop=\"initMessage\">\r\n                    <editor\r\n                      id=\"initMessage\"\r\n                      v-model=\"form.initMessage\"\r\n                      height=\"150\"\r\n                    />\r\n                  </FormItem>\r\n                </div>\r\n                <div v-show=\"tabName == 'quick'\">\r\n                  <FormItem label=\"输入框占位文本\" prop=\"placeholder\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      v-model=\"form.placeholder\"\r\n                      placeholder=\"请输入输入框占位文本\"\r\n                    />\r\n                  </FormItem>\r\n                  <FormItem label=\"快捷短语\" prop=\"quickReplies\">\r\n                    <vuedraggable\r\n                      :list=\"tagList\"\r\n                      :animation=\"200\"\r\n                      ghost-class=\"thumb-ghost\"\r\n                    >\r\n                      <Tag\r\n                        size=\"large\"\r\n                        closable\r\n                        v-for=\"(item, index) in tagList\"\r\n                        :key=\"index\"\r\n                        :color=\"item.isHighlight ? 'blue' : 'default'\"\r\n                        :class=\"{ 'ivu-close-color': item.isHighlight }\"\r\n                        @click.native=\"editQuickReply(item)\"\r\n                        @on-close=\"handleDelete(item)\"\r\n                        ><span v-if=\"item.icon\">[{{ item.icon }}] </span\r\n                        >{{ item.name }}</Tag\r\n                      >\r\n                    </vuedraggable>\r\n                    <div style=\"display: flex; align-items: center\">\r\n                      <Button\r\n                        icon=\"md-add\"\r\n                        type=\"dashed\"\r\n                        @click=\"addQuickReply\"\r\n                        style=\"margin-top: 5px\"\r\n                        >添加快捷短语</Button\r\n                      >\r\n                      <Tooltip\r\n                        content=\"点击短语可编辑，可拖拽交换顺序\"\r\n                        placement=\"right\"\r\n                        transfer\r\n                        max-width=\"280\"\r\n                        style=\"\r\n                          display: inline-block !important;\r\n                          padding-top: 5px;\r\n                        \"\r\n                      >\r\n                        <Icon\r\n                          type=\"md-help-circle\"\r\n                          size=\"20\"\r\n                          color=\"#c5c5c5\"\r\n                          style=\"margin-left: 10px; cursor: pointer\"\r\n                        />\r\n                      </Tooltip>\r\n                    </div>\r\n                  </FormItem>\r\n                </div>\r\n                <div v-show=\"tabName == 'notice'\">\r\n                  <FormItem label=\"公告开关\" prop=\"noticeType\">\r\n                    <i-switch\r\n                      v-model=\"form.noticeType\"\r\n                      :true-value=\"'richtext'\"\r\n                      :false-value=\"''\"\r\n                    >\r\n                      <span slot=\"open\">开</span>\r\n                      <span slot=\"close\">关</span>\r\n                    </i-switch>\r\n                    <Tooltip\r\n                      content=\"开启后将在PC端的右侧显示公告内容\"\r\n                      placement=\"right\"\r\n                      transfer\r\n                      max-width=\"280\"\r\n                      style=\"display: inline-block !important\"\r\n                    >\r\n                      <Icon\r\n                        type=\"md-help-circle\"\r\n                        size=\"20\"\r\n                        color=\"#c5c5c5\"\r\n                        style=\"margin-left: 10px; cursor: pointer\"\r\n                      />\r\n                    </Tooltip>\r\n                  </FormItem>\r\n                  <FormItem label=\"公告标题\" prop=\"noticeTitle\">\r\n                    <Input\r\n                      type=\"text\"\r\n                      v-model=\"form.noticeTitle\"\r\n                      placeholder=\"请输入公告标题\"\r\n                    />\r\n                  </FormItem>\r\n                  <FormItem label=\"公告内容\" prop=\"noticeContent\">\r\n                    <editor\r\n                      id=\"noticeContent\"\r\n                      v-model=\"form.noticeContent\"\r\n                      height=\"250\"\r\n                    />\r\n                  </FormItem>\r\n                </div>\r\n                <div v-show=\"tabName == 'feedback'\">\r\n                  <FormItem label=\"点赞后反馈文本\" prop=\"textOfGood\">\r\n                    <Input\r\n                      type=\"textarea\"\r\n                      :rows=\"5\"\r\n                      v-model=\"form.textOfGood\"\r\n                      placeholder=\"请输入点赞后显示的文本\"\r\n                    />\r\n                  </FormItem>\r\n                  <FormItem label=\"点踩后反馈文本\" prop=\"textOfBad\">\r\n                    <Input\r\n                      type=\"textarea\"\r\n                      :rows=\"5\"\r\n                      v-model=\"form.textOfBad\"\r\n                      placeholder=\"请输入点踩后显示的文本\"\r\n                    />\r\n                  </FormItem>\r\n                </div>\r\n                <div v-show=\"tabName == 'system'\">\r\n                  <FormItem label=\"未找到任何匹配回答的答复\" prop=\"noDataReply\">\r\n                    <editor\r\n                      id=\"noDataReply\"\r\n                      v-model=\"form.noDataReply\"\r\n                      height=\"250\"\r\n                    />\r\n                  </FormItem>\r\n                </div>\r\n                <FormItem>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    style=\"width: 100px\"\r\n                    :loading=\"saveLoading\"\r\n                    @click=\"submit\"\r\n                    >保存更改</Button\r\n                  >\r\n                </FormItem>\r\n              </Form>\r\n              <Spin fix v-if=\"loading\"></Spin>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col :md=\"24\" :lg=\"12\" class=\"iphone-content\">\r\n          <div\r\n            class=\"demo-model\"\r\n            :style=\"{\r\n              backgroundImage:\r\n                'url(' + require('@/assets/icon/iPhoneX.png') + ')',\r\n            }\"\r\n          >\r\n            <div class=\"model-content\">\r\n              <iframe\r\n                scrolling=\"auto\"\r\n                frameborder=\"0\"\r\n                :src=\"demoUrl\"\r\n                id=\"demo-modal\"\r\n                class=\"iframe\"\r\n              ></iframe>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n      <div class=\"preview-pc\" @click=\"showDemo(true)\">\r\n        <Icon type=\"md-desktop\" style=\"margin-right: 5px\" />预览PC版\r\n      </div>\r\n    </Card>\r\n\r\n    <Modal\r\n      :title=\"modalTitle\"\r\n      v-model=\"modalVisible\"\r\n      :mask-closable=\"false\"\r\n      :width=\"500\"\r\n    >\r\n      <Form\r\n        ref=\"replyForm\"\r\n        :model=\"replyForm\"\r\n        label-position=\"top\"\r\n        :rules=\"replyFormValidate\"\r\n      >\r\n        <FormItem label=\"快捷短语\" prop=\"name\">\r\n          <Input v-model=\"replyForm.name\" />\r\n        </FormItem>\r\n        <FormItem label=\"图标\" prop=\"icon\">\r\n          <Select filterable v-model=\"replyForm.icon\" clearable>\r\n            <Option value=\"alarm\">闹钟 alarm</Option>\r\n            <Option value=\"apps\">应用 apps</Option>\r\n            <Option value=\"bullhorn\">喇叭 bullhorn</Option>\r\n            <Option value=\"camera\">相机 camera</Option>\r\n            <Option value=\"cart\">购物车 cart</Option>\r\n            <Option value=\"close\">关闭 close</Option>\r\n            <Option value=\"check\">确认 check</Option>\r\n            <Option value=\"edit\">编辑 edit</Option>\r\n            <Option value=\"ellipsis-h\">更多 ellipsis-h</Option>\r\n            <Option value=\"file\">文件 file</Option>\r\n            <Option value=\"folder\">文件夹 folder</Option>\r\n            <Option value=\"home\">首页 home</Option>\r\n            <Option value=\"image\">图片 image</Option>\r\n            <Option value=\"info-circle\">提示 info-circle</Option>\r\n            <Option value=\"keyboard\">键盘 keyboard</Option>\r\n            <Option value=\"message\">消息 message</Option>\r\n            <Option value=\"mic\">麦克风 mic</Option>\r\n            <Option value=\"paper-plane\">发送 paper-plane</Option>\r\n            <Option value=\"plus\">加号 plus</Option>\r\n            <Option value=\"refresh\">刷新 refresh</Option>\r\n            <Option value=\"search\">搜索 search</Option>\r\n            <Option value=\"share\">分享 share</Option>\r\n            <Option value=\"smile\">笑脸 smile</Option>\r\n            <Option value=\"tel\">电话 tel</Option>\r\n            <Option value=\"thumbs-down\">点赞 thumbs-down</Option>\r\n            <Option value=\"thumbs-up\">点踩 thumbs-up</Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem label=\"高亮显示\" prop=\"isHighlight\">\r\n          <i-switch v-model=\"replyForm.isHighlight\">\r\n            <span slot=\"open\">开</span>\r\n            <span slot=\"close\">关</span>\r\n          </i-switch>\r\n        </FormItem>\r\n        <FormItem label=\"右上角红点\" prop=\"isNew\">\r\n          <i-switch v-model=\"replyForm.isNew\">\r\n            <span slot=\"open\">开</span>\r\n            <span slot=\"close\">关</span>\r\n          </i-switch>\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"modalVisible = false\">取消</Button>\r\n        <Button type=\"primary\" @click=\"handleSubmit\">提交</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAutoChatSet, editAutoChatSet, getOtherSet } from \"@/api/index\";\r\nimport editor from \"@/views/my-components/xboot/editor\";\r\nimport uploadPicInput from \"@/views/my-components/xboot/upload-pic-input\";\r\nimport vuedraggable from \"vuedraggable\";\r\nexport default {\r\n  name: \"chat-setting\",\r\n  components: {\r\n    editor,\r\n    uploadPicInput,\r\n    vuedraggable,\r\n  },\r\n  data() {\r\n    return {\r\n      tabName: \"basic\",\r\n      loading: false, // 表单加载状态\r\n      saveLoading: false,\r\n      form: {\r\n        noticeType: \"\"\r\n      },\r\n      formValidate: {},\r\n      modalType: 0, // 添加或编辑标识\r\n      modalVisible: false, // 添加或编辑显示\r\n      modalTitle: \"\", // 添加或编辑标题\r\n      replyForm: {\r\n        name: \"\",\r\n        icon: \"\",\r\n        isHighlight: false,\r\n        isNew: false,\r\n      },\r\n      replyFormValidate: {\r\n        name: [{ required: true, message: \"不能为空\", trigger: \"blur\" }],\r\n      },\r\n      tagList: [],\r\n      domain: \"\",\r\n      demoUrl: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getData();\r\n      this.initUrl();\r\n    },\r\n    getData() {\r\n      this.loading = true;\r\n      getAutoChatSet().then((res) => {\r\n        this.loading = false;\r\n        if (res.success) {\r\n          if (res.result) {\r\n            // 转换null为\"\"\r\n            let v = res.result;\r\n            for (let attr in v) {\r\n              if (v[attr] == null || v[attr] == \"null\") {\r\n                v[attr] = \"\";\r\n              }\r\n            }\r\n            let str = JSON.stringify(v);\r\n            let data = JSON.parse(str);\r\n            this.form = data;\r\n            if (\r\n              res.result.quickReplies &&\r\n              res.result.quickReplies.length >= 0 &&\r\n              res.result.quickReplies != \"null\"\r\n            ) {\r\n              this.tagList = JSON.parse(res.result.quickReplies);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n    initUrl() {\r\n      getOtherSet().then((res) => {\r\n        if (res.result) {\r\n          this.domain = res.result.domain;\r\n          this.showDemo();\r\n        }\r\n      });\r\n    },\r\n    showDemo(previewPC) {\r\n      if (!this.domain) {\r\n        this.$Modal.confirm({\r\n          title: \"您还未配置访问域名\",\r\n          content:\r\n            \"您还未配置应用部署访问域名，是否现在立即去配置?（配置后请刷新该页面）\",\r\n          onOk: () => {\r\n            this.$router.push({\r\n              name: \"setting\",\r\n              query: { name: \"other\" },\r\n            });\r\n          },\r\n        });\r\n        return;\r\n      }\r\n      this.demoUrl = `${this.domain}/chat/chat.html?accessToken=${this.getStore(\r\n        \"accessToken\"\r\n      )}&time=${new Date()}`;\r\n      if (previewPC) {\r\n        window.open(this.demoUrl);\r\n      }\r\n    },\r\n    addQuickReply() {\r\n      this.modalType = 0;\r\n      this.modalTitle = \"添加快捷短语\";\r\n      this.$refs.replyForm.resetFields();\r\n      this.modalVisible = true;\r\n    },\r\n    editQuickReply(v) {\r\n      this.modalType = 1;\r\n      this.modalTitle = \"编辑快捷短语\";\r\n      // 转换null为\"\"\r\n      for (let attr in v) {\r\n        if (v[attr] == null) {\r\n          v[attr] = \"\";\r\n        }\r\n      }\r\n      let str = JSON.stringify(v);\r\n      let data = JSON.parse(str);\r\n      this.replyForm = data;\r\n      this.modalVisible = true;\r\n    },\r\n    handleDelete(v) {\r\n      this.tagList = this.tagList.filter((e) => {\r\n        return e.name != v.name;\r\n      });\r\n    },\r\n    handleSubmit() {\r\n      this.$refs.replyForm.validate((valid) => {\r\n        if (valid) {\r\n          if (this.modalType == 0) {\r\n            // 添加\r\n            this.tagList.push({\r\n              id: new Date().getTime(),\r\n              name: this.replyForm.name,\r\n              icon: this.replyForm.icon,\r\n              isHighlight: this.replyForm.isHighlight,\r\n              isNew: this.replyForm.isNew,\r\n            });\r\n            this.modalVisible = false;\r\n          } else {\r\n            // 编辑\r\n            for (let i = 0; i < this.tagList.length; i++) {\r\n              if (this.tagList[i].id == this.replyForm.id) {\r\n                this.tagList[i] = this.replyForm;\r\n              }\r\n            }\r\n            this.modalVisible = false;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    submit() {\r\n      this.submitLoading = true;\r\n      this.form.quickReplies = JSON.stringify(this.tagList);\r\n      editAutoChatSet(this.form).then((res) => {\r\n        this.submitLoading = false;\r\n        if (res.success) {\r\n          this.$Message.success(\"操作成功\");\r\n          this.showDemo();\r\n        }\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.chat {\r\n  .setting-content {\r\n    padding: 5px 0 0 10px;\r\n    .setting-title {\r\n      font-size: 20px;\r\n      color: rgba(0, 0, 0, 0.85);\r\n      font-weight: 500;\r\n      margin-bottom: 25px;\r\n    }\r\n  }\r\n\r\n  .iphone-content {\r\n    display: flex;\r\n    justify-content: center;\r\n    padding: 10px 0;\r\n    .demo-model {\r\n      background-repeat: no-repeat;\r\n      background-size: 100%;\r\n      width: 360px;\r\n      height: 730px;\r\n      padding: 48px 13px 30px 13px;\r\n      .model-content {\r\n        box-sizing: border-box;\r\n        width: 100%;\r\n        height: 100%;\r\n        .iframe {\r\n          height: 100%;\r\n          width: 100%;\r\n          border-radius: 16px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .ivu-close-color {\r\n    .ivu-icon-ios-close {\r\n      color: #666 !important;\r\n    }\r\n  }\r\n}\r\n.preview-pc {\r\n  position: absolute;\r\n  z-index: 999;\r\n  right: 40px;\r\n  bottom: 50px;\r\n  background-color: #fff;\r\n  width: 150px;\r\n  height: 44px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 22px;\r\n  color: rgba(0, 0, 0, 0.87);\r\n  cursor: pointer;\r\n  -webkit-box-shadow: 0 12px 12px 0 rgba(9, 7, 7, 0.03),\r\n    0 8px 4px 0 rgba(0, 0, 0, 0.04);\r\n  box-shadow: 0 12px 12px 0 rgba(9, 7, 7, 0.03), 0 8px 4px 0 rgba(0, 0, 0, 0.04);\r\n  &:hover {\r\n    color: #2d8cf0;\r\n    background: #fafafa;\r\n  }\r\n}\r\n</style>"]}]}