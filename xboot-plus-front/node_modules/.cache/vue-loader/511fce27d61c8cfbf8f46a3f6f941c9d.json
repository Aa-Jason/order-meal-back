{"remainingRequest":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\activiti\\process-manage\\processNodeEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\src\\views\\activiti\\process-manage\\processNodeEdit.vue","mtime":1651629755143},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1651770037115},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651770036753},{"path":"D:\\work\\workspace\\order\\xboot-plus-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1651770027133}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBnZXRQcm9jZXNzTm9kZSwNCiAgZWRpdFN0YXJ0VXNlciwNCiAgZWRpdE5vZGVVc2VyLA0KICB1cGRhdGVJbmZvLA0KICBpbml0QWN0Q2F0ZWdvcnksDQogIGxvYWRBY3RDYXRlZ29yeSwNCiAgc2VhcmNoQWN0Q2F0ZWdvcnksDQp9IGZyb20gIkAvYXBpL2FjdGl2aXRpIjsNCmltcG9ydCB7IGdldEFsbFJvbGVMaXN0LCBnZXREaWN0RGF0YUJ5VHlwZSB9IGZyb20gIkAvYXBpL2luZGV4IjsNCmltcG9ydCB1c2VyQ2hvb3NlIGZyb20gIkAvdmlld3MvbXktY29tcG9uZW50cy94Ym9vdC91c2VyLWNob29zZSI7DQppbXBvcnQgZGVwYXJ0bWVudFRyZWVDaG9vc2UgZnJvbSAiQC92aWV3cy9teS1jb21wb25lbnRzL3hib290L2RlcGFydG1lbnQtdHJlZS1jaG9vc2UiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAicHJvY2Vzc19ub2RlX2VkaXQiLA0KICBjb21wb25lbnRzOiB7DQogICAgdXNlckNob29zZSwNCiAgICBkZXBhcnRtZW50VHJlZUNob29zZSwNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBub2RlRWRpdERhdGE6IE9iamVjdCwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbG9hZGluZzogZmFsc2UsIC8vIOihqOWNleWKoOi9veeKtuaAgQ0KICAgICAgbm9kZUxvYWRpbmc6IGZhbHNlLA0KICAgICAgZGF0YTogW10sDQogICAgICBlZGl0VGl0bGU6ICIiLA0KICAgICAgc2VsZWN0VXNlcnM6IFtdLA0KICAgICAgZGF0YUNhdDogW10sDQogICAgICBjYXRMb2FkaW5nOiBmYWxzZSwNCiAgICAgIHNlYXJjaEtleTogIiIsDQogICAgICBiYXNpY0Zvcm06IHsNCiAgICAgICAgcm91dGVOYW1lOiAiIiwNCiAgICAgICAgYnVzaW5lc3NUYWJsZTogIiIsDQogICAgICAgIGRlc2NyaXB0aW9uOiAiIiwNCiAgICAgIH0sDQogICAgICBmb3JtVmFsaWRhdGU6IHsNCiAgICAgICAgcm91dGVOYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJjaGFuZ2UiIH1dLA0KICAgICAgICBidXNpbmVzc1RhYmxlOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJjaGFuZ2UiIH0sDQogICAgICAgIF0sDQogICAgICB9LA0KICAgICAgY2F0ZWdvcnlUaXRsZTogIiIsDQogICAgICBkaWN0VGFibGU6IFtdLA0KICAgICAgZGljdEZvcm06IFtdLA0KICAgICAgZm9ybTogew0KICAgICAgICAvLyDmt7vliqDmiJbnvJbovpHooajljZXlr7nosaHliJ3lp4vljJbmlbDmja4NCiAgICAgICAgdGl0bGU6ICIiLA0KICAgICAgICBjb250ZW50OiAiIiwNCiAgICAgICAgdHlwZTogbnVsbCwNCiAgICAgICAgcm9sZXM6IFtdLA0KICAgICAgICBkZXBhcnRtZW50SWRzOiBbXSwNCiAgICAgICAgY2hvb3NlRGVwSGVhZGVyOiBmYWxzZSwNCiAgICAgICAgY3VzdG9tVXNlcjogZmFsc2UsDQogICAgICB9LA0KICAgICAgcm9sZUxpc3Q6IFtdLA0KICAgICAgc3VibWl0TG9hZGluZzogZmFsc2UsIC8vIOa3u+WKoOaIlue8lui+keaPkOS6pOeKtuaAgQ0KICAgICAgY2hvb3NlUm9sZTogZmFsc2UsDQogICAgICBjaG9vc2VVc2VyOiBmYWxzZSwNCiAgICAgIGNob29zZURlcGFydG1lbnQ6IGZhbHNlLA0KICAgICAgYWxsVXNlcjogdHJ1ZSwNCiAgICAgIGN1cnJlbnQ6IDAsDQogICAgICBkaWN0Tm9kZVR5cGU6IFtdLA0KICAgICAgcHJvY2Vzc05hbWU6ICIiLA0KICAgICAgcHJvY2Vzc0lkOiAiIiwNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdCgpIHsNCiAgICAgIHRoaXMuZ2V0RGljdERhdGFUeXBlKCk7DQogICAgICB0aGlzLmdldFJvbGVMaXN0KCk7DQogICAgICB0aGlzLmluaXRDYXRlZ29yeVRyZWVEYXRhKCk7DQogICAgICB0aGlzLnByb2Nlc3NJZCA9IHRoaXMubm9kZUVkaXREYXRhLmlkOw0KICAgICAgdGhpcy5wcm9jZXNzTmFtZSA9IHRoaXMubm9kZUVkaXREYXRhLm5hbWU7DQogICAgICB0aGlzLmJhc2ljRm9ybS5pZCA9IHRoaXMubm9kZUVkaXREYXRhLmlkOw0KICAgICAgdGhpcy5iYXNpY0Zvcm0ucm91dGVOYW1lID0gdGhpcy5ub2RlRWRpdERhdGEucm91dGVOYW1lOw0KICAgICAgdGhpcy5iYXNpY0Zvcm0uYnVzaW5lc3NUYWJsZSA9IHRoaXMubm9kZUVkaXREYXRhLmJ1c2luZXNzVGFibGU7DQogICAgICB0aGlzLmJhc2ljRm9ybS5kZXNjcmlwdGlvbiA9IHRoaXMubm9kZUVkaXREYXRhLmRlc2NyaXB0aW9uOw0KICAgICAgdGhpcy5iYXNpY0Zvcm0uY2F0ZWdvcnlJZCA9IHRoaXMubm9kZUVkaXREYXRhLmNhdGVnb3J5SWQ7DQogICAgICB0aGlzLmNhdGVnb3J5VGl0bGUgPSB0aGlzLm5vZGVFZGl0RGF0YS5jYXRlZ29yeVRpdGxlOw0KICAgICAgbGV0IGFsbFVzZXIgPSB0aGlzLm5vZGVFZGl0RGF0YS5hbGxVc2VyICsgIiI7DQogICAgICBpZiAoYWxsVXNlciA9PSAiZmFsc2UiKSB7DQogICAgICAgIHRoaXMuYWxsVXNlciA9IGZhbHNlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5hbGxVc2VyID0gdHJ1ZTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldERpY3REYXRhVHlwZSgpIHsNCiAgICAgIGdldERpY3REYXRhQnlUeXBlKCJwcm9jZXNzX25vZGVfdHlwZSIpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLmRpY3ROb2RlVHlwZSA9IHJlcy5yZXN1bHQ7DQogICAgICAgICAgdGhpcy5nZXREYXRhKCk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgZ2V0RGljdERhdGFCeVR5cGUoImJ1c2luZXNzX3RhYmxlIikudGhlbigocmVzKSA9PiB7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIHRoaXMuZGljdFRhYmxlID0gcmVzLnJlc3VsdDsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgICBnZXREaWN0RGF0YUJ5VHlwZSgiYnVzaW5lc3NfZm9ybSIpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLmRpY3RGb3JtID0gcmVzLnJlc3VsdDsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICByZW5kZXJDYXRDb250ZW50KGgsIHsgcm9vdCwgbm9kZSwgZGF0YSB9KSB7DQogICAgICBsZXQgaWNvbiA9ICIiOw0KICAgICAgaWYgKGRhdGEudHlwZSA9PSAiMCIpIHsNCiAgICAgICAgaWNvbiA9ICJtZC1mb2xkZXItb3BlbiI7DQogICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PSAiMSIpIHsNCiAgICAgICAgaWNvbiA9ICJpb3MtYm9va21hcmstb3V0bGluZSI7DQogICAgICB9DQogICAgICByZXR1cm4gaCgNCiAgICAgICAgInNwYW4iLA0KICAgICAgICB7DQogICAgICAgICAgc3R5bGU6IHsNCiAgICAgICAgICAgIGRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLA0KICAgICAgICAgICAgY3Vyc29yOiAicG9pbnRlciIsDQogICAgICAgICAgfSwNCiAgICAgICAgICBvbjogew0KICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RDYXRUcmVlKGRhdGEpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LA0KICAgICAgICB9LA0KICAgICAgICBbDQogICAgICAgICAgaCgic3BhbiIsIFsNCiAgICAgICAgICAgIGgoIkljb24iLCB7DQogICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgdHlwZTogaWNvbiwNCiAgICAgICAgICAgICAgICBzaXplOiAiMTYiLA0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICBzdHlsZTogew0KICAgICAgICAgICAgICAgICJtYXJnaW4tcmlnaHQiOiAiOHB4IiwNCiAgICAgICAgICAgICAgICAibWFyZ2luLWJvdHRvbSI6ICIzcHgiLA0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICBoKCJzcGFuIiwgZGF0YS50aXRsZSksDQogICAgICAgICAgXSksDQogICAgICAgIF0NCiAgICAgICk7DQogICAgfSwNCiAgICBpbml0Q2F0ZWdvcnlUcmVlRGF0YSgpIHsNCiAgICAgIGluaXRBY3RDYXRlZ29yeSgpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICByZXMucmVzdWx0LmZvckVhY2goZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgICAgIGlmIChlLmlzUGFyZW50KSB7DQogICAgICAgICAgICAgIGUubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICBlLmNoaWxkcmVuID0gW107DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoZS5zdGF0dXMgPT0gLTEpIHsNCiAgICAgICAgICAgICAgZS50aXRsZSA9ICJb5bey56aB55SoXSAiICsgZS50aXRsZTsNCiAgICAgICAgICAgICAgZS5kaXNhYmxlZCA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy5kYXRhQ2F0ID0gcmVzLnJlc3VsdDsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBsb2FkRGF0YVRyZWUoaXRlbSwgY2FsbGJhY2spIHsNCiAgICAgIGxvYWRBY3RDYXRlZ29yeShpdGVtLmlkKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgcmVzLnJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7DQogICAgICAgICAgICBpZiAoZS5pc1BhcmVudCkgew0KICAgICAgICAgICAgICBlLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgZS5jaGlsZHJlbiA9IFtdOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGUuc3RhdHVzID09IC0xKSB7DQogICAgICAgICAgICAgIGUudGl0bGUgPSAiW+W3suemgeeUqF0gIiArIGUudGl0bGU7DQogICAgICAgICAgICAgIGUuZGlzYWJsZWQgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGNhbGxiYWNrKHJlcy5yZXN1bHQpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIHNlYXJjaENhdCgpIHsNCiAgICAgIC8vIOaQnOe0oumDqOmXqA0KICAgICAgaWYgKHRoaXMuc2VhcmNoS2V5KSB7DQogICAgICAgIHRoaXMuY2F0TG9hZGluZyA9IHRydWU7DQogICAgICAgIHNlYXJjaEFjdENhdGVnb3J5KHsgdGl0bGU6IHRoaXMuc2VhcmNoS2V5IH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIHRoaXMuY2F0TG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgcmVzLnJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7DQogICAgICAgICAgICAgIGlmIChlLnN0YXR1cyA9PSAtMSkgew0KICAgICAgICAgICAgICAgIGUudGl0bGUgPSAiW+W3suemgeeUqF0gIiArIGUudGl0bGU7DQogICAgICAgICAgICAgICAgZS5kaXNhYmxlZCA9IHRydWU7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy5kYXRhQ2F0ID0gcmVzLnJlc3VsdDsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5pbml0Q2F0ZWdvcnlUcmVlRGF0YSgpOw0KICAgICAgfQ0KICAgIH0sDQogICAgc2VsZWN0Q2F0VHJlZSh2KSB7DQogICAgICBpZiAodikgew0KICAgICAgICAvLyDovazmjaJudWxs5Li6IiINCiAgICAgICAgZm9yIChsZXQgYXR0ciBpbiB2KSB7DQogICAgICAgICAgaWYgKHZbYXR0cl0gPT0gbnVsbCkgew0KICAgICAgICAgICAgdlthdHRyXSA9ICIiOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBsZXQgc3RyID0gSlNPTi5zdHJpbmdpZnkodik7DQogICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShzdHIpOw0KICAgICAgICBpZiAoZGF0YS50eXBlID09IDApIHsNCiAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuivt+mAieaLqeS4gOS4quexu+WIqyIpOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmJhc2ljRm9ybS5jYXRlZ29yeUlkID0gZGF0YS5pZDsNCiAgICAgICAgdGhpcy5jYXRlZ29yeVRpdGxlID0gZGF0YS50aXRsZTsNCiAgICAgICAgdGhpcy5oYW5kZWxTdWJtaXRFZGl0KCk7DQogICAgICB9DQogICAgfSwNCiAgICBjbGVhclNlbGVjdENhdCgpIHsNCiAgICAgIHRoaXMuYmFzaWNGb3JtLmNhdGVnb3J5SWQgPSAiIjsNCiAgICAgIHRoaXMuY2F0ZWdvcnlUaXRsZSA9ICIiOw0KICAgICAgdGhpcy5oYW5kZWxTdWJtaXRFZGl0KCk7DQogICAgfSwNCiAgICBoYW5kZWxTdWJtaXRFZGl0KCkgew0KICAgICAgdGhpcy4kcmVmcy5iYXNpY0Zvcm0udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIHVwZGF0ZUluZm8odGhpcy5iYXNpY0Zvcm0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7DQogICAgICAgICAgICAgIHRoaXMuJGVtaXQoInN1Ym1pdGVkIiwgdHJ1ZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgZ2V0Um9sZUxpc3QoKSB7DQogICAgICBnZXRBbGxSb2xlTGlzdCgpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICB0aGlzLnJvbGVMaXN0ID0gcmVzLnJlc3VsdDsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBnZXREYXRhKCkgew0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIGdldFByb2Nlc3NOb2RlKHRoaXMucHJvY2Vzc0lkKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgIC8vIOi9rOaNom51bGzkuLoiIg0KICAgICAgICAgIGxldCB2ID0gcmVzLnJlc3VsdDsNCiAgICAgICAgICBmb3IgKGxldCBhdHRyIGluIHYpIHsNCiAgICAgICAgICAgIGlmICh2W2F0dHJdID09IG51bGwpIHsNCiAgICAgICAgICAgICAgdlthdHRyXSA9ICIiOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICBsZXQgc3RyID0gSlNPTi5zdHJpbmdpZnkodik7DQogICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHN0cik7DQogICAgICAgICAgZGF0YS5mb3JFYWNoKChlKSA9PiB7DQogICAgICAgICAgICB0aGlzLmRpY3ROb2RlVHlwZS5mb3JFYWNoKCh0KSA9PiB7DQogICAgICAgICAgICAgIHQudmFsdWUgPSBOdW1iZXIodC52YWx1ZSk7DQogICAgICAgICAgICAgIGlmICghZS50aXRsZSAmJiBlLnR5cGUgPT0gdC52YWx1ZSkgew0KICAgICAgICAgICAgICAgIGUudGl0bGUgPSB0LnRpdGxlOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIHJlbmRlckNvbnRlbnQoaCwgeyByb290LCBub2RlLCBkYXRhIH0pIHsNCiAgICAgIGxldCBjb2xvciA9ICIiLA0KICAgICAgICB3b3JkID0gIiIsDQogICAgICAgIHRpdGxlID0gZGF0YS50aXRsZTsNCiAgICAgIGlmIChkYXRhLnR5cGUgPT0gMCkgew0KICAgICAgICBjb2xvciA9ICIjNDdjYjg5IjsNCiAgICAgICAgd29yZCA9ICLlvIAiOw0KICAgICAgICB0aXRsZSA9IHRpdGxlICsgIuOAkOiwgeWPr+S7peWPkei1t+OAkSI7DQogICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PSAxKSB7DQogICAgICAgIGNvbG9yID0gIiMyZGI3ZjUiOw0KICAgICAgICB3b3JkID0gIuWuoSI7DQogICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PSAyKSB7DQogICAgICAgIHdvcmQgPSAi57uTIjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNvbG9yID0gIiNmOTAiOw0KICAgICAgICB3b3JkID0gIuWFtuS7liI7DQogICAgICB9DQogICAgICByZXR1cm4gaCgic3BhbiIsIFsNCiAgICAgICAgaCgic3BhbiIsIFsNCiAgICAgICAgICBoKA0KICAgICAgICAgICAgIkF2YXRhciIsDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgc2l6ZTogInNtYWxsIiwNCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgc3R5bGU6IHsNCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvciwNCiAgICAgICAgICAgICAgICAibWFyZ2luLXJpZ2h0IjogIjVweCIsDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgd29yZA0KICAgICAgICAgICksDQogICAgICAgICAgaCgic3BhbiIsIHRpdGxlKSwNCiAgICAgICAgXSksDQogICAgICBdKTsNCiAgICB9LA0KICAgIHNlbGVjdFRyZWUodikgew0KICAgICAgaWYgKHYubGVuZ3RoID4gMCkgew0KICAgICAgICAvLyDovazmjaJudWxs5Li6IiINCiAgICAgICAgZm9yIChsZXQgYXR0ciBpbiB2WzBdKSB7DQogICAgICAgICAgaWYgKHZbMF1bYXR0cl0gPT0gbnVsbCkgew0KICAgICAgICAgICAgdlswXVthdHRyXSA9ICIiOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBsZXQgc3RyID0gSlNPTi5zdHJpbmdpZnkodlswXSk7DQogICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShzdHIpOw0KICAgICAgICB0aGlzLmVkaXRUaXRsZSA9IGRhdGEudGl0bGU7DQogICAgICAgIC8vIOWbnuaYvueUqOaItw0KICAgICAgICBpZiAoZGF0YS51c2VycyAmJiBkYXRhLnVzZXJzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICB0aGlzLmNob29zZVVzZXIgPSB0cnVlOw0KICAgICAgICAgIHRoaXMuc2VsZWN0VXNlcnMgPSBkYXRhLnVzZXJzOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuY2hvb3NlVXNlciA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMuc2VsZWN0VXNlcnMgPSBbXTsNCiAgICAgICAgfQ0KICAgICAgICAvLyDlm57mmL7op5LoibINCiAgICAgICAgaWYgKGRhdGEucm9sZXMgJiYgZGF0YS5yb2xlcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgdGhpcy5jaG9vc2VSb2xlID0gdHJ1ZTsNCiAgICAgICAgICBsZXQgcm9sZUlkcyA9IFtdOw0KICAgICAgICAgIGRhdGEucm9sZXMuZm9yRWFjaCgoZSkgPT4gew0KICAgICAgICAgICAgcm9sZUlkcy5wdXNoKGUuaWQpOw0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGRhdGEucm9sZXMgPSByb2xlSWRzOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuY2hvb3NlUm9sZSA9IGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIC8vIOWbnuaYvumDqOmXqA0KICAgICAgICBpZiAoZGF0YS5kZXBhcnRtZW50cyAmJiBkYXRhLmRlcGFydG1lbnRzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICB0aGlzLmNob29zZURlcGFydG1lbnQgPSB0cnVlOw0KICAgICAgICAgIGxldCBkZXBhcnRtZW50SWRzID0gW10sDQogICAgICAgICAgICB0aXRsZSA9ICIiOw0KICAgICAgICAgIGRhdGEuZGVwYXJ0bWVudHMuZm9yRWFjaCgoZSkgPT4gew0KICAgICAgICAgICAgZGVwYXJ0bWVudElkcy5wdXNoKGUuaWQpOw0KICAgICAgICAgICAgaWYgKHRpdGxlID09ICIiKSB7DQogICAgICAgICAgICAgIHRpdGxlID0gZS50aXRsZTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRpdGxlID0gdGl0bGUgKyAi44CBIiArIGUudGl0bGU7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy4kcmVmcy5kZXBUcmVlLnNldERhdGEoZGVwYXJ0bWVudElkcywgdGl0bGUpOw0KICAgICAgICAgIGRhdGEuZGVwYXJ0bWVudElkcyA9IGRlcGFydG1lbnRJZHM7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5jaG9vc2VEZXBhcnRtZW50ID0gZmFsc2U7DQogICAgICAgICAgdGhpcy4kcmVmcy5kZXBUcmVlLnNldERhdGEoW10sICIiKTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmZvcm0gPSBkYXRhOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5jYW5jZWxFZGl0KCk7DQogICAgICB9DQogICAgfSwNCiAgICBjYW5jZWxFZGl0KCkgew0KICAgICAgbGV0IGRhdGEgPSB0aGlzLiRyZWZzLnRyZWUuZ2V0U2VsZWN0ZWROb2RlcygpWzBdOw0KICAgICAgaWYgKGRhdGEpIHsNCiAgICAgICAgZGF0YS5zZWxlY3RlZCA9IGZhbHNlOw0KICAgICAgfQ0KICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0RmllbGRzKCk7DQogICAgICB0aGlzLmZvcm0uaWQgPSAiIjsNCiAgICAgIGRlbGV0ZSB0aGlzLmZvcm0uaWQ7DQogICAgICB0aGlzLmVkaXRUaXRsZSA9ICIiOw0KICAgIH0sDQogICAgaGFuZGVsU3VibWl0KCkgew0KICAgICAgdGhpcy5zdWJtaXRMb2FkaW5nID0gdHJ1ZTsNCiAgICAgIC8vIOeUqOaIt2lk5pWw5o2uDQogICAgICBsZXQgaWRzID0gW107DQogICAgICB0aGlzLnNlbGVjdFVzZXJzLmZvckVhY2goKGUpID0+IHsNCiAgICAgICAgaWRzICs9IGUuaWQgKyAiLCI7DQogICAgICB9KTsNCiAgICAgIGlmIChpZHMubGVuZ3RoID4gMCkgew0KICAgICAgICBpZHMgPSBpZHMuc3Vic3RyaW5nKDAsIGlkcy5sZW5ndGggLSAxKTsNCiAgICAgIH0NCiAgICAgIHRoaXMuZm9ybS5ub2RlSWQgPSB0aGlzLmZvcm0uaWQ7DQogICAgICBpZiAodGhpcy5jaG9vc2VVc2VyKSB7DQogICAgICAgIGlmIChpZHMgJiYgaWRzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICB0aGlzLmZvcm0udXNlcklkcyA9IGlkczsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuY2hvb3NlUm9sZSkgew0KICAgICAgICBpZiAodGhpcy5mb3JtLnJvbGVzICYmIHRoaXMuZm9ybS5yb2xlcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgdGhpcy5mb3JtLnJvbGVJZHMgPSB0aGlzLmZvcm0ucm9sZXM7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLmZvcm0udHlwZSA9PSAwKSB7DQogICAgICAgIHRoaXMuZm9ybS5ub2RlSWQgPSB0aGlzLnByb2Nlc3NJZDsNCiAgICAgICAgdGhpcy5mb3JtLmFsbFVzZXIgPSB0aGlzLmFsbFVzZXI7DQogICAgICAgIGVkaXRTdGFydFVzZXIodGhpcy5mb3JtKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7DQogICAgICAgICAgICB0aGlzLmdldERhdGEoKTsNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoInN1Ym1pdGVkIiwgdHJ1ZSk7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGVkaXROb2RlVXNlcih0aGlzLmZvcm0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip8iKTsNCiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YSgpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICBjbGlja1JvbGUodikgew0KICAgICAgdGhpcy5jaG9vc2VSb2xlID0gdjsNCiAgICB9LA0KICAgIGNsaWNrVXNlcih2KSB7DQogICAgICB0aGlzLmNob29zZVVzZXIgPSB2Ow0KICAgIH0sDQogICAgY2xpY2tEZXBhcnRtZW50KHYpIHsNCiAgICAgIHRoaXMuY2hvb3NlRGVwYXJ0bWVudCA9IHY7DQogICAgfSwNCiAgICBoYW5kbGVTZWxlY3REZXBUcmVlKHYpIHsNCiAgICAgIHRoaXMuZm9ybS5kZXBhcnRtZW50SWRzID0gdjsNCiAgICB9LA0KICAgIGNsb3NlKCkgew0KICAgICAgdGhpcy4kZW1pdCgiY2xvc2UiLCB0cnVlKTsNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuaW5pdCgpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["processNodeEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"processNodeEdit.vue","sourceRoot":"src/views/activiti/process-manage","sourcesContent":["<style lang=\"less\">\r\n@import \"@/styles/tree-common.less\";\r\n@import \"@/styles/single-common.less\";\r\n@import \"./processManage.less\";\r\n</style>\r\n<template>\r\n  <div class=\"search\">\r\n    <Card style=\"min-height: 600px\">\r\n      <div slot=\"title\">\r\n        <div class=\"edit-head\">\r\n          <a @click=\"close\" class=\"back-title\">\r\n            <Icon type=\"ios-arrow-back\" />返回\r\n          </a>\r\n          <div class=\"head-name\">{{ processName }} 流程配置</div>\r\n          <span></span>\r\n          <a @click=\"close\" class=\"window-close\">\r\n            <Icon type=\"ios-close\" size=\"31\" class=\"ivu-icon-ios-close\" />\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div\r\n        style=\"display: flex; justify-content: center; margin: 10px 0 30px 0\"\r\n      >\r\n        <Steps :current=\"current\" style=\"width: 400px\">\r\n          <Step title=\"基本配置\"></Step>\r\n          <Step title=\"节点审批人配置\"></Step>\r\n        </Steps>\r\n      </div>\r\n      <Row type=\"flex\" justify=\"center\" v-show=\"current == 0\">\r\n        <Col :xs=\"24\" :md=\"24\" :lg=\"16\" :xl=\"9\">\r\n          <Form\r\n            ref=\"basicForm\"\r\n            :model=\"basicForm\"\r\n            label-position=\"left\"\r\n            :label-width=\"110\"\r\n            :rules=\"formValidate\"\r\n          >\r\n            <FormItem label=\"关联表单路由\" prop=\"routeName\">\r\n              <Select\r\n                v-model=\"basicForm.routeName\"\r\n                placeholder=\"请选择关联业务表单前端路由名\"\r\n                clearable\r\n                @on-change=\"handelSubmitEdit\"\r\n              >\r\n                <Option\r\n                  v-for=\"(item, i) in dictForm\"\r\n                  :key=\"i\"\r\n                  :value=\"item.value\"\r\n                  :label=\"item.title\"\r\n                >\r\n                  <span style=\"margin-right: 10px\">{{ item.title }}</span>\r\n                  <span style=\"color: #ccc\">{{ item.value }}</span>\r\n                </Option>\r\n              </Select>\r\n            </FormItem>\r\n            <FormItem label=\"关联业务表\" prop=\"businessTable\">\r\n              <Select\r\n                v-model=\"basicForm.businessTable\"\r\n                placeholder=\"请选择关联数据库业务表\"\r\n                clearable\r\n                @on-change=\"handelSubmitEdit\"\r\n              >\r\n                <Option\r\n                  v-for=\"(item, i) in dictTable\"\r\n                  :key=\"i\"\r\n                  :value=\"item.value\"\r\n                  :label=\"item.title\"\r\n                >\r\n                  <span style=\"margin-right: 10px\">{{ item.title }}</span>\r\n                  <span style=\"color: #ccc\">{{ item.value }}</span>\r\n                </Option>\r\n              </Select>\r\n            </FormItem>\r\n            <FormItem label=\"流程分类\" class=\"form-noheight\">\r\n              <div style=\"display: flex\">\r\n                <Input\r\n                  v-model=\"categoryTitle\"\r\n                  readonly\r\n                  clearable\r\n                  @on-clear=\"clearSelectCat\"\r\n                  style=\"margin-right: 10px\"\r\n                />\r\n                <Poptip\r\n                  trigger=\"click\"\r\n                  placement=\"right\"\r\n                  title=\"选择类别\"\r\n                  width=\"250\"\r\n                >\r\n                  <Button icon=\"md-list\">选择分类</Button>\r\n                  <div slot=\"content\">\r\n                    <Input\r\n                      v-model=\"searchKey\"\r\n                      suffix=\"ios-search\"\r\n                      @on-change=\"searchCat\"\r\n                      placeholder=\"输入分类名搜索\"\r\n                      clearable\r\n                    />\r\n                    <div class=\"tree-list\">\r\n                      <Tree\r\n                        :data=\"dataCat\"\r\n                        :load-data=\"loadDataTree\"\r\n                        :render=\"renderCatContent\"\r\n                      ></Tree>\r\n                      <Spin size=\"large\" fix v-if=\"catLoading\"></Spin>\r\n                    </div>\r\n                  </div>\r\n                </Poptip>\r\n              </div>\r\n            </FormItem>\r\n            <FormItem label=\"备注描述\" prop=\"description\">\r\n              <Input\r\n                v-model=\"basicForm.description\"\r\n                type=\"textarea\"\r\n                :rows=\"4\"\r\n                @on-blur=\"handelSubmitEdit\"\r\n              />\r\n            </FormItem>\r\n            <FormItem class=\"br\">\r\n              <Button type=\"warning\" @click=\"current = 1\">\r\n                下一步\r\n                <Icon type=\"ios-arrow-forward\" />\r\n              </Button>\r\n              <Button @click=\"close\">关闭</Button>\r\n            </FormItem>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n      <Row type=\"flex\" justify=\"start\" v-if=\"current == 1\">\r\n        <Col :md=\"8\" :lg=\"8\" :xl=\"6\">\r\n          <Alert show-icon>\r\n            当前选择编辑：\r\n            <span class=\"select-title\">{{ editTitle }}</span>\r\n            <a class=\"select-clear\" v-if=\"form.id\" @click=\"cancelEdit\"\r\n              >取消选择</a\r\n            >\r\n          </Alert>\r\n          <div class=\"tree-bar\">\r\n            <Tree\r\n              ref=\"tree\"\r\n              :data=\"data\"\r\n              :render=\"renderContent\"\r\n              @on-select-change=\"selectTree\"\r\n            ></Tree>\r\n            <Spin size=\"large\" fix v-if=\"loading\"></Spin>\r\n          </div>\r\n        </Col>\r\n        <Col :md=\"15\" :lg=\"13\" :xl=\"10\" style=\"margin-left: 10px\">\r\n          <Alert type=\"warning\" show-icon style=\"margin-left: 1vw\"\r\n            >温馨提示：若流程运行至未分配审批人员的审批节点时，流程将自动提前结束</Alert\r\n          >\r\n          <Form\r\n            ref=\"form\"\r\n            :model=\"form\"\r\n            :label-width=\"90\"\r\n            style=\"position: relative\"\r\n          >\r\n            <FormItem label=\"节点名称\" prop=\"title\">\r\n              {{ form.title }}\r\n              <Tooltip\r\n                content=\"配置可看到该流程的所属用户，默认所有人可发起\"\r\n                placement=\"right\"\r\n                transfer\r\n                max-width=\"280\"\r\n                style=\"display: inline-block !important\"\r\n              >\r\n                <Icon\r\n                  type=\"md-help-circle\"\r\n                  size=\"20\"\r\n                  color=\"#c5c5c5\"\r\n                  style=\"margin-left: 5px; cursor: pointer\"\r\n                  v-show=\"form.type == 0\"\r\n                />\r\n              </Tooltip>\r\n            </FormItem>\r\n            <FormItem label=\"节点类型\" prop=\"type\">\r\n              <Select v-model=\"form.type\" disabled style=\"width: 300px\">\r\n                <Option\r\n                  v-for=\"(item, i) in dictNodeType\"\r\n                  :key=\"i\"\r\n                  :value=\"item.value\"\r\n                  >{{ item.title }}</Option\r\n                >\r\n              </Select>\r\n            </FormItem>\r\n            <div v-show=\"form.type == 0\">\r\n              <FormItem label=\"可发起人员\">\r\n                <Checkbox v-model=\"allUser\">\r\n                  <Icon type=\"md-contacts\" style=\"margin: 0 2px 0 0\"></Icon>\r\n                  <span>所有人</span>\r\n                </Checkbox>\r\n                <Checkbox\r\n                  v-model=\"chooseRole\"\r\n                  @on-change=\"clickRole\"\r\n                  :disabled=\"allUser\"\r\n                >\r\n                  <Icon\r\n                    type=\"md-people\"\r\n                    size=\"14\"\r\n                    style=\"margin: 0 2px 0 0\"\r\n                  ></Icon>\r\n                  <span>指定角色</span>\r\n                </Checkbox>\r\n                <Checkbox\r\n                  v-model=\"chooseDepartment\"\r\n                  @on-change=\"clickDepartment\"\r\n                  :disabled=\"allUser\"\r\n                >\r\n                  <Icon type=\"ios-people\" style=\"margin: 0 2px 0 0\"></Icon>\r\n                  <span>指定部门</span>\r\n                </Checkbox>\r\n                <Checkbox\r\n                  v-model=\"chooseUser\"\r\n                  @on-change=\"clickUser\"\r\n                  :disabled=\"allUser\"\r\n                >\r\n                  <Icon type=\"md-person\" style=\"margin: 0 2px 0 0\"></Icon>\r\n                  <span>指定人员</span>\r\n                </Checkbox>\r\n              </FormItem>\r\n            </div>\r\n            <div v-show=\"form.type == 1\">\r\n              <FormItem label=\"可审批人员\">\r\n                <Checkbox\r\n                  v-model=\"chooseRole\"\r\n                  @on-change=\"clickRole\"\r\n                  :disabled=\"form.customUser\"\r\n                >\r\n                  <Icon\r\n                    type=\"md-people\"\r\n                    size=\"14\"\r\n                    style=\"margin: 0 2px 0 0\"\r\n                  ></Icon>\r\n                  <span>指定角色</span>\r\n                </Checkbox>\r\n                <Checkbox\r\n                  v-model=\"chooseDepartment\"\r\n                  @on-change=\"clickDepartment\"\r\n                  :disabled=\"form.customUser\"\r\n                >\r\n                  <Icon type=\"ios-people\" style=\"margin: 0 2px 0 0\"></Icon>\r\n                  <span>指定部门负责人</span>\r\n                </Checkbox>\r\n                <Checkbox\r\n                  v-model=\"chooseUser\"\r\n                  @on-change=\"clickUser\"\r\n                  :disabled=\"form.customUser\"\r\n                >\r\n                  <Icon type=\"md-person\" style=\"margin: 0 2px 0 0\"></Icon>\r\n                  <span>指定人员</span>\r\n                </Checkbox>\r\n                <Checkbox v-model=\"form.customUser\">\r\n                  <Icon type=\"md-contacts\" style=\"margin: 0 2px 0 0\"></Icon>\r\n                  <span>审批人自选</span>\r\n                  <Tooltip\r\n                    content=\"审批人任意自选用户，请勿在网关后设置\"\r\n                    placement=\"right\"\r\n                    transfer\r\n                    max-width=\"280\"\r\n                    style=\"display: inline-block !important\"\r\n                  >\r\n                    <Icon\r\n                      type=\"md-help-circle\"\r\n                      size=\"20\"\r\n                      color=\"#c5c5c5\"\r\n                      style=\"margin-left: 10px; cursor: pointer\"\r\n                    />\r\n                  </Tooltip>\r\n                </Checkbox>\r\n                <Checkbox\r\n                  v-model=\"form.chooseDepHeader\"\r\n                  :disabled=\"form.customUser\"\r\n                >\r\n                  <Icon type=\"md-person\" style=\"margin: 0 2px 0 0\"></Icon>\r\n                  <span>连续多级部门负责人</span>\r\n                  <Tooltip\r\n                    content=\"自动获取发起人向上的各级负责人依次审批\"\r\n                    placement=\"right\"\r\n                    transfer\r\n                    max-width=\"280\"\r\n                    style=\"display: inline-block !important\"\r\n                  >\r\n                    <Icon\r\n                      type=\"md-help-circle\"\r\n                      size=\"20\"\r\n                      color=\"#c5c5c5\"\r\n                      style=\"margin-left: 10px; cursor: pointer\"\r\n                    />\r\n                  </Tooltip>\r\n                </Checkbox>\r\n              </FormItem>\r\n            </div>\r\n            <FormItem\r\n              label=\"选择角色\"\r\n              v-show=\"\r\n                chooseRole &&\r\n                ((form.type == 0 && !allUser) ||\r\n                  (form.type == 1 && !form.customUser))\r\n              \"\r\n            >\r\n              <Select v-model=\"form.roles\" multiple>\r\n                <Option\r\n                  v-for=\"item in roleList\"\r\n                  :value=\"item.id\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.name\"\r\n                >\r\n                  <span style=\"margin-right: 10px\">{{ item.name }}</span>\r\n                  <span style=\"color: #ccc\">{{ item.description }}</span>\r\n                </Option>\r\n              </Select>\r\n            </FormItem>\r\n            <div\r\n              v-show=\"\r\n                chooseDepartment &&\r\n                ((form.type == 0 && !allUser) ||\r\n                  (form.type == 1 && !form.customUser))\r\n              \"\r\n            >\r\n              <FormItem label=\"选择部门\" class=\"form-noheight\">\r\n                <department-tree-choose\r\n                  multiple\r\n                  width=\"250px\"\r\n                  @on-change=\"handleSelectDepTree\"\r\n                  ref=\"depTree\"\r\n                ></department-tree-choose>\r\n              </FormItem>\r\n            </div>\r\n            <div\r\n              v-show=\"\r\n                chooseUser &&\r\n                ((form.type == 0 && !allUser) ||\r\n                  (form.type == 1 && !form.customUser))\r\n              \"\r\n            >\r\n              <FormItem label=\"选择用户\">\r\n                <user-choose v-model=\"selectUsers\"></user-choose>\r\n              </FormItem>\r\n            </div>\r\n            <FormItem class=\"br\">\r\n              <Button\r\n                type=\"primary\"\r\n                :loading=\"submitLoading\"\r\n                @click=\"handelSubmit\"\r\n                :disabled=\"form.type != 0 && form.type != 1\"\r\n                >保存并提交</Button\r\n              >\r\n              <Button type=\"warning\" icon=\"ios-arrow-back\" @click=\"current = 0\"\r\n                >上一步</Button\r\n              >\r\n              <Button @click=\"close\">关闭</Button>\r\n            </FormItem>\r\n            <Spin size=\"large\" fix v-if=\"nodeLoading\"></Spin>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getProcessNode,\r\n  editStartUser,\r\n  editNodeUser,\r\n  updateInfo,\r\n  initActCategory,\r\n  loadActCategory,\r\n  searchActCategory,\r\n} from \"@/api/activiti\";\r\nimport { getAllRoleList, getDictDataByType } from \"@/api/index\";\r\nimport userChoose from \"@/views/my-components/xboot/user-choose\";\r\nimport departmentTreeChoose from \"@/views/my-components/xboot/department-tree-choose\";\r\nexport default {\r\n  name: \"process_node_edit\",\r\n  components: {\r\n    userChoose,\r\n    departmentTreeChoose,\r\n  },\r\n  props: {\r\n    nodeEditData: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false, // 表单加载状态\r\n      nodeLoading: false,\r\n      data: [],\r\n      editTitle: \"\",\r\n      selectUsers: [],\r\n      dataCat: [],\r\n      catLoading: false,\r\n      searchKey: \"\",\r\n      basicForm: {\r\n        routeName: \"\",\r\n        businessTable: \"\",\r\n        description: \"\",\r\n      },\r\n      formValidate: {\r\n        routeName: [{ required: true, message: \"不能为空\", trigger: \"change\" }],\r\n        businessTable: [\r\n          { required: true, message: \"不能为空\", trigger: \"change\" },\r\n        ],\r\n      },\r\n      categoryTitle: \"\",\r\n      dictTable: [],\r\n      dictForm: [],\r\n      form: {\r\n        // 添加或编辑表单对象初始化数据\r\n        title: \"\",\r\n        content: \"\",\r\n        type: null,\r\n        roles: [],\r\n        departmentIds: [],\r\n        chooseDepHeader: false,\r\n        customUser: false,\r\n      },\r\n      roleList: [],\r\n      submitLoading: false, // 添加或编辑提交状态\r\n      chooseRole: false,\r\n      chooseUser: false,\r\n      chooseDepartment: false,\r\n      allUser: true,\r\n      current: 0,\r\n      dictNodeType: [],\r\n      processName: \"\",\r\n      processId: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getDictDataType();\r\n      this.getRoleList();\r\n      this.initCategoryTreeData();\r\n      this.processId = this.nodeEditData.id;\r\n      this.processName = this.nodeEditData.name;\r\n      this.basicForm.id = this.nodeEditData.id;\r\n      this.basicForm.routeName = this.nodeEditData.routeName;\r\n      this.basicForm.businessTable = this.nodeEditData.businessTable;\r\n      this.basicForm.description = this.nodeEditData.description;\r\n      this.basicForm.categoryId = this.nodeEditData.categoryId;\r\n      this.categoryTitle = this.nodeEditData.categoryTitle;\r\n      let allUser = this.nodeEditData.allUser + \"\";\r\n      if (allUser == \"false\") {\r\n        this.allUser = false;\r\n      } else {\r\n        this.allUser = true;\r\n      }\r\n    },\r\n    getDictDataType() {\r\n      getDictDataByType(\"process_node_type\").then((res) => {\r\n        if (res.success) {\r\n          this.dictNodeType = res.result;\r\n          this.getData();\r\n        }\r\n      });\r\n      getDictDataByType(\"business_table\").then((res) => {\r\n        if (res.success) {\r\n          this.dictTable = res.result;\r\n        }\r\n      });\r\n      getDictDataByType(\"business_form\").then((res) => {\r\n        if (res.success) {\r\n          this.dictForm = res.result;\r\n        }\r\n      });\r\n    },\r\n    renderCatContent(h, { root, node, data }) {\r\n      let icon = \"\";\r\n      if (data.type == \"0\") {\r\n        icon = \"md-folder-open\";\r\n      } else if (data.type == \"1\") {\r\n        icon = \"ios-bookmark-outline\";\r\n      }\r\n      return h(\r\n        \"span\",\r\n        {\r\n          style: {\r\n            display: \"inline-block\",\r\n            cursor: \"pointer\",\r\n          },\r\n          on: {\r\n            click: () => {\r\n              this.selectCatTree(data);\r\n            },\r\n          },\r\n        },\r\n        [\r\n          h(\"span\", [\r\n            h(\"Icon\", {\r\n              props: {\r\n                type: icon,\r\n                size: \"16\",\r\n              },\r\n              style: {\r\n                \"margin-right\": \"8px\",\r\n                \"margin-bottom\": \"3px\",\r\n              },\r\n            }),\r\n            h(\"span\", data.title),\r\n          ]),\r\n        ]\r\n      );\r\n    },\r\n    initCategoryTreeData() {\r\n      initActCategory().then((res) => {\r\n        if (res.success) {\r\n          res.result.forEach(function (e) {\r\n            if (e.isParent) {\r\n              e.loading = false;\r\n              e.children = [];\r\n            }\r\n            if (e.status == -1) {\r\n              e.title = \"[已禁用] \" + e.title;\r\n              e.disabled = true;\r\n            }\r\n          });\r\n          this.dataCat = res.result;\r\n        }\r\n      });\r\n    },\r\n    loadDataTree(item, callback) {\r\n      loadActCategory(item.id).then((res) => {\r\n        if (res.success) {\r\n          res.result.forEach(function (e) {\r\n            if (e.isParent) {\r\n              e.loading = false;\r\n              e.children = [];\r\n            }\r\n            if (e.status == -1) {\r\n              e.title = \"[已禁用] \" + e.title;\r\n              e.disabled = true;\r\n            }\r\n          });\r\n          callback(res.result);\r\n        }\r\n      });\r\n    },\r\n    searchCat() {\r\n      // 搜索部门\r\n      if (this.searchKey) {\r\n        this.catLoading = true;\r\n        searchActCategory({ title: this.searchKey }).then((res) => {\r\n          this.catLoading = false;\r\n          if (res.success) {\r\n            res.result.forEach(function (e) {\r\n              if (e.status == -1) {\r\n                e.title = \"[已禁用] \" + e.title;\r\n                e.disabled = true;\r\n              }\r\n            });\r\n            this.dataCat = res.result;\r\n          }\r\n        });\r\n      } else {\r\n        this.initCategoryTreeData();\r\n      }\r\n    },\r\n    selectCatTree(v) {\r\n      if (v) {\r\n        // 转换null为\"\"\r\n        for (let attr in v) {\r\n          if (v[attr] == null) {\r\n            v[attr] = \"\";\r\n          }\r\n        }\r\n        let str = JSON.stringify(v);\r\n        let data = JSON.parse(str);\r\n        if (data.type == 0) {\r\n          this.$Message.warning(\"请选择一个类别\");\r\n          return;\r\n        }\r\n        this.basicForm.categoryId = data.id;\r\n        this.categoryTitle = data.title;\r\n        this.handelSubmitEdit();\r\n      }\r\n    },\r\n    clearSelectCat() {\r\n      this.basicForm.categoryId = \"\";\r\n      this.categoryTitle = \"\";\r\n      this.handelSubmitEdit();\r\n    },\r\n    handelSubmitEdit() {\r\n      this.$refs.basicForm.validate((valid) => {\r\n        if (valid) {\r\n          updateInfo(this.basicForm).then((res) => {\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.$emit(\"submited\", true);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    getRoleList() {\r\n      getAllRoleList().then((res) => {\r\n        if (res.success) {\r\n          this.roleList = res.result;\r\n        }\r\n      });\r\n    },\r\n    getData() {\r\n      this.loading = true;\r\n      getProcessNode(this.processId).then((res) => {\r\n        this.loading = false;\r\n        if (res.success) {\r\n          // 转换null为\"\"\r\n          let v = res.result;\r\n          for (let attr in v) {\r\n            if (v[attr] == null) {\r\n              v[attr] = \"\";\r\n            }\r\n          }\r\n          let str = JSON.stringify(v);\r\n          let data = JSON.parse(str);\r\n          data.forEach((e) => {\r\n            this.dictNodeType.forEach((t) => {\r\n              t.value = Number(t.value);\r\n              if (!e.title && e.type == t.value) {\r\n                e.title = t.title;\r\n              }\r\n            });\r\n          });\r\n          this.data = data;\r\n        }\r\n      });\r\n    },\r\n    renderContent(h, { root, node, data }) {\r\n      let color = \"\",\r\n        word = \"\",\r\n        title = data.title;\r\n      if (data.type == 0) {\r\n        color = \"#47cb89\";\r\n        word = \"开\";\r\n        title = title + \"【谁可以发起】\";\r\n      } else if (data.type == 1) {\r\n        color = \"#2db7f5\";\r\n        word = \"审\";\r\n      } else if (data.type == 2) {\r\n        word = \"结\";\r\n      } else {\r\n        color = \"#f90\";\r\n        word = \"其他\";\r\n      }\r\n      return h(\"span\", [\r\n        h(\"span\", [\r\n          h(\r\n            \"Avatar\",\r\n            {\r\n              props: {\r\n                size: \"small\",\r\n              },\r\n              style: {\r\n                background: color,\r\n                \"margin-right\": \"5px\",\r\n              },\r\n            },\r\n            word\r\n          ),\r\n          h(\"span\", title),\r\n        ]),\r\n      ]);\r\n    },\r\n    selectTree(v) {\r\n      if (v.length > 0) {\r\n        // 转换null为\"\"\r\n        for (let attr in v[0]) {\r\n          if (v[0][attr] == null) {\r\n            v[0][attr] = \"\";\r\n          }\r\n        }\r\n        let str = JSON.stringify(v[0]);\r\n        let data = JSON.parse(str);\r\n        this.editTitle = data.title;\r\n        // 回显用户\r\n        if (data.users && data.users.length > 0) {\r\n          this.chooseUser = true;\r\n          this.selectUsers = data.users;\r\n        } else {\r\n          this.chooseUser = false;\r\n          this.selectUsers = [];\r\n        }\r\n        // 回显角色\r\n        if (data.roles && data.roles.length > 0) {\r\n          this.chooseRole = true;\r\n          let roleIds = [];\r\n          data.roles.forEach((e) => {\r\n            roleIds.push(e.id);\r\n          });\r\n          data.roles = roleIds;\r\n        } else {\r\n          this.chooseRole = false;\r\n        }\r\n        // 回显部门\r\n        if (data.departments && data.departments.length > 0) {\r\n          this.chooseDepartment = true;\r\n          let departmentIds = [],\r\n            title = \"\";\r\n          data.departments.forEach((e) => {\r\n            departmentIds.push(e.id);\r\n            if (title == \"\") {\r\n              title = e.title;\r\n            } else {\r\n              title = title + \"、\" + e.title;\r\n            }\r\n          });\r\n          this.$refs.depTree.setData(departmentIds, title);\r\n          data.departmentIds = departmentIds;\r\n        } else {\r\n          this.chooseDepartment = false;\r\n          this.$refs.depTree.setData([], \"\");\r\n        }\r\n        this.form = data;\r\n      } else {\r\n        this.cancelEdit();\r\n      }\r\n    },\r\n    cancelEdit() {\r\n      let data = this.$refs.tree.getSelectedNodes()[0];\r\n      if (data) {\r\n        data.selected = false;\r\n      }\r\n      this.$refs.form.resetFields();\r\n      this.form.id = \"\";\r\n      delete this.form.id;\r\n      this.editTitle = \"\";\r\n    },\r\n    handelSubmit() {\r\n      this.submitLoading = true;\r\n      // 用户id数据\r\n      let ids = [];\r\n      this.selectUsers.forEach((e) => {\r\n        ids += e.id + \",\";\r\n      });\r\n      if (ids.length > 0) {\r\n        ids = ids.substring(0, ids.length - 1);\r\n      }\r\n      this.form.nodeId = this.form.id;\r\n      if (this.chooseUser) {\r\n        if (ids && ids.length > 0) {\r\n          this.form.userIds = ids;\r\n        }\r\n      }\r\n      if (this.chooseRole) {\r\n        if (this.form.roles && this.form.roles.length > 0) {\r\n          this.form.roleIds = this.form.roles;\r\n        }\r\n      }\r\n      if (this.form.type == 0) {\r\n        this.form.nodeId = this.processId;\r\n        this.form.allUser = this.allUser;\r\n        editStartUser(this.form).then((res) => {\r\n          this.submitLoading = false;\r\n          if (res.success) {\r\n            this.$Message.success(\"操作成功\");\r\n            this.getData();\r\n            this.$emit(\"submited\", true);\r\n          }\r\n        });\r\n      } else {\r\n        editNodeUser(this.form).then((res) => {\r\n          this.submitLoading = false;\r\n          if (res.success) {\r\n            this.$Message.success(\"操作成功\");\r\n            this.getData();\r\n          }\r\n        });\r\n      }\r\n    },\r\n    clickRole(v) {\r\n      this.chooseRole = v;\r\n    },\r\n    clickUser(v) {\r\n      this.chooseUser = v;\r\n    },\r\n    clickDepartment(v) {\r\n      this.chooseDepartment = v;\r\n    },\r\n    handleSelectDepTree(v) {\r\n      this.form.departmentIds = v;\r\n    },\r\n    close() {\r\n      this.$emit(\"close\", true);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n};\r\n</script>"]}]}